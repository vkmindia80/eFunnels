{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Mail,Plus,Send,Eye,Trash2,Copy,Settings,Edit,ArrowLeft,Users,Calendar,BarChart2,Check,Search,Layout,TrendingUp,MousePointer,ChevronRight,Clock,Sparkles}from'lucide-react';import api from'../api';import EmailBuilder from'./EmailBuilder/EmailBuilder';// Email Marketing Main Page\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmailMarketingPage=()=>{const[activeView,setActiveView]=useState('campaigns');return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Email Marketing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Create, send, and track email campaigns\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[activeView==='campaigns'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView('create-campaign'),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"new-campaign-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"New Campaign\"]}),activeView==='templates'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView('create-template'),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"new-template-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"New Template\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex border-b border-gray-200\",children:[{id:'campaigns',label:'Campaigns',icon:Mail},{id:'templates',label:'Templates',icon:Layout},{id:'analytics',label:'Analytics',icon:BarChart2},{id:'settings',label:'Settings',icon:Settings}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView(tab.id),className:\"flex items-center gap-2 px-6 py-4 font-medium transition \".concat(activeView===tab.id?'text-blue-600 border-b-2 border-blue-600':'text-gray-600 hover:text-gray-900'),\"data-testid\":\"tab-\".concat(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{size:18}),tab.label]},tab.id))})}),activeView==='campaigns'&&/*#__PURE__*/_jsx(CampaignsView,{onCreateNew:()=>setActiveView('create-campaign')}),activeView==='templates'&&/*#__PURE__*/_jsx(TemplatesView,{onCreateNew:()=>setActiveView('create-template')}),activeView==='analytics'&&/*#__PURE__*/_jsx(AnalyticsView,{}),activeView==='settings'&&/*#__PURE__*/_jsx(EmailSettingsView,{}),activeView==='create-campaign'&&/*#__PURE__*/_jsx(CreateCampaignWizard,{onBack:()=>setActiveView('campaigns')}),activeView==='create-template'&&/*#__PURE__*/_jsx(EmailBuilder,{onBack:()=>setActiveView('templates'),isTemplate:true})]});};// Campaigns List View (keeping existing implementation)\nconst CampaignsView=_ref=>{let{onCreateNew}=_ref;const[campaigns,setCampaigns]=useState([]);const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const[statusFilter,setStatusFilter]=useState('all');useEffect(()=>{loadCampaigns();},[statusFilter]);const loadCampaigns=async()=>{try{setLoading(true);const params=statusFilter!=='all'?{status:statusFilter}:{};const response=await api.get('/api/email/campaigns',{params});setCampaigns(response.data.campaigns||[]);}catch(error){console.error('Error loading campaigns:',error);}finally{setLoading(false);}};const deleteCampaign=async id=>{if(!window.confirm('Delete this campaign?'))return;try{await api.delete(\"/api/email/campaigns/\".concat(id));loadCampaigns();}catch(error){console.error('Error deleting campaign:',error);}};const filteredCampaigns=campaigns.filter(c=>c.name.toLowerCase().includes(searchQuery.toLowerCase())||c.subject.toLowerCase().includes(searchQuery.toLowerCase()));const getStatusBadge=status=>{const badges={draft:'bg-gray-100 text-gray-800',scheduled:'bg-blue-100 text-blue-800',sending:'bg-yellow-100 text-yellow-800',sent:'bg-green-100 text-green-800',paused:'bg-orange-100 text-orange-800',failed:'bg-red-100 text-red-800'};return badges[status]||badges.draft;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",\"data-testid\":\"campaigns-loading\",children:\"Loading campaigns...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search campaigns...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"campaigns-search\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"campaigns-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scheduled\",children:\"Scheduled\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sent\",children:\"Sent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sending\",children:\"Sending\"})]})]})}),filteredCampaigns.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\",\"data-testid\":\"campaigns-empty\",children:[/*#__PURE__*/_jsx(Mail,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No campaigns yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first email campaign to get started\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onCreateNew,className:\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\",\"data-testid\":\"create-first-campaign-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create First Campaign\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",\"data-testid\":\"campaigns-grid\",children:filteredCampaigns.map(campaign=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition\",\"data-testid\":\"campaign-card-\".concat(campaign.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-1\",children:campaign.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-2\",children:campaign.subject})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusBadge(campaign.status)),children:campaign.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Users,{size:14}),/*#__PURE__*/_jsxs(\"span\",{children:[campaign.total_recipients||0,\" recipients\"]})]}),campaign.sent_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Calendar,{size:14}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Sent \",new Date(campaign.sent_at).toLocaleDateString()]})]})]}),campaign.status==='sent'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2 mb-4 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:campaign.total_sent||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Sent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[campaign.total_sent>0?Math.round(campaign.total_opened/campaign.total_sent*100):0,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Opened\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[campaign.total_opened>0?Math.round(campaign.total_clicked/campaign.total_opened*100):0,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Clicked\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm font-medium\",\"data-testid\":\"view-campaign-\".concat(campaign.id),children:[/*#__PURE__*/_jsx(Eye,{size:16,className:\"inline mr-2\"}),\"View\"]}),campaign.status==='draft'&&/*#__PURE__*/_jsxs(\"button\",{className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium\",\"data-testid\":\"send-campaign-\".concat(campaign.id),children:[/*#__PURE__*/_jsx(Send,{size:16,className:\"inline mr-2\"}),\"Send\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCampaign(campaign.id),className:\"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition\",\"data-testid\":\"delete-campaign-\".concat(campaign.id),children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]})},campaign.id))})]});};// Templates View (keeping existing)\nconst TemplatesView=_ref2=>{let{onCreateNew}=_ref2;const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadTemplates();},[]);const loadTemplates=async()=>{try{setLoading(true);const response=await api.get('/api/email/templates');setTemplates(response.data||[]);}catch(error){console.error('Error loading templates:',error);}finally{setLoading(false);}};const deleteTemplate=async id=>{if(!window.confirm('Delete this template?'))return;try{await api.delete(\"/api/email/templates/\".concat(id));loadTemplates();}catch(error){console.error('Error deleting template:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:\"Loading templates...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:templates.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\",\"data-testid\":\"templates-empty\",children:[/*#__PURE__*/_jsx(Layout,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No templates yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create reusable email templates to speed up your workflow\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onCreateNew,className:\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\",\"data-testid\":\"create-first-template-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create First Template\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\"data-testid\":\"templates-grid\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden\",\"data-testid\":\"template-card-\".concat(template.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center border-b border-gray-200\",children:template.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:template.thumbnail,alt:template.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(Layout,{size:48,className:\"text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-1\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3 line-clamp-2\",children:template.subject}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-gray-500 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-gray-100 rounded\",children:template.category}),/*#__PURE__*/_jsxs(\"span\",{children:[template.usage_count||0,\" uses\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm font-medium\",\"data-testid\":\"edit-template-\".concat(template.id),children:[/*#__PURE__*/_jsx(Edit,{size:14,className:\"inline mr-1\"}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition\",\"data-testid\":\"copy-template-\".concat(template.id),children:/*#__PURE__*/_jsx(Copy,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTemplate(template.id),className:\"px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition\",\"data-testid\":\"delete-template-\".concat(template.id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]})]},template.id))})});};// 5-Step Campaign Creation Wizard\nconst CreateCampaignWizard=_ref3=>{let{onBack}=_ref3;const[currentStep,setCurrentStep]=useState(1);const[campaignData,setCampaignData]=useState({name:'',subject:'',preview_text:'',from_name:'',from_email:'',reply_to:'',recipient_type:'all',recipient_list:[],content:{blocks:[]},schedule_type:'immediate',scheduled_at:'',enable_ab_test:false});const[contacts,setContacts]=useState([]);const[segments,setSegments]=useState([]);const[isSubmitting,setIsSubmitting]=useState(false);const[showEmailBuilder,setShowEmailBuilder]=useState(false);const steps=[{num:1,title:'Campaign Details',icon:Edit},{num:2,title:'Select Recipients',icon:Users},{num:3,title:'Design Email',icon:Layout},{num:4,title:'Schedule',icon:Calendar},{num:5,title:'Review & Send',icon:Send}];// Load contacts and segments\nuseEffect(()=>{loadContactsAndSegments();},[]);const loadContactsAndSegments=async()=>{try{const[contactsRes,segmentsRes]=await Promise.all([api.get('/api/contacts'),api.get('/api/segments')]);setContacts(contactsRes.data.contacts||[]);setSegments(segmentsRes.data||[]);}catch(error){console.error('Error loading contacts/segments:',error);}};const updateCampaignData=(field,value)=>{setCampaignData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const nextStep=()=>{if(validateCurrentStep()){setCurrentStep(prev=>prev+1);}};const prevStep=()=>{setCurrentStep(prev=>prev-1);};const validateCurrentStep=()=>{switch(currentStep){case 1:if(!campaignData.name||!campaignData.subject||!campaignData.from_name||!campaignData.from_email){alert('Please fill in all required fields');return false;}return true;case 2:if(campaignData.recipient_type!=='all'&&campaignData.recipient_list.length===0){alert('Please select at least one recipient');return false;}return true;case 3:if(!campaignData.content||!campaignData.content.blocks||campaignData.content.blocks.length===0){alert('Please design your email');return false;}return true;case 4:if(campaignData.schedule_type==='scheduled'&&!campaignData.scheduled_at){alert('Please select a date and time');return false;}return true;default:return true;}};const handleSubmit=async()=>{try{setIsSubmitting(true);// Create campaign\nawait api.post('/api/email/campaigns',campaignData);alert('Campaign created successfully!');onBack();}catch(error){console.error('Error creating campaign:',error);alert('Failed to create campaign. Please try again.');}finally{setIsSubmitting(false);}};const handleSendTest=async()=>{try{const testEmail=prompt('Enter email address to send test to:');if(!testEmail)return;await api.post(\"/api/email/campaigns/test\",{to_email:testEmail,subject:campaignData.subject,content:campaignData.content,from_name:campaignData.from_name,from_email:campaignData.from_email});alert(\"Test email sent to \".concat(testEmail,\"!\"));}catch(error){console.error('Error sending test:',error);alert('Failed to send test email');}};const handleAISubject=async()=>{try{const res=await api.post('/api/email/ai/improve-subject',{subject:campaignData.subject||'Amazing offer',tone:'professional'});if(res.data.alternatives&&res.data.alternatives.length>0){const selected=res.data.alternatives[0];updateCampaignData('subject',selected);}}catch(error){console.error('AI subject generation failed:',error);}};// If email builder is open, show it fullscreen\nif(showEmailBuilder){return/*#__PURE__*/_jsx(EmailBuilder,{onBack:()=>setShowEmailBuilder(false),initialData:campaignData.content.blocks.length>0?campaignData:null,isTemplate:false,onSave:emailData=>{updateCampaignData('name',emailData.name);updateCampaignData('subject',emailData.subject);updateCampaignData('content',emailData.content);setShowEmailBuilder(false);}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"p-2 hover:bg-gray-100 rounded-lg transition\",\"data-testid\":\"wizard-back-btn\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Create Campaign\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Step \",currentStep,\" of \",steps.length]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:steps.map((step,index)=>{const StepIcon=step.icon;const isCompleted=currentStep>step.num;const isCurrent=currentStep===step.num;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center transition \".concat(isCompleted?'bg-green-500 text-white':isCurrent?'bg-blue-600 text-white':'bg-gray-200 text-gray-500'),\"data-testid\":\"step-indicator-\".concat(step.num),children:isCompleted?/*#__PURE__*/_jsx(Check,{size:24}):/*#__PURE__*/_jsx(StepIcon,{size:24})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium \".concat(isCurrent?'text-blue-600':'text-gray-600'),children:step.title})})]}),index<steps.length-1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-1 mx-4 transition \".concat(isCompleted?'bg-green-500':'bg-gray-200')})]},step.num);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\",children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"step-1-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Campaign Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Enter basic information about your campaign\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Campaign Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:campaignData.name,onChange:e=>updateCampaignData('name',e.target.value),placeholder:\"e.g., Summer Sale 2024\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"campaign-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Email Subject \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAISubject,className:\"text-xs flex items-center gap-1 text-purple-600 hover:text-purple-700\",children:[/*#__PURE__*/_jsx(Sparkles,{size:14}),\"AI Improve\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:campaignData.subject,onChange:e=>updateCampaignData('subject',e.target.value),placeholder:\"e.g., \\uD83D\\uDD25 50% Off Everything - Limited Time!\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"campaign-subject-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Preview Text (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:campaignData.preview_text,onChange:e=>updateCampaignData('preview_text',e.target.value),placeholder:\"Text shown in email preview...\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"campaign-preview-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"From Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:campaignData.from_name,onChange:e=>updateCampaignData('from_name',e.target.value),placeholder:\"e.g., John from eFunnels\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"from-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"From Email \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:campaignData.from_email,onChange:e=>updateCampaignData('from_email',e.target.value),placeholder:\"e.g., hello@efunnels.com\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"from-email-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Reply-To Email (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:campaignData.reply_to,onChange:e=>updateCampaignData('reply_to',e.target.value),placeholder:\"e.g., support@efunnels.com\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"reply-to-input\"})]})]})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"step-2-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Select Recipients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Choose who will receive this campaign\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"recipient_type\",value:\"all\",checked:campaignData.recipient_type==='all',onChange:e=>{updateCampaignData('recipient_type',e.target.value);updateCampaignData('recipient_list',[]);},className:\"mt-1\",\"data-testid\":\"recipient-all\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"All Contacts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Send to all contacts in your database (\",contacts.length,\" contacts)\"]})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"recipient_type\",value:\"contacts\",checked:campaignData.recipient_type==='contacts',onChange:e=>updateCampaignData('recipient_type',e.target.value),className:\"mt-1\",\"data-testid\":\"recipient-contacts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Specific Contacts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:\"Choose individual contacts\"}),campaignData.recipient_type==='contacts'&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-3 space-y-2\",children:[contacts.map(contact=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:campaignData.recipient_list.includes(contact.id),onChange:e=>{if(e.target.checked){updateCampaignData('recipient_list',[...campaignData.recipient_list,contact.id]);}else{updateCampaignData('recipient_list',campaignData.recipient_list.filter(id=>id!==contact.id));}},\"data-testid\":\"contact-\".concat(contact.id)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[contact.first_name,\" \",contact.last_name,\" (\",contact.email,\")\"]})]},contact.id)),contacts.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-4\",children:\"No contacts available\"})]})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"recipient_type\",value:\"segments\",checked:campaignData.recipient_type==='segments',onChange:e=>updateCampaignData('recipient_type',e.target.value),className:\"mt-1\",\"data-testid\":\"recipient-segments\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Segments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:\"Send to specific segments/lists\"}),campaignData.recipient_type==='segments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[segments.map(segment=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:campaignData.recipient_list.includes(segment.id),onChange:e=>{if(e.target.checked){updateCampaignData('recipient_list',[...campaignData.recipient_list,segment.id]);}else{updateCampaignData('recipient_list',campaignData.recipient_list.filter(id=>id!==segment.id));}},\"data-testid\":\"segment-\".concat(segment.id)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:segment.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",segment.contact_count||0,\" contacts)\"]})]},segment.id)),segments.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-4\",children:\"No segments available\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-blue-50 rounded-lg border border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-blue-900\",children:[/*#__PURE__*/_jsx(Users,{size:18}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"Estimated Recipients: \",campaignData.recipient_type==='all'?contacts.length:campaignData.recipient_list.length]})]})})]})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"step-3-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Design Your Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Use our visual email builder to create your campaign\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\",children:campaignData.content.blocks&&campaignData.content.blocks.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Check,{size:48,className:\"mx-auto text-green-500 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Email Design Complete\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[campaignData.content.blocks.length,\" blocks added\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowEmailBuilder(true),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\",\"data-testid\":\"edit-email-btn\",children:[/*#__PURE__*/_jsx(Edit,{size:20}),\"Edit Email Design\"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Layout,{size:48,className:\"mx-auto text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Start Designing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Open the email builder to create your campaign\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowEmailBuilder(true),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\",\"data-testid\":\"open-email-builder-btn\",children:[/*#__PURE__*/_jsx(Layout,{size:20}),\"Open Email Builder\"]})]})})]}),currentStep===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"step-4-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Schedule Campaign\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Choose when to send your campaign\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"schedule_type\",value:\"immediate\",checked:campaignData.schedule_type==='immediate',onChange:e=>updateCampaignData('schedule_type',e.target.value),className:\"mt-1\",\"data-testid\":\"schedule-immediate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 font-medium text-gray-900 mb-1\",children:[/*#__PURE__*/_jsx(Send,{size:18}),\"Send Immediately\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Campaign will be sent as soon as you confirm\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"schedule_type\",value:\"scheduled\",checked:campaignData.schedule_type==='scheduled',onChange:e=>updateCampaignData('schedule_type',e.target.value),className:\"mt-1\",\"data-testid\":\"schedule-later\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 font-medium text-gray-900 mb-1\",children:[/*#__PURE__*/_jsx(Clock,{size:18}),\"Schedule for Later\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:\"Choose a specific date and time\"}),campaignData.schedule_type==='scheduled'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Date & Time \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:campaignData.scheduled_at,onChange:e=>updateCampaignData('scheduled_at',e.target.value),min:new Date().toISOString().slice(0,16),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"scheduled-datetime-input\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Campaign will be sent at the specified time in your local timezone\"})]})]})]})]})]}),currentStep===5&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"step-5-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Review & Send\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Review your campaign before sending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Campaign Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:campaignData.name})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(1),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Email Subject\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:campaignData.subject})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(1),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"From\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[campaignData.from_name,\" <\",campaignData.from_email,\">\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(1),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Recipients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[campaignData.recipient_type==='all'?'All Contacts':\"\".concat(campaignData.recipient_list.length,\" selected\"),' ',\"(~\",campaignData.recipient_type==='all'?contacts.length:campaignData.recipient_list.length,\" recipients)\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(2),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Email Design\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[campaignData.content.blocks.length,\" blocks\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(3),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Schedule\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:campaignData.schedule_type==='immediate'?'Send Immediately':\"Scheduled for \".concat(new Date(campaignData.scheduled_at).toLocaleString())})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(4),className:\"text-blue-600 text-sm hover:underline\",children:\"Edit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Send Test Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Send a test email to yourself before sending to all recipients\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendTest,className:\"px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition font-medium\",\"data-testid\":\"send-test-email-btn\",children:\"Send Test Email\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-yellow-600 mt-0.5\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-yellow-900 mb-1\",children:\"Ready to send?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-yellow-800\",children:[\"Once you click \\\"Create Campaign\\\", your campaign will be \",campaignData.schedule_type==='immediate'?'sent immediately':'scheduled for the specified time',\".\"]})]})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{children:currentStep>1&&/*#__PURE__*/_jsxs(\"button\",{onClick:prevStep,className:\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition font-medium flex items-center gap-2\",\"data-testid\":\"wizard-prev-btn\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:18}),\"Previous\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:currentStep<5?/*#__PURE__*/_jsxs(\"button\",{onClick:nextStep,className:\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold flex items-center gap-2\",\"data-testid\":\"wizard-next-btn\",children:[\"Next Step\",/*#__PURE__*/_jsx(ChevronRight,{size:18})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:isSubmitting,className:\"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold flex items-center gap-2 disabled:opacity-50\",\"data-testid\":\"wizard-submit-btn\",children:isSubmitting?/*#__PURE__*/_jsx(_Fragment,{children:\"Creating...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{size:18}),campaignData.schedule_type==='immediate'?'Create & Send Campaign':'Create Campaign']})})})]})]});};// Analytics View and Email Settings View (keeping from original)\nconst AnalyticsView=()=>{const[analytics,setAnalytics]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadAnalytics();},[]);const loadAnalytics=async()=>{try{setLoading(true);const response=await api.get('/api/email/analytics/summary');setAnalytics(response.data);}catch(error){console.error('Error loading analytics:',error);// Set default analytics on error\nsetAnalytics({total_campaigns:0,total_sent:0,total_delivered:0,total_opened:0,total_clicked:0,total_bounced:0,avg_open_rate:0,avg_click_rate:0});}finally{setLoading(false);}};if(loading||!analytics){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",\"data-testid\":\"analytics-loading\",children:\"Loading analytics...\"});}// Safe access with defaults\nconst totalCampaigns=analytics.total_campaigns||0;const totalSent=analytics.total_sent||0;const totalDelivered=analytics.total_delivered||0;const totalOpened=analytics.total_opened||0;const totalClicked=analytics.total_clicked||0;const totalBounced=analytics.total_bounced||0;const avgOpenRate=analytics.avg_open_rate||0;const avgClickRate=analytics.avg_click_rate||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"analytics-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Campaigns\"}),/*#__PURE__*/_jsx(Mail,{size:20,className:\"text-blue-600\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-900\",children:totalCampaigns})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Emails Sent\"}),/*#__PURE__*/_jsx(Send,{size:20,className:\"text-green-600\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-900\",children:totalSent.toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Open Rate\"}),/*#__PURE__*/_jsx(TrendingUp,{size:20,className:\"text-purple-600\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-gray-900\",children:[avgOpenRate.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Click Rate\"}),/*#__PURE__*/_jsx(MousePointer,{size:20,className:\"text-orange-600\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-gray-900\",children:[avgClickRate.toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Delivery Metrics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[{label:'Delivered',value:totalDelivered,total:totalSent,color:'bg-green-500'},{label:'Opened',value:totalOpened,total:totalSent,color:'bg-blue-500'},{label:'Clicked',value:totalClicked,total:totalSent,color:'bg-purple-500'},{label:'Bounced',value:totalBounced,total:totalSent,color:'bg-red-500'}].map(metric=>{const percentage=totalSent>0?metric.value/totalSent*100:0;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:metric.label}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[metric.value.toLocaleString(),\" (\",percentage.toFixed(1),\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(metric.color,\" h-2 rounded-full transition-all\"),style:{width:\"\".concat(percentage,\"%\")}})})]},metric.label);})})]})]});};const EmailSettingsView=()=>{const[settings,setSettings]=useState({provider:'mock',sendgrid_api_key:'',smtp_host:'',smtp_port:587,smtp_username:'',smtp_password:'',smtp_use_tls:true,aws_ses_access_key:'',aws_ses_secret_key:'',aws_ses_region:'us-east-1'});const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);useEffect(()=>{loadSettings();},[]);const loadSettings=async()=>{try{setLoading(true);const response=await api.get('/api/email/settings');if(response.data){setSettings(_objectSpread(_objectSpread({},settings),response.data));}}catch(error){console.error('Error loading settings:',error);}finally{setLoading(false);}};const handleSave=async()=>{try{setSaving(true);await api.put('/api/email/settings',settings);alert('Settings saved successfully!');}catch(error){console.error('Error saving settings:',error);alert('Failed to save settings');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:\"Loading settings...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Email Provider\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Choose your email sending provider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",children:[{value:'mock',label:'Mock',icon:'ðŸ§ª',desc:'For testing (no emails sent)'},{value:'sendgrid',label:'SendGrid',icon:'ðŸ“§',desc:'Reliable email delivery'},{value:'smtp',label:'SMTP',icon:'ðŸ”§',desc:'Custom SMTP server'},{value:'aws_ses',label:'AWS SES',icon:'â˜ï¸',desc:'Amazon email service'}].map(provider=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col items-center p-6 border-2 rounded-lg cursor-pointer transition \".concat(settings.provider===provider.value?'border-blue-500 bg-blue-50':'border-gray-200 hover:border-blue-300'),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"provider\",value:provider.value,checked:settings.provider===provider.value,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{provider:e.target.value})),className:\"sr-only\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:provider.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900 mb-1\",children:provider.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 text-center\",children:provider.desc})]},provider.value))}),settings.provider==='sendgrid'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SendGrid API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.sendgrid_api_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{sendgrid_api_key:e.target.value})),placeholder:\"SG.xxxxxxxxxxxxx\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})}),settings.provider==='smtp'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SMTP Host\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.smtp_host,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{smtp_host:e.target.value})),placeholder:\"smtp.example.com\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SMTP Port\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:settings.smtp_port,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{smtp_port:parseInt(e.target.value)})),placeholder:\"587\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.smtp_username,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{smtp_username:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.smtp_password,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{smtp_password:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.smtp_use_tls,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{smtp_use_tls:e.target.checked})),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Use TLS\"})]})]}),settings.provider==='aws_ses'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"AWS Access Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.aws_ses_access_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aws_ses_access_key:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"AWS Secret Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.aws_ses_secret_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aws_ses_secret_key:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"AWS Region\"}),/*#__PURE__*/_jsxs(\"select\",{value:settings.aws_ses_region,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{aws_ses_region:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"us-east-1\",children:\"US East (N. Virginia)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"us-west-2\",children:\"US West (Oregon)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"eu-west-1\",children:\"EU (Ireland)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"eu-central-1\",children:\"EU (Frankfurt)\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end pt-6 border-t border-gray-200 mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:saving,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold disabled:opacity-50\",children:saving?'Saving...':'Save Settings'})})]})});};export default EmailMarketingPage;","map":{"version":3,"names":["React","useState","useEffect","Mail","Plus","Send","Eye","Trash2","Copy","Settings","Edit","ArrowLeft","Users","Calendar","BarChart2","Check","Search","Layout","TrendingUp","MousePointer","ChevronRight","Clock","Sparkles","api","EmailBuilder","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmailMarketingPage","activeView","setActiveView","className","children","onClick","size","id","label","icon","map","tab","concat","CampaignsView","onCreateNew","TemplatesView","AnalyticsView","EmailSettingsView","CreateCampaignWizard","onBack","isTemplate","_ref","campaigns","setCampaigns","loading","setLoading","searchQuery","setSearchQuery","statusFilter","setStatusFilter","loadCampaigns","params","status","response","get","data","error","console","deleteCampaign","window","confirm","delete","filteredCampaigns","filter","c","name","toLowerCase","includes","subject","getStatusBadge","badges","draft","scheduled","sending","sent","paused","failed","type","placeholder","value","onChange","e","target","length","campaign","total_recipients","sent_at","Date","toLocaleDateString","total_sent","Math","round","total_opened","total_clicked","_ref2","templates","setTemplates","loadTemplates","deleteTemplate","template","thumbnail","src","alt","category","usage_count","_ref3","currentStep","setCurrentStep","campaignData","setCampaignData","preview_text","from_name","from_email","reply_to","recipient_type","recipient_list","content","blocks","schedule_type","scheduled_at","enable_ab_test","contacts","setContacts","segments","setSegments","isSubmitting","setIsSubmitting","showEmailBuilder","setShowEmailBuilder","steps","num","title","loadContactsAndSegments","contactsRes","segmentsRes","Promise","all","updateCampaignData","field","prev","_objectSpread","nextStep","validateCurrentStep","prevStep","alert","handleSubmit","post","handleSendTest","testEmail","prompt","to_email","handleAISubject","res","tone","alternatives","selected","initialData","onSave","emailData","step","index","StepIcon","isCompleted","isCurrent","checked","contact","first_name","last_name","email","segment","contact_count","min","toISOString","slice","toLocaleString","disabled","analytics","setAnalytics","loadAnalytics","total_campaigns","total_delivered","total_bounced","avg_open_rate","avg_click_rate","totalCampaigns","totalSent","totalDelivered","totalOpened","totalClicked","totalBounced","avgOpenRate","avgClickRate","toFixed","total","color","metric","percentage","style","width","settings","setSettings","provider","sendgrid_api_key","smtp_host","smtp_port","smtp_username","smtp_password","smtp_use_tls","aws_ses_access_key","aws_ses_secret_key","aws_ses_region","saving","setSaving","loadSettings","handleSave","put","desc","parseInt"],"sources":["/app/frontend/src/components/EmailMarketing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Mail, Plus, Send, Eye, Trash2, Copy, Settings, \n  Edit, ArrowLeft, Users, Calendar, BarChart2,\n  Check, Search, Layout, TrendingUp, MousePointer,\n  ChevronRight, Clock, Sparkles\n} from 'lucide-react';\nimport api from '../api';\nimport EmailBuilder from './EmailBuilder/EmailBuilder';\n\n// Email Marketing Main Page\nconst EmailMarketingPage = () => {\n  const [activeView, setActiveView] = useState('campaigns');\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-900\">Email Marketing</h2>\n          <p className=\"text-gray-600 mt-1\">Create, send, and track email campaigns</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {activeView === 'campaigns' && (\n            <button \n              onClick={() => setActiveView('create-campaign')}\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n              data-testid=\"new-campaign-btn\"\n            >\n              <Plus size={20} />\n              New Campaign\n            </button>\n          )}\n          {activeView === 'templates' && (\n            <button \n              onClick={() => setActiveView('create-template')}\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n              data-testid=\"new-template-btn\"\n            >\n              <Plus size={20} />\n              New Template\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n        <div className=\"flex border-b border-gray-200\">\n          {[\n            { id: 'campaigns', label: 'Campaigns', icon: Mail },\n            { id: 'templates', label: 'Templates', icon: Layout },\n            { id: 'analytics', label: 'Analytics', icon: BarChart2 },\n            { id: 'settings', label: 'Settings', icon: Settings },\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveView(tab.id)}\n              className={`flex items-center gap-2 px-6 py-4 font-medium transition ${\n                activeView === tab.id\n                  ? 'text-blue-600 border-b-2 border-blue-600'\n                  : 'text-gray-600 hover:text-gray-900'\n              }`}\n              data-testid={`tab-${tab.id}`}\n            >\n              <tab.icon size={18} />\n              {tab.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Content */}\n      {activeView === 'campaigns' && <CampaignsView onCreateNew={() => setActiveView('create-campaign')} />}\n      {activeView === 'templates' && <TemplatesView onCreateNew={() => setActiveView('create-template')} />}\n      {activeView === 'analytics' && <AnalyticsView />}\n      {activeView === 'settings' && <EmailSettingsView />}\n      {activeView === 'create-campaign' && <CreateCampaignWizard onBack={() => setActiveView('campaigns')} />}\n      {activeView === 'create-template' && <EmailBuilder onBack={() => setActiveView('templates')} isTemplate={true} />}\n    </div>\n  );\n};\n\n// Campaigns List View (keeping existing implementation)\nconst CampaignsView = ({ onCreateNew }) => {\n  const [campaigns, setCampaigns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n\n  useEffect(() => {\n    loadCampaigns();\n  }, [statusFilter]);\n\n  const loadCampaigns = async () => {\n    try {\n      setLoading(true);\n      const params = statusFilter !== 'all' ? { status: statusFilter } : {};\n      const response = await api.get('/api/email/campaigns', { params });\n      setCampaigns(response.data.campaigns || []);\n    } catch (error) {\n      console.error('Error loading campaigns:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteCampaign = async (id) => {\n    if (!window.confirm('Delete this campaign?')) return;\n    try {\n      await api.delete(`/api/email/campaigns/${id}`);\n      loadCampaigns();\n    } catch (error) {\n      console.error('Error deleting campaign:', error);\n    }\n  };\n\n  const filteredCampaigns = campaigns.filter(c =>\n    c.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    c.subject.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getStatusBadge = (status) => {\n    const badges = {\n      draft: 'bg-gray-100 text-gray-800',\n      scheduled: 'bg-blue-100 text-blue-800',\n      sending: 'bg-yellow-100 text-yellow-800',\n      sent: 'bg-green-100 text-green-800',\n      paused: 'bg-orange-100 text-orange-800',\n      failed: 'bg-red-100 text-red-800',\n    };\n    return badges[status] || badges.draft;\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-12\" data-testid=\"campaigns-loading\">Loading campaigns...</div>;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n            <input\n              type=\"text\"\n              placeholder=\"Search campaigns...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              data-testid=\"campaigns-search\"\n            />\n          </div>\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            data-testid=\"campaigns-filter\"\n          >\n            <option value=\"all\">All Status</option>\n            <option value=\"draft\">Draft</option>\n            <option value=\"scheduled\">Scheduled</option>\n            <option value=\"sent\">Sent</option>\n            <option value=\"sending\">Sending</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Campaigns Grid */}\n      {filteredCampaigns.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\" data-testid=\"campaigns-empty\">\n          <Mail className=\"mx-auto text-gray-400 mb-4\" size={48} />\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No campaigns yet</h3>\n          <p className=\"text-gray-600 mb-6\">Create your first email campaign to get started</p>\n          <button\n            onClick={onCreateNew}\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\"\n            data-testid=\"create-first-campaign-btn\"\n          >\n            <Plus size={20} />\n            Create First Campaign\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\" data-testid=\"campaigns-grid\">\n          {filteredCampaigns.map((campaign) => (\n            <div key={campaign.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition\" data-testid={`campaign-card-${campaign.id}`}>\n              <div className=\"p-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-gray-900 mb-1\">{campaign.name}</h3>\n                    <p className=\"text-sm text-gray-600 line-clamp-2\">{campaign.subject}</p>\n                  </div>\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusBadge(campaign.status)}`}>\n                    {campaign.status}\n                  </span>\n                </div>\n\n                <div className=\"space-y-2 text-sm text-gray-600 mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Users size={14} />\n                    <span>{campaign.total_recipients || 0} recipients</span>\n                  </div>\n                  {campaign.sent_at && (\n                    <div className=\"flex items-center gap-2\">\n                      <Calendar size={14} />\n                      <span>Sent {new Date(campaign.sent_at).toLocaleDateString()}</span>\n                    </div>\n                  )}\n                </div>\n\n                {campaign.status === 'sent' && (\n                  <div className=\"grid grid-cols-3 gap-2 mb-4 p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"text-center\">\n                      <div className=\"text-lg font-bold text-gray-900\">{campaign.total_sent || 0}</div>\n                      <div className=\"text-xs text-gray-600\">Sent</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-lg font-bold text-gray-900\">\n                        {campaign.total_sent > 0 ? Math.round((campaign.total_opened / campaign.total_sent) * 100) : 0}%\n                      </div>\n                      <div className=\"text-xs text-gray-600\">Opened</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-lg font-bold text-gray-900\">\n                        {campaign.total_opened > 0 ? Math.round((campaign.total_clicked / campaign.total_opened) * 100) : 0}%\n                      </div>\n                      <div className=\"text-xs text-gray-600\">Clicked</div>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"flex items-center gap-2\">\n                  <button className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm font-medium\" data-testid={`view-campaign-${campaign.id}`}>\n                    <Eye size={16} className=\"inline mr-2\" />\n                    View\n                  </button>\n                  {campaign.status === 'draft' && (\n                    <button className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium\" data-testid={`send-campaign-${campaign.id}`}>\n                      <Send size={16} className=\"inline mr-2\" />\n                      Send\n                    </button>\n                  )}\n                  <button\n                    onClick={() => deleteCampaign(campaign.id)}\n                    className=\"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition\"\n                    data-testid={`delete-campaign-${campaign.id}`}\n                  >\n                    <Trash2 size={16} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Templates View (keeping existing)\nconst TemplatesView = ({ onCreateNew }) => {\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n\n  const loadTemplates = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/email/templates');\n      setTemplates(response.data || []);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteTemplate = async (id) => {\n    if (!window.confirm('Delete this template?')) return;\n    try {\n      await api.delete(`/api/email/templates/${id}`);\n      loadTemplates();\n    } catch (error) {\n      console.error('Error deleting template:', error);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-12\">Loading templates...</div>;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {templates.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\" data-testid=\"templates-empty\">\n          <Layout className=\"mx-auto text-gray-400 mb-4\" size={48} />\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No templates yet</h3>\n          <p className=\"text-gray-600 mb-6\">Create reusable email templates to speed up your workflow</p>\n          <button\n            onClick={onCreateNew}\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\"\n            data-testid=\"create-first-template-btn\"\n          >\n            <Plus size={20} />\n            Create First Template\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\" data-testid=\"templates-grid\">\n          {templates.map((template) => (\n            <div key={template.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition overflow-hidden\" data-testid={`template-card-${template.id}`}>\n              <div className=\"h-48 bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center border-b border-gray-200\">\n                {template.thumbnail ? (\n                  <img src={template.thumbnail} alt={template.name} className=\"w-full h-full object-cover\" />\n                ) : (\n                  <Layout size={48} className=\"text-gray-400\" />\n                )}\n              </div>\n\n              <div className=\"p-4\">\n                <h3 className=\"font-semibold text-gray-900 mb-1\">{template.name}</h3>\n                <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{template.subject}</p>\n                \n                <div className=\"flex items-center justify-between text-xs text-gray-500 mb-3\">\n                  <span className=\"px-2 py-1 bg-gray-100 rounded\">{template.category}</span>\n                  <span>{template.usage_count || 0} uses</span>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <button className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm font-medium\" data-testid={`edit-template-${template.id}`}>\n                    <Edit size={14} className=\"inline mr-1\" />\n                    Edit\n                  </button>\n                  <button className=\"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition\" data-testid={`copy-template-${template.id}`}>\n                    <Copy size={14} />\n                  </button>\n                  <button\n                    onClick={() => deleteTemplate(template.id)}\n                    className=\"px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition\"\n                    data-testid={`delete-template-${template.id}`}\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 5-Step Campaign Creation Wizard\nconst CreateCampaignWizard = ({ onBack }) => {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [campaignData, setCampaignData] = useState({\n    name: '',\n    subject: '',\n    preview_text: '',\n    from_name: '',\n    from_email: '',\n    reply_to: '',\n    recipient_type: 'all',\n    recipient_list: [],\n    content: { blocks: [] },\n    schedule_type: 'immediate',\n    scheduled_at: '',\n    enable_ab_test: false,\n  });\n  const [contacts, setContacts] = useState([]);\n  const [segments, setSegments] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showEmailBuilder, setShowEmailBuilder] = useState(false);\n\n  const steps = [\n    { num: 1, title: 'Campaign Details', icon: Edit },\n    { num: 2, title: 'Select Recipients', icon: Users },\n    { num: 3, title: 'Design Email', icon: Layout },\n    { num: 4, title: 'Schedule', icon: Calendar },\n    { num: 5, title: 'Review & Send', icon: Send },\n  ];\n\n  // Load contacts and segments\n  useEffect(() => {\n    loadContactsAndSegments();\n  }, []);\n\n  const loadContactsAndSegments = async () => {\n    try {\n      const [contactsRes, segmentsRes] = await Promise.all([\n        api.get('/api/contacts'),\n        api.get('/api/segments'),\n      ]);\n      setContacts(contactsRes.data.contacts || []);\n      setSegments(segmentsRes.data || []);\n    } catch (error) {\n      console.error('Error loading contacts/segments:', error);\n    }\n  };\n\n  const updateCampaignData = (field, value) => {\n    setCampaignData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const nextStep = () => {\n    if (validateCurrentStep()) {\n      setCurrentStep(prev => prev + 1);\n    }\n  };\n\n  const prevStep = () => {\n    setCurrentStep(prev => prev - 1);\n  };\n\n  const validateCurrentStep = () => {\n    switch (currentStep) {\n      case 1:\n        if (!campaignData.name || !campaignData.subject || !campaignData.from_name || !campaignData.from_email) {\n          alert('Please fill in all required fields');\n          return false;\n        }\n        return true;\n      case 2:\n        if (campaignData.recipient_type !== 'all' && campaignData.recipient_list.length === 0) {\n          alert('Please select at least one recipient');\n          return false;\n        }\n        return true;\n      case 3:\n        if (!campaignData.content || !campaignData.content.blocks || campaignData.content.blocks.length === 0) {\n          alert('Please design your email');\n          return false;\n        }\n        return true;\n      case 4:\n        if (campaignData.schedule_type === 'scheduled' && !campaignData.scheduled_at) {\n          alert('Please select a date and time');\n          return false;\n        }\n        return true;\n      default:\n        return true;\n    }\n  };\n\n  const handleSubmit = async () => {\n    try {\n      setIsSubmitting(true);\n      \n      // Create campaign\n      await api.post('/api/email/campaigns', campaignData);\n      \n      alert('Campaign created successfully!');\n      onBack();\n    } catch (error) {\n      console.error('Error creating campaign:', error);\n      alert('Failed to create campaign. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleSendTest = async () => {\n    try {\n      const testEmail = prompt('Enter email address to send test to:');\n      if (!testEmail) return;\n\n      await api.post(`/api/email/campaigns/test`, {\n        to_email: testEmail,\n        subject: campaignData.subject,\n        content: campaignData.content,\n        from_name: campaignData.from_name,\n        from_email: campaignData.from_email,\n      });\n\n      alert(`Test email sent to ${testEmail}!`);\n    } catch (error) {\n      console.error('Error sending test:', error);\n      alert('Failed to send test email');\n    }\n  };\n\n  const handleAISubject = async () => {\n    try {\n      const res = await api.post('/api/email/ai/improve-subject', {\n        subject: campaignData.subject || 'Amazing offer',\n        tone: 'professional',\n      });\n      \n      if (res.data.alternatives && res.data.alternatives.length > 0) {\n        const selected = res.data.alternatives[0];\n        updateCampaignData('subject', selected);\n      }\n    } catch (error) {\n      console.error('AI subject generation failed:', error);\n    }\n  };\n\n  // If email builder is open, show it fullscreen\n  if (showEmailBuilder) {\n    return (\n      <EmailBuilder\n        onBack={() => setShowEmailBuilder(false)}\n        initialData={campaignData.content.blocks.length > 0 ? campaignData : null}\n        isTemplate={false}\n        onSave={(emailData) => {\n          updateCampaignData('name', emailData.name);\n          updateCampaignData('subject', emailData.subject);\n          updateCampaignData('content', emailData.content);\n          setShowEmailBuilder(false);\n        }}\n      />\n    );\n  }\n\n  return (\n    <div className=\"max-w-5xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-4\">\n        <button onClick={onBack} className=\"p-2 hover:bg-gray-100 rounded-lg transition\" data-testid=\"wizard-back-btn\">\n          <ArrowLeft size={20} />\n        </button>\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Create Campaign</h2>\n          <p className=\"text-gray-600\">Step {currentStep} of {steps.length}</p>\n        </div>\n      </div>\n\n      {/* Step Indicator */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between\">\n          {steps.map((step, index) => {\n            const StepIcon = step.icon;\n            const isCompleted = currentStep > step.num;\n            const isCurrent = currentStep === step.num;\n            \n            return (\n              <React.Fragment key={step.num}>\n                <div className=\"flex flex-col items-center gap-2\">\n                  <div\n                    className={`w-12 h-12 rounded-full flex items-center justify-center transition ${\n                      isCompleted\n                        ? 'bg-green-500 text-white'\n                        : isCurrent\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-200 text-gray-500'\n                    }`}\n                    data-testid={`step-indicator-${step.num}`}\n                  >\n                    {isCompleted ? <Check size={24} /> : <StepIcon size={24} />}\n                  </div>\n                  <div className=\"text-center\">\n                    <div className={`text-sm font-medium ${isCurrent ? 'text-blue-600' : 'text-gray-600'}`}>\n                      {step.title}\n                    </div>\n                  </div>\n                </div>\n                {index < steps.length - 1 && (\n                  <div\n                    className={`flex-1 h-1 mx-4 transition ${\n                      isCompleted ? 'bg-green-500' : 'bg-gray-200'\n                    }`}\n                  />\n                )}\n              </React.Fragment>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Step Content */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        {/* Step 1: Campaign Details */}\n        {currentStep === 1 && (\n          <div className=\"space-y-6\" data-testid=\"step-1-content\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Campaign Details</h3>\n              <p className=\"text-gray-600 mb-6\">Enter basic information about your campaign</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Campaign Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={campaignData.name}\n                  onChange={(e) => updateCampaignData('name', e.target.value)}\n                  placeholder=\"e.g., Summer Sale 2024\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"campaign-name-input\"\n                />\n              </div>\n\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center justify-between\">\n                  <span>Email Subject <span className=\"text-red-500\">*</span></span>\n                  <button\n                    onClick={handleAISubject}\n                    className=\"text-xs flex items-center gap-1 text-purple-600 hover:text-purple-700\"\n                  >\n                    <Sparkles size={14} />\n                    AI Improve\n                  </button>\n                </label>\n                <input\n                  type=\"text\"\n                  value={campaignData.subject}\n                  onChange={(e) => updateCampaignData('subject', e.target.value)}\n                  placeholder=\"e.g., ðŸ”¥ 50% Off Everything - Limited Time!\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"campaign-subject-input\"\n                />\n              </div>\n\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Preview Text (optional)\n                </label>\n                <input\n                  type=\"text\"\n                  value={campaignData.preview_text}\n                  onChange={(e) => updateCampaignData('preview_text', e.target.value)}\n                  placeholder=\"Text shown in email preview...\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"campaign-preview-input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  From Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={campaignData.from_name}\n                  onChange={(e) => updateCampaignData('from_name', e.target.value)}\n                  placeholder=\"e.g., John from eFunnels\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"from-name-input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  From Email <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  value={campaignData.from_email}\n                  onChange={(e) => updateCampaignData('from_email', e.target.value)}\n                  placeholder=\"e.g., hello@efunnels.com\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"from-email-input\"\n                />\n              </div>\n\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Reply-To Email (optional)\n                </label>\n                <input\n                  type=\"email\"\n                  value={campaignData.reply_to}\n                  onChange={(e) => updateCampaignData('reply_to', e.target.value)}\n                  placeholder=\"e.g., support@efunnels.com\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"reply-to-input\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 2: Select Recipients */}\n        {currentStep === 2 && (\n          <div className=\"space-y-6\" data-testid=\"step-2-content\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Select Recipients</h3>\n              <p className=\"text-gray-600 mb-6\">Choose who will receive this campaign</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* All Contacts */}\n              <label className=\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\">\n                <input\n                  type=\"radio\"\n                  name=\"recipient_type\"\n                  value=\"all\"\n                  checked={campaignData.recipient_type === 'all'}\n                  onChange={(e) => {\n                    updateCampaignData('recipient_type', e.target.value);\n                    updateCampaignData('recipient_list', []);\n                  }}\n                  className=\"mt-1\"\n                  data-testid=\"recipient-all\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-gray-900\">All Contacts</div>\n                  <div className=\"text-sm text-gray-600\">Send to all contacts in your database ({contacts.length} contacts)</div>\n                </div>\n              </label>\n\n              {/* Specific Contacts */}\n              <label className=\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\">\n                <input\n                  type=\"radio\"\n                  name=\"recipient_type\"\n                  value=\"contacts\"\n                  checked={campaignData.recipient_type === 'contacts'}\n                  onChange={(e) => updateCampaignData('recipient_type', e.target.value)}\n                  className=\"mt-1\"\n                  data-testid=\"recipient-contacts\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-gray-900\">Specific Contacts</div>\n                  <div className=\"text-sm text-gray-600 mb-3\">Choose individual contacts</div>\n                  \n                  {campaignData.recipient_type === 'contacts' && (\n                    <div className=\"max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-3 space-y-2\">\n                      {contacts.map((contact) => (\n                        <label key={contact.id} className=\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\">\n                          <input\n                            type=\"checkbox\"\n                            checked={campaignData.recipient_list.includes(contact.id)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                updateCampaignData('recipient_list', [...campaignData.recipient_list, contact.id]);\n                              } else {\n                                updateCampaignData('recipient_list', campaignData.recipient_list.filter(id => id !== contact.id));\n                              }\n                            }}\n                            data-testid={`contact-${contact.id}`}\n                          />\n                          <span className=\"text-sm\">\n                            {contact.first_name} {contact.last_name} ({contact.email})\n                          </span>\n                        </label>\n                      ))}\n                      {contacts.length === 0 && (\n                        <div className=\"text-center text-gray-500 py-4\">No contacts available</div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </label>\n\n              {/* Segments */}\n              <label className=\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\">\n                <input\n                  type=\"radio\"\n                  name=\"recipient_type\"\n                  value=\"segments\"\n                  checked={campaignData.recipient_type === 'segments'}\n                  onChange={(e) => updateCampaignData('recipient_type', e.target.value)}\n                  className=\"mt-1\"\n                  data-testid=\"recipient-segments\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-gray-900\">Segments</div>\n                  <div className=\"text-sm text-gray-600 mb-3\">Send to specific segments/lists</div>\n                  \n                  {campaignData.recipient_type === 'segments' && (\n                    <div className=\"space-y-2\">\n                      {segments.map((segment) => (\n                        <label key={segment.id} className=\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\">\n                          <input\n                            type=\"checkbox\"\n                            checked={campaignData.recipient_list.includes(segment.id)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                updateCampaignData('recipient_list', [...campaignData.recipient_list, segment.id]);\n                              } else {\n                                updateCampaignData('recipient_list', campaignData.recipient_list.filter(id => id !== segment.id));\n                              }\n                            }}\n                            data-testid={`segment-${segment.id}`}\n                          />\n                          <span className=\"text-sm font-medium\">{segment.name}</span>\n                          <span className=\"text-xs text-gray-500\">({segment.contact_count || 0} contacts)</span>\n                        </label>\n                      ))}\n                      {segments.length === 0 && (\n                        <div className=\"text-center text-gray-500 py-4\">No segments available</div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </label>\n\n              {/* Recipient Count */}\n              <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                <div className=\"flex items-center gap-2 text-blue-900\">\n                  <Users size={18} />\n                  <span className=\"font-medium\">\n                    Estimated Recipients: {\n                      campaignData.recipient_type === 'all' \n                        ? contacts.length\n                        : campaignData.recipient_list.length\n                    }\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Step 3: Design Email */}\n        {currentStep === 3 && (\n          <div className=\"space-y-6\" data-testid=\"step-3-content\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Design Your Email</h3>\n              <p className=\"text-gray-600 mb-6\">Use our visual email builder to create your campaign</p>\n            </div>\n\n            <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n              {campaignData.content.blocks && campaignData.content.blocks.length > 0 ? (\n                <div>\n                  <Check size={48} className=\"mx-auto text-green-500 mb-4\" />\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Email Design Complete</h3>\n                  <p className=\"text-gray-600 mb-4\">{campaignData.content.blocks.length} blocks added</p>\n                  <button\n                    onClick={() => setShowEmailBuilder(true)}\n                    className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\"\n                    data-testid=\"edit-email-btn\"\n                  >\n                    <Edit size={20} />\n                    Edit Email Design\n                  </button>\n                </div>\n              ) : (\n                <div>\n                  <Layout size={48} className=\"mx-auto text-gray-400 mb-4\" />\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Start Designing</h3>\n                  <p className=\"text-gray-600 mb-4\">Open the email builder to create your campaign</p>\n                  <button\n                    onClick={() => setShowEmailBuilder(true)}\n                    className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition inline-flex items-center gap-2\"\n                    data-testid=\"open-email-builder-btn\"\n                  >\n                    <Layout size={20} />\n                    Open Email Builder\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Step 4: Schedule */}\n        {currentStep === 4 && (\n          <div className=\"space-y-6\" data-testid=\"step-4-content\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Schedule Campaign</h3>\n              <p className=\"text-gray-600 mb-6\">Choose when to send your campaign</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Send Immediately */}\n              <label className=\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\">\n                <input\n                  type=\"radio\"\n                  name=\"schedule_type\"\n                  value=\"immediate\"\n                  checked={campaignData.schedule_type === 'immediate'}\n                  onChange={(e) => updateCampaignData('schedule_type', e.target.value)}\n                  className=\"mt-1\"\n                  data-testid=\"schedule-immediate\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 font-medium text-gray-900 mb-1\">\n                    <Send size={18} />\n                    Send Immediately\n                  </div>\n                  <div className=\"text-sm text-gray-600\">Campaign will be sent as soon as you confirm</div>\n                </div>\n              </label>\n\n              {/* Schedule for Later */}\n              <label className=\"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-blue-500 transition\">\n                <input\n                  type=\"radio\"\n                  name=\"schedule_type\"\n                  value=\"scheduled\"\n                  checked={campaignData.schedule_type === 'scheduled'}\n                  onChange={(e) => updateCampaignData('schedule_type', e.target.value)}\n                  className=\"mt-1\"\n                  data-testid=\"schedule-later\"\n                />\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 font-medium text-gray-900 mb-1\">\n                    <Clock size={18} />\n                    Schedule for Later\n                  </div>\n                  <div className=\"text-sm text-gray-600 mb-3\">Choose a specific date and time</div>\n                  \n                  {campaignData.schedule_type === 'scheduled' && (\n                    <div className=\"space-y-3\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Date & Time <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"datetime-local\"\n                          value={campaignData.scheduled_at}\n                          onChange={(e) => updateCampaignData('scheduled_at', e.target.value)}\n                          min={new Date().toISOString().slice(0, 16)}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                          data-testid=\"scheduled-datetime-input\"\n                        />\n                      </div>\n                      <div className=\"text-xs text-gray-500\">\n                        Campaign will be sent at the specified time in your local timezone\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </label>\n            </div>\n          </div>\n        )}\n\n        {/* Step 5: Review & Send */}\n        {currentStep === 5 && (\n          <div className=\"space-y-6\" data-testid=\"step-5-content\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Review & Send</h3>\n              <p className=\"text-gray-600 mb-6\">Review your campaign before sending</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Campaign Summary */}\n              <div className=\"border border-gray-200 rounded-lg p-6 space-y-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">Campaign Name</div>\n                    <div className=\"font-medium text-gray-900\">{campaignData.name}</div>\n                  </div>\n                  <button onClick={() => setCurrentStep(1)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">Email Subject</div>\n                    <div className=\"font-medium text-gray-900\">{campaignData.subject}</div>\n                  </div>\n                  <button onClick={() => setCurrentStep(1)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">From</div>\n                    <div className=\"font-medium text-gray-900\">{campaignData.from_name} &lt;{campaignData.from_email}&gt;</div>\n                  </div>\n                  <button onClick={() => setCurrentStep(1)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">Recipients</div>\n                    <div className=\"font-medium text-gray-900\">\n                      {campaignData.recipient_type === 'all' ? 'All Contacts' : `${campaignData.recipient_list.length} selected`}\n                      {' '}(~{campaignData.recipient_type === 'all' ? contacts.length : campaignData.recipient_list.length} recipients)\n                    </div>\n                  </div>\n                  <button onClick={() => setCurrentStep(2)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">Email Design</div>\n                    <div className=\"font-medium text-gray-900\">{campaignData.content.blocks.length} blocks</div>\n                  </div>\n                  <button onClick={() => setCurrentStep(3)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"text-sm text-gray-600\">Schedule</div>\n                    <div className=\"font-medium text-gray-900\">\n                      {campaignData.schedule_type === 'immediate' \n                        ? 'Send Immediately' \n                        : `Scheduled for ${new Date(campaignData.scheduled_at).toLocaleString()}`\n                      }\n                    </div>\n                  </div>\n                  <button onClick={() => setCurrentStep(4)} className=\"text-blue-600 text-sm hover:underline\">Edit</button>\n                </div>\n              </div>\n\n              {/* Test Email */}\n              <div className=\"border border-gray-200 rounded-lg p-6\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Send Test Email</h4>\n                <p className=\"text-sm text-gray-600 mb-4\">Send a test email to yourself before sending to all recipients</p>\n                <button\n                  onClick={handleSendTest}\n                  className=\"px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition font-medium\"\n                  data-testid=\"send-test-email-btn\"\n                >\n                  Send Test Email\n                </button>\n              </div>\n\n              {/* Final Confirmation */}\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <div className=\"flex gap-3\">\n                  <div className=\"text-yellow-600 mt-0.5\">âš ï¸</div>\n                  <div className=\"flex-1\">\n                    <div className=\"font-medium text-yellow-900 mb-1\">Ready to send?</div>\n                    <div className=\"text-sm text-yellow-800\">\n                      Once you click \"Create Campaign\", your campaign will be {campaignData.schedule_type === 'immediate' ? 'sent immediately' : 'scheduled for the specified time'}.\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex items-center justify-between bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div>\n          {currentStep > 1 && (\n            <button\n              onClick={prevStep}\n              className=\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition font-medium flex items-center gap-2\"\n              data-testid=\"wizard-prev-btn\"\n            >\n              <ArrowLeft size={18} />\n              Previous\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {currentStep < 5 ? (\n            <button\n              onClick={nextStep}\n              className=\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold flex items-center gap-2\"\n              data-testid=\"wizard-next-btn\"\n            >\n              Next Step\n              <ChevronRight size={18} />\n            </button>\n          ) : (\n            <button\n              onClick={handleSubmit}\n              disabled={isSubmitting}\n              className=\"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold flex items-center gap-2 disabled:opacity-50\"\n              data-testid=\"wizard-submit-btn\"\n            >\n              {isSubmitting ? (\n                <>Creating...</>\n              ) : (\n                <>\n                  <Send size={18} />\n                  {campaignData.schedule_type === 'immediate' ? 'Create & Send Campaign' : 'Create Campaign'}\n                </>\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Analytics View and Email Settings View (keeping from original)\nconst AnalyticsView = () => {\n  const [analytics, setAnalytics] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadAnalytics();\n  }, []);\n\n  const loadAnalytics = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/email/analytics/summary');\n      setAnalytics(response.data);\n    } catch (error) {\n      console.error('Error loading analytics:', error);\n      // Set default analytics on error\n      setAnalytics({\n        total_campaigns: 0,\n        total_sent: 0,\n        total_delivered: 0,\n        total_opened: 0,\n        total_clicked: 0,\n        total_bounced: 0,\n        avg_open_rate: 0,\n        avg_click_rate: 0,\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading || !analytics) {\n    return <div className=\"text-center py-12\" data-testid=\"analytics-loading\">Loading analytics...</div>;\n  }\n\n  // Safe access with defaults\n  const totalCampaigns = analytics.total_campaigns || 0;\n  const totalSent = analytics.total_sent || 0;\n  const totalDelivered = analytics.total_delivered || 0;\n  const totalOpened = analytics.total_opened || 0;\n  const totalClicked = analytics.total_clicked || 0;\n  const totalBounced = analytics.total_bounced || 0;\n  const avgOpenRate = analytics.avg_open_rate || 0;\n  const avgClickRate = analytics.avg_click_rate || 0;\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"analytics-view\">\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-gray-600\">Total Campaigns</div>\n            <Mail size={20} className=\"text-blue-600\" />\n          </div>\n          <div className=\"text-3xl font-bold text-gray-900\">{totalCampaigns}</div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-gray-600\">Emails Sent</div>\n            <Send size={20} className=\"text-green-600\" />\n          </div>\n          <div className=\"text-3xl font-bold text-gray-900\">{totalSent.toLocaleString()}</div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-gray-600\">Open Rate</div>\n            <TrendingUp size={20} className=\"text-purple-600\" />\n          </div>\n          <div className=\"text-3xl font-bold text-gray-900\">{avgOpenRate.toFixed(1)}%</div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-gray-600\">Click Rate</div>\n            <MousePointer size={20} className=\"text-orange-600\" />\n          </div>\n          <div className=\"text-3xl font-bold text-gray-900\">{avgClickRate.toFixed(1)}%</div>\n        </div>\n      </div>\n\n      {/* Delivery Metrics */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Delivery Metrics</h3>\n        <div className=\"space-y-4\">\n          {[\n            { label: 'Delivered', value: totalDelivered, total: totalSent, color: 'bg-green-500' },\n            { label: 'Opened', value: totalOpened, total: totalSent, color: 'bg-blue-500' },\n            { label: 'Clicked', value: totalClicked, total: totalSent, color: 'bg-purple-500' },\n            { label: 'Bounced', value: totalBounced, total: totalSent, color: 'bg-red-500' },\n          ].map((metric) => {\n            const percentage = totalSent > 0 ? (metric.value / totalSent) * 100 : 0;\n            return (\n              <div key={metric.label}>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-sm font-medium text-gray-700\">{metric.label}</span>\n                  <span className=\"text-sm text-gray-600\">\n                    {metric.value.toLocaleString()} ({percentage.toFixed(1)}%)\n                  </span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div\n                    className={`${metric.color} h-2 rounded-full transition-all`}\n                    style={{ width: `${percentage}%` }}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst EmailSettingsView = () => {\n  const [settings, setSettings] = useState({\n    provider: 'mock',\n    sendgrid_api_key: '',\n    smtp_host: '',\n    smtp_port: 587,\n    smtp_username: '',\n    smtp_password: '',\n    smtp_use_tls: true,\n    aws_ses_access_key: '',\n    aws_ses_secret_key: '',\n    aws_ses_region: 'us-east-1',\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/email/settings');\n      if (response.data) {\n        setSettings({ ...settings, ...response.data });\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      await api.put('/api/email/settings', settings);\n      alert('Settings saved successfully!');\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      alert('Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-12\">Loading settings...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Provider</h3>\n        <p className=\"text-gray-600 mb-6\">Choose your email sending provider</p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n          {[\n            { value: 'mock', label: 'Mock', icon: 'ðŸ§ª', desc: 'For testing (no emails sent)' },\n            { value: 'sendgrid', label: 'SendGrid', icon: 'ðŸ“§', desc: 'Reliable email delivery' },\n            { value: 'smtp', label: 'SMTP', icon: 'ðŸ”§', desc: 'Custom SMTP server' },\n            { value: 'aws_ses', label: 'AWS SES', icon: 'â˜ï¸', desc: 'Amazon email service' },\n          ].map((provider) => (\n            <label\n              key={provider.value}\n              className={`flex flex-col items-center p-6 border-2 rounded-lg cursor-pointer transition ${\n                settings.provider === provider.value\n                  ? 'border-blue-500 bg-blue-50'\n                  : 'border-gray-200 hover:border-blue-300'\n              }`}\n            >\n              <input\n                type=\"radio\"\n                name=\"provider\"\n                value={provider.value}\n                checked={settings.provider === provider.value}\n                onChange={(e) => setSettings({ ...settings, provider: e.target.value })}\n                className=\"sr-only\"\n              />\n              <div className=\"text-4xl mb-2\">{provider.icon}</div>\n              <div className=\"font-semibold text-gray-900 mb-1\">{provider.label}</div>\n              <div className=\"text-xs text-gray-600 text-center\">{provider.desc}</div>\n            </label>\n          ))}\n        </div>\n\n        {/* Provider-specific settings */}\n        {settings.provider === 'sendgrid' && (\n          <div className=\"space-y-4 pt-4 border-t border-gray-200\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">SendGrid API Key</label>\n              <input\n                type=\"password\"\n                value={settings.sendgrid_api_key}\n                onChange={(e) => setSettings({ ...settings, sendgrid_api_key: e.target.value })}\n                placeholder=\"SG.xxxxxxxxxxxxx\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n        )}\n\n        {settings.provider === 'smtp' && (\n          <div className=\"space-y-4 pt-4 border-t border-gray-200\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">SMTP Host</label>\n                <input\n                  type=\"text\"\n                  value={settings.smtp_host}\n                  onChange={(e) => setSettings({ ...settings, smtp_host: e.target.value })}\n                  placeholder=\"smtp.example.com\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">SMTP Port</label>\n                <input\n                  type=\"number\"\n                  value={settings.smtp_port}\n                  onChange={(e) => setSettings({ ...settings, smtp_port: parseInt(e.target.value) })}\n                  placeholder=\"587\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Username</label>\n                <input\n                  type=\"text\"\n                  value={settings.smtp_username}\n                  onChange={(e) => setSettings({ ...settings, smtp_username: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\n                <input\n                  type=\"password\"\n                  value={settings.smtp_password}\n                  onChange={(e) => setSettings({ ...settings, smtp_password: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <label className=\"flex items-center gap-2\">\n              <input\n                type=\"checkbox\"\n                checked={settings.smtp_use_tls}\n                onChange={(e) => setSettings({ ...settings, smtp_use_tls: e.target.checked })}\n                className=\"rounded\"\n              />\n              <span className=\"text-sm text-gray-700\">Use TLS</span>\n            </label>\n          </div>\n        )}\n\n        {settings.provider === 'aws_ses' && (\n          <div className=\"space-y-4 pt-4 border-t border-gray-200\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">AWS Access Key</label>\n                <input\n                  type=\"password\"\n                  value={settings.aws_ses_access_key}\n                  onChange={(e) => setSettings({ ...settings, aws_ses_access_key: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">AWS Secret Key</label>\n                <input\n                  type=\"password\"\n                  value={settings.aws_ses_secret_key}\n                  onChange={(e) => setSettings({ ...settings, aws_ses_secret_key: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">AWS Region</label>\n                <select\n                  value={settings.aws_ses_region}\n                  onChange={(e) => setSettings({ ...settings, aws_ses_region: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"us-east-1\">US East (N. Virginia)</option>\n                  <option value=\"us-west-2\">US West (Oregon)</option>\n                  <option value=\"eu-west-1\">EU (Ireland)</option>\n                  <option value=\"eu-central-1\">EU (Frankfurt)</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex justify-end pt-6 border-t border-gray-200 mt-6\">\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold disabled:opacity-50\"\n          >\n            {saving ? 'Saving...' : 'Save Settings'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmailMarketingPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}