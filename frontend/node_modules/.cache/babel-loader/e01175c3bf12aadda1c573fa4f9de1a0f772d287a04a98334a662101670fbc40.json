{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/EnhancedCourseBuilder.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { PlusIcon, BookOpenIcon, PlayIcon, DocumentTextIcon, QuestionMarkCircleIcon, TrashIcon, PencilIcon, ChevronDownIcon, ChevronUpIcon, Bars3Icon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnhancedCourseBuilder = ({\n  course,\n  onBack\n}) => {\n  _s();\n  const [modules, setModules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModuleModal, setShowModuleModal] = useState(false);\n  const [showLessonModal, setShowLessonModal] = useState(false);\n  const [editingModule, setEditingModule] = useState(null);\n  const [editingLesson, setEditingLesson] = useState(null);\n  const [selectedModuleId, setSelectedModuleId] = useState(null);\n  const [expandedModules, setExpandedModules] = useState(new Set());\n  useEffect(() => {\n    fetchCourseDetails();\n  }, []);\n  const fetchCourseDetails = async () => {\n    try {\n      var _response$data$module;\n      const response = await api.get(`/api/courses/${course.id}`);\n      setModules(response.data.modules || []);\n      // Expand all modules by default\n      const allModuleIds = new Set(((_response$data$module = response.data.modules) === null || _response$data$module === void 0 ? void 0 : _response$data$module.map(m => m.id)) || []);\n      setExpandedModules(allModuleIds);\n    } catch (error) {\n      console.error('Error fetching course details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const toggleModule = moduleId => {\n    setExpandedModules(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(moduleId)) {\n        newSet.delete(moduleId);\n      } else {\n        newSet.add(moduleId);\n      }\n      return newSet;\n    });\n  };\n  const handleDragEnd = async result => {\n    if (!result.destination) return;\n    const {\n      source,\n      destination,\n      type\n    } = result;\n    if (type === 'module') {\n      // Reorder modules\n      const newModules = Array.from(modules);\n      const [removed] = newModules.splice(source.index, 1);\n      newModules.splice(destination.index, 0, removed);\n\n      // Update order property\n      const updatedModules = newModules.map((mod, idx) => ({\n        ...mod,\n        order: idx\n      }));\n      setModules(updatedModules);\n\n      // Update on backend\n      try {\n        await Promise.all(updatedModules.map(mod => api.put(`/courses/${course.id}/modules/${mod.id}`, {\n          order: mod.order\n        })));\n      } catch (error) {\n        console.error('Error updating module order:', error);\n        fetchCourseDetails(); // Revert on error\n      }\n    } else if (type === 'lesson') {\n      // Reorder lessons within a module\n      const moduleId = source.droppableId;\n      const moduleIndex = modules.findIndex(m => m.id === moduleId);\n      const module = modules[moduleIndex];\n      const newLessons = Array.from(module.lessons || []);\n      const [removed] = newLessons.splice(source.index, 1);\n      newLessons.splice(destination.index, 0, removed);\n\n      // Update order property\n      const updatedLessons = newLessons.map((lesson, idx) => ({\n        ...lesson,\n        order: idx\n      }));\n      const newModules = [...modules];\n      newModules[moduleIndex] = {\n        ...module,\n        lessons: updatedLessons\n      };\n      setModules(newModules);\n\n      // Update on backend\n      try {\n        await Promise.all(updatedLessons.map(lesson => api.put(`/courses/${course.id}/modules/${moduleId}/lessons/${lesson.id}`, {\n          order: lesson.order\n        })));\n      } catch (error) {\n        console.error('Error updating lesson order:', error);\n        fetchCourseDetails(); // Revert on error\n      }\n    }\n  };\n  const saveModule = async moduleData => {\n    try {\n      if (editingModule) {\n        await api.put(`/courses/${course.id}/modules/${editingModule.id}`, moduleData);\n      } else {\n        await api.post(`/courses/${course.id}/modules`, {\n          ...moduleData,\n          order: modules.length\n        });\n      }\n      fetchCourseDetails();\n      setShowModuleModal(false);\n      setEditingModule(null);\n    } catch (error) {\n      console.error('Error saving module:', error);\n      alert('Failed to save module');\n    }\n  };\n  const deleteModule = async moduleId => {\n    if (!window.confirm('Delete this module and all its lessons?')) return;\n    try {\n      await api.delete(`/courses/${course.id}/modules/${moduleId}`);\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error deleting module:', error);\n      alert('Failed to delete module');\n    }\n  };\n  const saveLesson = async lessonData => {\n    try {\n      if (editingLesson) {\n        await api.put(`/courses/${course.id}/modules/${selectedModuleId}/lessons/${editingLesson.id}`, lessonData);\n      } else {\n        var _module$lessons;\n        const module = modules.find(m => m.id === selectedModuleId);\n        await api.post(`/courses/${course.id}/modules/${selectedModuleId}/lessons`, {\n          ...lessonData,\n          order: ((_module$lessons = module.lessons) === null || _module$lessons === void 0 ? void 0 : _module$lessons.length) || 0\n        });\n      }\n      fetchCourseDetails();\n      setShowLessonModal(false);\n      setEditingLesson(null);\n      setSelectedModuleId(null);\n    } catch (error) {\n      console.error('Error saving lesson:', error);\n      alert('Failed to save lesson');\n    }\n  };\n  const deleteLesson = async (moduleId, lessonId) => {\n    if (!window.confirm('Delete this lesson?')) return;\n    try {\n      await api.delete(`/courses/${course.id}/modules/${moduleId}/lessons/${lessonId}`);\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error deleting lesson:', error);\n      alert('Failed to delete lesson');\n    }\n  };\n  const openAddLesson = moduleId => {\n    setSelectedModuleId(moduleId);\n    setEditingLesson(null);\n    setShowLessonModal(true);\n  };\n  const openEditLesson = (moduleId, lesson) => {\n    setSelectedModuleId(moduleId);\n    setEditingLesson(lesson);\n    setShowLessonModal(true);\n  };\n  const getLessonIcon = contentType => {\n    switch (contentType) {\n      case 'video':\n        return PlayIcon;\n      case 'text':\n        return DocumentTextIcon;\n      case 'pdf':\n        return DocumentTextIcon;\n      case 'quiz':\n        return QuestionMarkCircleIcon;\n      default:\n        return BookOpenIcon;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6\",\n    \"data-testid\": \"enhanced-course-builder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"text-blue-600 hover:text-blue-700 flex items-center mb-4\",\n        \"data-testid\": \"back-to-courses-button\",\n        children: \"\\u2190 Back to Courses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: course.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Build your course content with drag & drop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-4 mb-6 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [modules.length, \" modules \\u2022 \", modules.reduce((acc, m) => {\n          var _m$lessons;\n          return acc + (((_m$lessons = m.lessons) === null || _m$lessons === void 0 ? void 0 : _m$lessons.length) || 0);\n        }, 0), \" lessons\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setEditingModule(null);\n          setShowModuleModal(true);\n        },\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\",\n        \"data-testid\": \"add-module-button\",\n        children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), \"Add Module\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: modules.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No modules yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"Add your first module to start building the course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowModuleModal(true),\n          className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\",\n          children: \"Add First Module\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: handleDragEnd,\n        children: /*#__PURE__*/_jsxDEV(Droppable, {\n          droppableId: \"modules\",\n          type: \"module\",\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            className: \"p-6 space-y-4\",\n            children: [modules.map((module, moduleIndex) => /*#__PURE__*/_jsxDEV(Draggable, {\n              draggableId: module.id,\n              index: moduleIndex,\n              children: (provided, snapshot) => {\n                var _module$lessons2;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: provided.innerRef,\n                  ...provided.draggableProps,\n                  className: `border rounded-lg ${snapshot.isDragging ? 'shadow-2xl bg-blue-50' : 'bg-white'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 bg-gray-50 border-b flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        ...provided.dragHandleProps,\n                        className: \"mr-3 cursor-move\",\n                        children: /*#__PURE__*/_jsxDEV(Bars3Icon, {\n                          className: \"w-5 h-5 text-gray-400\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 282,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => toggleModule(module.id),\n                        className: \"mr-3\",\n                        children: expandedModules.has(module.id) ? /*#__PURE__*/_jsxDEV(ChevronUpIcon, {\n                          className: \"w-5 h-5 text-gray-600\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 289,\n                          columnNumber: 35\n                        }, this) : /*#__PURE__*/_jsxDEV(ChevronDownIcon, {\n                          className: \"w-5 h-5 text-gray-600\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 291,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"font-semibold text-lg text-gray-900\",\n                          children: [\"Module \", moduleIndex + 1, \": \", module.title]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 295,\n                          columnNumber: 33\n                        }, this), module.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mt-1\",\n                          children: module.description\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 299,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500 mt-1\",\n                          children: [((_module$lessons2 = module.lessons) === null || _module$lessons2 === void 0 ? void 0 : _module$lessons2.length) || 0, \" lessons\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 301,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => openAddLesson(module.id),\n                        className: \"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",\n                        \"data-testid\": `add-lesson-${module.id}`,\n                        children: \"+ Add Lesson\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          setEditingModule(module);\n                          setShowModuleModal(true);\n                        },\n                        className: \"p-2 text-gray-600 hover:text-blue-600\",\n                        children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => deleteModule(module.id),\n                        className: \"p-2 text-gray-600 hover:text-red-600\",\n                        children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 27\n                  }, this), expandedModules.has(module.id) && /*#__PURE__*/_jsxDEV(Droppable, {\n                    droppableId: module.id,\n                    type: \"lesson\",\n                    children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n                      ...provided.droppableProps,\n                      ref: provided.innerRef,\n                      className: \"p-4 space-y-2\",\n                      children: [module.lessons && module.lessons.length > 0 ? module.lessons.map((lesson, lessonIndex) => {\n                        const LessonIcon = getLessonIcon(lesson.content_type);\n                        return /*#__PURE__*/_jsxDEV(Draggable, {\n                          draggableId: lesson.id,\n                          index: lessonIndex,\n                          children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            ref: provided.innerRef,\n                            ...provided.draggableProps,\n                            className: `flex items-center justify-between p-3 rounded-lg border ${snapshot.isDragging ? 'bg-blue-50 shadow-lg' : 'bg-gray-50 hover:bg-gray-100'}`,\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center flex-1\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                ...provided.dragHandleProps,\n                                className: \"mr-3 cursor-move\",\n                                children: /*#__PURE__*/_jsxDEV(Bars3Icon, {\n                                  className: \"w-4 h-4 text-gray-400\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 359,\n                                  columnNumber: 51\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 358,\n                                columnNumber: 49\n                              }, this), /*#__PURE__*/_jsxDEV(LessonIcon, {\n                                className: \"w-5 h-5 text-gray-500 mr-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 361,\n                                columnNumber: 49\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"font-medium text-gray-900\",\n                                  children: [\"Lesson \", lessonIndex + 1, \": \", lesson.title]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 363,\n                                  columnNumber: 51\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-xs text-gray-500\",\n                                  children: [lesson.content_type, lesson.duration && ` â€¢ ${lesson.duration} min`]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 366,\n                                  columnNumber: 51\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 362,\n                                columnNumber: 49\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 357,\n                              columnNumber: 47\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center space-x-2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => openEditLesson(module.id, lesson),\n                                className: \"p-1.5 text-gray-600 hover:text-blue-600\",\n                                \"data-testid\": `edit-lesson-${lesson.id}`,\n                                children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n                                  className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 378,\n                                  columnNumber: 51\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 373,\n                                columnNumber: 49\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => deleteLesson(module.id, lesson.id),\n                                className: \"p-1.5 text-gray-600 hover:text-red-600\",\n                                children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n                                  className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 384,\n                                  columnNumber: 51\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 380,\n                                columnNumber: 49\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 372,\n                              columnNumber: 47\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 348,\n                            columnNumber: 45\n                          }, this)\n                        }, lesson.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 342,\n                          columnNumber: 41\n                        }, this);\n                      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center py-6 text-gray-500 text-sm\",\n                        children: \"No lessons yet. Click \\\"Add Lesson\\\" to get started.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 37\n                      }, this), provided.placeholder]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 25\n                }, this);\n              }\n            }, module.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 21\n            }, this)), provided.placeholder]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), showModuleModal && /*#__PURE__*/_jsxDEV(ModuleModal, {\n      module: editingModule,\n      onClose: () => {\n        setShowModuleModal(false);\n        setEditingModule(null);\n      },\n      onSave: saveModule\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 9\n    }, this), showLessonModal && /*#__PURE__*/_jsxDEV(LessonModal, {\n      lesson: editingLesson,\n      onClose: () => {\n        setShowLessonModal(false);\n        setEditingLesson(null);\n        setSelectedModuleId(null);\n      },\n      onSave: saveLesson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n\n// Module Modal Component\n_s(EnhancedCourseBuilder, \"jKAvWfiNsHNezjvqICj60u/y/Uo=\");\n_c = EnhancedCourseBuilder;\nconst ModuleModal = ({\n  module,\n  onClose,\n  onSave\n}) => {\n  _s2();\n  const [formData, setFormData] = useState({\n    title: (module === null || module === void 0 ? void 0 : module.title) || '',\n    description: (module === null || module === void 0 ? void 0 : module.description) || ''\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-2xl w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold\",\n            children: module ? 'Edit Module' : 'Add New Module'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Module Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.title,\n              onChange: e => setFormData({\n                ...formData,\n                title: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n              required: true,\n              placeholder: \"e.g., Introduction to the Course\",\n              \"data-testid\": \"module-title-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => setFormData({\n                ...formData,\n                description: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n              rows: \"3\",\n              placeholder: \"Brief description of what this module covers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onClose,\n              className: \"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n              \"data-testid\": \"save-module-button\",\n              children: module ? 'Update Module' : 'Add Module'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 448,\n    columnNumber: 5\n  }, this);\n};\n\n// Lesson Modal Component  \n_s2(ModuleModal, \"uI7cEG0MO2B60hawnZ1X/i0bkl0=\");\n_c2 = ModuleModal;\nconst LessonModal = ({\n  lesson,\n  onClose,\n  onSave\n}) => {\n  _s3();\n  const [formData, setFormData] = useState({\n    title: (lesson === null || lesson === void 0 ? void 0 : lesson.title) || '',\n    description: (lesson === null || lesson === void 0 ? void 0 : lesson.description) || '',\n    content_type: (lesson === null || lesson === void 0 ? void 0 : lesson.content_type) || 'text',\n    duration: (lesson === null || lesson === void 0 ? void 0 : lesson.duration) || 0,\n    content: (lesson === null || lesson === void 0 ? void 0 : lesson.content) || {}\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  const renderContentEditor = () => {\n    switch (formData.content_type) {\n      case 'video':\n        return /*#__PURE__*/_jsxDEV(VideoEditor, {\n          formData: formData,\n          setFormData: setFormData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 16\n        }, this);\n      case 'text':\n        return /*#__PURE__*/_jsxDEV(TextEditor, {\n          formData: formData,\n          setFormData: setFormData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 16\n        }, this);\n      case 'pdf':\n        return /*#__PURE__*/_jsxDEV(PDFEditor, {\n          formData: formData,\n          setFormData: setFormData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 16\n        }, this);\n      case 'quiz':\n        return /*#__PURE__*/_jsxDEV(QuizEditor, {\n          formData: formData,\n          setFormData: setFormData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold\",\n            children: lesson ? 'Edit Lesson' : 'Add New Lesson'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Lesson Title *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.title,\n                onChange: e => setFormData({\n                  ...formData,\n                  title: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                placeholder: \"e.g., Introduction to Variables\",\n                \"data-testid\": \"lesson-title-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Duration (minutes)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: formData.duration,\n                onChange: e => setFormData({\n                  ...formData,\n                  duration: parseInt(e.target.value) || 0\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n                min: \"0\",\n                placeholder: \"e.g., 15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => setFormData({\n                ...formData,\n                description: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n              rows: \"2\",\n              placeholder: \"Brief description of the lesson\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Content Type *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-4 gap-3\",\n              children: [{\n                value: 'video',\n                icon: PlayIcon,\n                label: 'Video'\n              }, {\n                value: 'text',\n                icon: DocumentTextIcon,\n                label: 'Text'\n              }, {\n                value: 'pdf',\n                icon: DocumentTextIcon,\n                label: 'PDF'\n              }, {\n                value: 'quiz',\n                icon: QuestionMarkCircleIcon,\n                label: 'Quiz'\n              }].map(({\n                value,\n                icon: Icon,\n                label\n              }) => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setFormData({\n                  ...formData,\n                  content_type: value,\n                  content: {}\n                }),\n                className: `p-4 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${formData.content_type === value ? 'border-blue-600 bg-blue-50 text-blue-600' : 'border-gray-200 hover:border-gray-300'}`,\n                \"data-testid\": `content-type-${value}`,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  className: \"w-8 h-8 mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 21\n                }, this)]\n              }, value, true, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t pt-6\",\n            children: renderContentEditor()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3 pt-4 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onClose,\n              className: \"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n              \"data-testid\": \"save-lesson-button\",\n              children: lesson ? 'Update Lesson' : 'Add Lesson'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 5\n  }, this);\n};\n\n// Video Editor Component\n_s3(LessonModal, \"gdVfj8OWk/kjXSUB/cEnM5zkAdM=\");\n_c3 = LessonModal;\nconst VideoEditor = ({\n  formData,\n  setFormData\n}) => {\n  _s4();\n  var _formData$content, _formData$content2, _formData$content3;\n  const [videoSource, setVideoSource] = useState((_formData$content = formData.content) !== null && _formData$content !== void 0 && _formData$content.file_url ? 'file' : 'url');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold text-gray-900\",\n      children: \"Video Configuration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-2\",\n        children: \"Video Source\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"url\",\n            checked: videoSource === 'url',\n            onChange: e => setVideoSource(e.target.value),\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"YouTube/Vimeo URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"file\",\n            checked: videoSource === 'file',\n            onChange: e => setVideoSource(e.target.value),\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"File Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 7\n    }, this), videoSource === 'url' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-1\",\n        children: \"Video URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: ((_formData$content2 = formData.content) === null || _formData$content2 === void 0 ? void 0 : _formData$content2.url) || '',\n        onChange: e => setFormData({\n          ...formData,\n          content: {\n            ...formData.content,\n            url: e.target.value\n          }\n        }),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"https://www.youtube.com/embed/...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Use embed URL format for YouTube/Vimeo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-1\",\n        children: \"Video File URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: ((_formData$content3 = formData.content) === null || _formData$content3 === void 0 ? void 0 : _formData$content3.file_url) || '',\n        onChange: e => setFormData({\n          ...formData,\n          content: {\n            ...formData.content,\n            file_url: e.target.value\n          }\n        }),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"https://example.com/video.mp4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Direct link to video file (.mp4, .webm, etc.)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 646,\n    columnNumber: 5\n  }, this);\n};\n\n// Text Editor Component\n_s4(VideoEditor, \"l+klO3SKEDHjYZf1etJhJgItoJs=\");\n_c4 = VideoEditor;\nconst TextEditor = ({\n  formData,\n  setFormData\n}) => {\n  var _formData$content4;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold text-gray-900\",\n      children: \"Text Content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-1\",\n        children: \"Lesson Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: ((_formData$content4 = formData.content) === null || _formData$content4 === void 0 ? void 0 : _formData$content4.text) || '',\n        onChange: e => setFormData({\n          ...formData,\n          content: {\n            ...formData.content,\n            text: e.target.value\n          }\n        }),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono\",\n        rows: \"12\",\n        placeholder: \"Enter lesson content here. You can use HTML tags for formatting.\",\n        \"data-testid\": \"text-content-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Supports HTML formatting: <h1>, <p>, <strong>, <em>, <ul>, <ol>, <code>, etc.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 717,\n    columnNumber: 5\n  }, this);\n};\n\n// PDF Editor Component\n_c5 = TextEditor;\nconst PDFEditor = ({\n  formData,\n  setFormData\n}) => {\n  var _formData$content5;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold text-gray-900\",\n      children: \"PDF Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-1\",\n        children: \"PDF URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: ((_formData$content5 = formData.content) === null || _formData$content5 === void 0 ? void 0 : _formData$content5.url) || '',\n        onChange: e => setFormData({\n          ...formData,\n          content: {\n            ...formData.content,\n            url: e.target.value\n          }\n        }),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n        placeholder: \"https://example.com/document.pdf\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Direct link to PDF file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 745,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 743,\n    columnNumber: 5\n  }, this);\n};\n\n// Quiz Editor Component\n_c6 = PDFEditor;\nconst QuizEditor = ({\n  formData,\n  setFormData\n}) => {\n  _s5();\n  var _formData$content6;\n  const [questions, setQuestions] = useState(((_formData$content6 = formData.content) === null || _formData$content6 === void 0 ? void 0 : _formData$content6.questions) || []);\n  const addQuestion = () => {\n    setQuestions([...questions, {\n      question: '',\n      answers: ['', '', '', ''],\n      correct_answer: 0\n    }]);\n  };\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = {\n      ...newQuestions[index],\n      [field]: value\n    };\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: {\n        ...formData.content,\n        questions: newQuestions\n      }\n    });\n  };\n  const updateAnswer = (qIndex, aIndex, value) => {\n    const newQuestions = [...questions];\n    newQuestions[qIndex].answers[aIndex] = value;\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: {\n        ...formData.content,\n        questions: newQuestions\n      }\n    });\n  };\n  const removeQuestion = index => {\n    const newQuestions = questions.filter((_, i) => i !== index);\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: {\n        ...formData.content,\n        questions: newQuestions\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold text-gray-900\",\n        children: \"Quiz Questions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: addQuestion,\n        className: \"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm\",\n        \"data-testid\": \"add-quiz-question-button\",\n        children: \"+ Add Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 7\n    }, this), questions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(QuestionMarkCircleIcon, {\n        className: \"w-12 h-12 text-gray-300 mx-auto mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No questions yet. Click \\\"Add Question\\\" to get started.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: questions.map((question, qIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border rounded-lg p-4 bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900\",\n            children: [\"Question \", qIndex + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => removeQuestion(qIndex),\n            className: \"text-red-600 hover:text-red-700\",\n            children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: question.question,\n            onChange: e => updateQuestion(qIndex, 'question', e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Enter your question\",\n            \"data-testid\": `quiz-question-${qIndex}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Answers (select correct one)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 19\n            }, this), question.answers.map((answer, aIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: `correct-${qIndex}`,\n                checked: question.correct_answer === aIndex,\n                onChange: () => updateQuestion(qIndex, 'correct_answer', aIndex),\n                className: \"flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: answer,\n                onChange: e => updateAnswer(qIndex, aIndex, e.target.value),\n                className: \"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n                placeholder: `Answer ${aIndex + 1}`,\n                \"data-testid\": `quiz-answer-${qIndex}-${aIndex}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 23\n              }, this)]\n            }, aIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 15\n        }, this)]\n      }, qIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 807,\n    columnNumber: 5\n  }, this);\n};\n_s5(QuizEditor, \"jd17HavB+X+Zux2Bapn+sJw0pJA=\");\n_c7 = QuizEditor;\nexport default EnhancedCourseBuilder;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"EnhancedCourseBuilder\");\n$RefreshReg$(_c2, \"ModuleModal\");\n$RefreshReg$(_c3, \"LessonModal\");\n$RefreshReg$(_c4, \"VideoEditor\");\n$RefreshReg$(_c5, \"TextEditor\");\n$RefreshReg$(_c6, \"PDFEditor\");\n$RefreshReg$(_c7, \"QuizEditor\");","map":{"version":3,"names":["React","useState","useEffect","api","DragDropContext","Droppable","Draggable","PlusIcon","BookOpenIcon","PlayIcon","DocumentTextIcon","QuestionMarkCircleIcon","TrashIcon","PencilIcon","ChevronDownIcon","ChevronUpIcon","Bars3Icon","XMarkIcon","jsxDEV","_jsxDEV","EnhancedCourseBuilder","course","onBack","_s","modules","setModules","loading","setLoading","showModuleModal","setShowModuleModal","showLessonModal","setShowLessonModal","editingModule","setEditingModule","editingLesson","setEditingLesson","selectedModuleId","setSelectedModuleId","expandedModules","setExpandedModules","Set","fetchCourseDetails","_response$data$module","response","get","id","data","allModuleIds","map","m","error","console","toggleModule","moduleId","prev","newSet","has","delete","add","handleDragEnd","result","destination","source","type","newModules","Array","from","removed","splice","index","updatedModules","mod","idx","order","Promise","all","put","droppableId","moduleIndex","findIndex","module","newLessons","lessons","updatedLessons","lesson","saveModule","moduleData","post","length","alert","deleteModule","window","confirm","saveLesson","lessonData","_module$lessons","find","deleteLesson","lessonId","openAddLesson","openEditLesson","getLessonIcon","contentType","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","reduce","acc","_m$lessons","onDragEnd","provided","droppableProps","ref","innerRef","draggableId","snapshot","_module$lessons2","draggableProps","isDragging","dragHandleProps","description","lessonIndex","LessonIcon","content_type","duration","placeholder","ModuleModal","onClose","onSave","LessonModal","_c","_s2","formData","setFormData","handleSubmit","e","preventDefault","onSubmit","value","onChange","target","required","rows","_c2","_s3","content","renderContentEditor","VideoEditor","TextEditor","PDFEditor","QuizEditor","parseInt","min","icon","label","Icon","_c3","_s4","_formData$content","_formData$content2","_formData$content3","videoSource","setVideoSource","file_url","checked","url","_c4","_formData$content4","text","_c5","_formData$content5","_c6","_s5","_formData$content6","questions","setQuestions","addQuestion","question","answers","correct_answer","updateQuestion","field","newQuestions","updateAnswer","qIndex","aIndex","removeQuestion","filter","_","i","answer","name","_c7","$RefreshReg$"],"sources":["/app/frontend/src/components/EnhancedCourseBuilder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { \n  PlusIcon, \n  BookOpenIcon, \n  PlayIcon, \n  DocumentTextIcon,\n  QuestionMarkCircleIcon,\n  TrashIcon,\n  PencilIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Bars3Icon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\n\nconst EnhancedCourseBuilder = ({ course, onBack }) => {\n  const [modules, setModules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModuleModal, setShowModuleModal] = useState(false);\n  const [showLessonModal, setShowLessonModal] = useState(false);\n  const [editingModule, setEditingModule] = useState(null);\n  const [editingLesson, setEditingLesson] = useState(null);\n  const [selectedModuleId, setSelectedModuleId] = useState(null);\n  const [expandedModules, setExpandedModules] = useState(new Set());\n\n  useEffect(() => {\n    fetchCourseDetails();\n  }, []);\n\n  const fetchCourseDetails = async () => {\n    try {\n      const response = await api.get(`/api/courses/${course.id}`);\n      setModules(response.data.modules || []);\n      // Expand all modules by default\n      const allModuleIds = new Set(response.data.modules?.map(m => m.id) || []);\n      setExpandedModules(allModuleIds);\n    } catch (error) {\n      console.error('Error fetching course details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleModule = (moduleId) => {\n    setExpandedModules(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(moduleId)) {\n        newSet.delete(moduleId);\n      } else {\n        newSet.add(moduleId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleDragEnd = async (result) => {\n    if (!result.destination) return;\n\n    const { source, destination, type } = result;\n\n    if (type === 'module') {\n      // Reorder modules\n      const newModules = Array.from(modules);\n      const [removed] = newModules.splice(source.index, 1);\n      newModules.splice(destination.index, 0, removed);\n      \n      // Update order property\n      const updatedModules = newModules.map((mod, idx) => ({\n        ...mod,\n        order: idx\n      }));\n      \n      setModules(updatedModules);\n      \n      // Update on backend\n      try {\n        await Promise.all(updatedModules.map(mod =>\n          api.put(`/courses/${course.id}/modules/${mod.id}`, { order: mod.order })\n        ));\n      } catch (error) {\n        console.error('Error updating module order:', error);\n        fetchCourseDetails(); // Revert on error\n      }\n    } else if (type === 'lesson') {\n      // Reorder lessons within a module\n      const moduleId = source.droppableId;\n      const moduleIndex = modules.findIndex(m => m.id === moduleId);\n      const module = modules[moduleIndex];\n      \n      const newLessons = Array.from(module.lessons || []);\n      const [removed] = newLessons.splice(source.index, 1);\n      newLessons.splice(destination.index, 0, removed);\n      \n      // Update order property\n      const updatedLessons = newLessons.map((lesson, idx) => ({\n        ...lesson,\n        order: idx\n      }));\n      \n      const newModules = [...modules];\n      newModules[moduleIndex] = { ...module, lessons: updatedLessons };\n      setModules(newModules);\n      \n      // Update on backend\n      try {\n        await Promise.all(updatedLessons.map(lesson =>\n          api.put(`/courses/${course.id}/modules/${moduleId}/lessons/${lesson.id}`, { order: lesson.order })\n        ));\n      } catch (error) {\n        console.error('Error updating lesson order:', error);\n        fetchCourseDetails(); // Revert on error\n      }\n    }\n  };\n\n  const saveModule = async (moduleData) => {\n    try {\n      if (editingModule) {\n        await api.put(`/courses/${course.id}/modules/${editingModule.id}`, moduleData);\n      } else {\n        await api.post(`/courses/${course.id}/modules`, {\n          ...moduleData,\n          order: modules.length\n        });\n      }\n      fetchCourseDetails();\n      setShowModuleModal(false);\n      setEditingModule(null);\n    } catch (error) {\n      console.error('Error saving module:', error);\n      alert('Failed to save module');\n    }\n  };\n\n  const deleteModule = async (moduleId) => {\n    if (!window.confirm('Delete this module and all its lessons?')) return;\n    \n    try {\n      await api.delete(`/courses/${course.id}/modules/${moduleId}`);\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error deleting module:', error);\n      alert('Failed to delete module');\n    }\n  };\n\n  const saveLesson = async (lessonData) => {\n    try {\n      if (editingLesson) {\n        await api.put(\n          `/courses/${course.id}/modules/${selectedModuleId}/lessons/${editingLesson.id}`,\n          lessonData\n        );\n      } else {\n        const module = modules.find(m => m.id === selectedModuleId);\n        await api.post(`/courses/${course.id}/modules/${selectedModuleId}/lessons`, {\n          ...lessonData,\n          order: module.lessons?.length || 0\n        });\n      }\n      fetchCourseDetails();\n      setShowLessonModal(false);\n      setEditingLesson(null);\n      setSelectedModuleId(null);\n    } catch (error) {\n      console.error('Error saving lesson:', error);\n      alert('Failed to save lesson');\n    }\n  };\n\n  const deleteLesson = async (moduleId, lessonId) => {\n    if (!window.confirm('Delete this lesson?')) return;\n    \n    try {\n      await api.delete(`/courses/${course.id}/modules/${moduleId}/lessons/${lessonId}`);\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error deleting lesson:', error);\n      alert('Failed to delete lesson');\n    }\n  };\n\n  const openAddLesson = (moduleId) => {\n    setSelectedModuleId(moduleId);\n    setEditingLesson(null);\n    setShowLessonModal(true);\n  };\n\n  const openEditLesson = (moduleId, lesson) => {\n    setSelectedModuleId(moduleId);\n    setEditingLesson(lesson);\n    setShowLessonModal(true);\n  };\n\n  const getLessonIcon = (contentType) => {\n    switch (contentType) {\n      case 'video': return PlayIcon;\n      case 'text': return DocumentTextIcon;\n      case 'pdf': return DocumentTextIcon;\n      case 'quiz': return QuestionMarkCircleIcon;\n      default: return BookOpenIcon;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\" data-testid=\"enhanced-course-builder\">\n      {/* Header */}\n      <div className=\"mb-6\">\n        <button\n          onClick={onBack}\n          className=\"text-blue-600 hover:text-blue-700 flex items-center mb-4\"\n          data-testid=\"back-to-courses-button\"\n        >\n          â† Back to Courses\n        </button>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{course.title}</h1>\n        <p className=\"text-gray-600\">Build your course content with drag & drop</p>\n      </div>\n\n      {/* Action Bar */}\n      <div className=\"bg-white rounded-lg shadow p-4 mb-6 flex justify-between items-center\">\n        <div className=\"text-sm text-gray-600\">\n          {modules.length} modules â€¢ {modules.reduce((acc, m) => acc + (m.lessons?.length || 0), 0)} lessons\n        </div>\n        <button\n          onClick={() => { setEditingModule(null); setShowModuleModal(true); }}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\"\n          data-testid=\"add-module-button\"\n        >\n          <PlusIcon className=\"w-5 h-5 mr-2\" />\n          Add Module\n        </button>\n      </div>\n\n      {/* Course Builder */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {modules.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <BookOpenIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No modules yet</h3>\n            <p className=\"text-gray-600 mb-6\">Add your first module to start building the course</p>\n            <button\n              onClick={() => setShowModuleModal(true)}\n              className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\"\n            >\n              Add First Module\n            </button>\n          </div>\n        ) : (\n          <DragDropContext onDragEnd={handleDragEnd}>\n            <Droppable droppableId=\"modules\" type=\"module\">\n              {(provided) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  className=\"p-6 space-y-4\"\n                >\n                  {modules.map((module, moduleIndex) => (\n                    <Draggable key={module.id} draggableId={module.id} index={moduleIndex}>\n                      {(provided, snapshot) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          className={`border rounded-lg ${\n                            snapshot.isDragging ? 'shadow-2xl bg-blue-50' : 'bg-white'\n                          }`}\n                        >\n                          {/* Module Header */}\n                          <div className=\"p-4 bg-gray-50 border-b flex items-center justify-between\">\n                            <div className=\"flex items-center flex-1\">\n                              <div {...provided.dragHandleProps} className=\"mr-3 cursor-move\">\n                                <Bars3Icon className=\"w-5 h-5 text-gray-400\" />\n                              </div>\n                              <button\n                                onClick={() => toggleModule(module.id)}\n                                className=\"mr-3\"\n                              >\n                                {expandedModules.has(module.id) ? (\n                                  <ChevronUpIcon className=\"w-5 h-5 text-gray-600\" />\n                                ) : (\n                                  <ChevronDownIcon className=\"w-5 h-5 text-gray-600\" />\n                                )}\n                              </button>\n                              <div className=\"flex-1\">\n                                <h3 className=\"font-semibold text-lg text-gray-900\">\n                                  Module {moduleIndex + 1}: {module.title}\n                                </h3>\n                                {module.description && (\n                                  <p className=\"text-sm text-gray-600 mt-1\">{module.description}</p>\n                                )}\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {module.lessons?.length || 0} lessons\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                              <button\n                                onClick={() => openAddLesson(module.id)}\n                                className=\"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\n                                data-testid={`add-lesson-${module.id}`}\n                              >\n                                + Add Lesson\n                              </button>\n                              <button\n                                onClick={() => { setEditingModule(module); setShowModuleModal(true); }}\n                                className=\"p-2 text-gray-600 hover:text-blue-600\"\n                              >\n                                <PencilIcon className=\"w-5 h-5\" />\n                              </button>\n                              <button\n                                onClick={() => deleteModule(module.id)}\n                                className=\"p-2 text-gray-600 hover:text-red-600\"\n                              >\n                                <TrashIcon className=\"w-5 h-5\" />\n                              </button>\n                            </div>\n                          </div>\n\n                          {/* Lessons */}\n                          {expandedModules.has(module.id) && (\n                            <Droppable droppableId={module.id} type=\"lesson\">\n                              {(provided) => (\n                                <div\n                                  {...provided.droppableProps}\n                                  ref={provided.innerRef}\n                                  className=\"p-4 space-y-2\"\n                                >\n                                  {module.lessons && module.lessons.length > 0 ? (\n                                    module.lessons.map((lesson, lessonIndex) => {\n                                      const LessonIcon = getLessonIcon(lesson.content_type);\n                                      return (\n                                        <Draggable\n                                          key={lesson.id}\n                                          draggableId={lesson.id}\n                                          index={lessonIndex}\n                                        >\n                                          {(provided, snapshot) => (\n                                            <div\n                                              ref={provided.innerRef}\n                                              {...provided.draggableProps}\n                                              className={`flex items-center justify-between p-3 rounded-lg border ${\n                                                snapshot.isDragging\n                                                  ? 'bg-blue-50 shadow-lg'\n                                                  : 'bg-gray-50 hover:bg-gray-100'\n                                              }`}\n                                            >\n                                              <div className=\"flex items-center flex-1\">\n                                                <div {...provided.dragHandleProps} className=\"mr-3 cursor-move\">\n                                                  <Bars3Icon className=\"w-4 h-4 text-gray-400\" />\n                                                </div>\n                                                <LessonIcon className=\"w-5 h-5 text-gray-500 mr-3\" />\n                                                <div>\n                                                  <p className=\"font-medium text-gray-900\">\n                                                    Lesson {lessonIndex + 1}: {lesson.title}\n                                                  </p>\n                                                  <p className=\"text-xs text-gray-500\">\n                                                    {lesson.content_type}\n                                                    {lesson.duration && ` â€¢ ${lesson.duration} min`}\n                                                  </p>\n                                                </div>\n                                              </div>\n                                              <div className=\"flex items-center space-x-2\">\n                                                <button\n                                                  onClick={() => openEditLesson(module.id, lesson)}\n                                                  className=\"p-1.5 text-gray-600 hover:text-blue-600\"\n                                                  data-testid={`edit-lesson-${lesson.id}`}\n                                                >\n                                                  <PencilIcon className=\"w-4 h-4\" />\n                                                </button>\n                                                <button\n                                                  onClick={() => deleteLesson(module.id, lesson.id)}\n                                                  className=\"p-1.5 text-gray-600 hover:text-red-600\"\n                                                >\n                                                  <TrashIcon className=\"w-4 h-4\" />\n                                                </button>\n                                              </div>\n                                            </div>\n                                          )}\n                                        </Draggable>\n                                      );\n                                    })\n                                  ) : (\n                                    <div className=\"text-center py-6 text-gray-500 text-sm\">\n                                      No lessons yet. Click \"Add Lesson\" to get started.\n                                    </div>\n                                  )}\n                                  {provided.placeholder}\n                                </div>\n                              )}\n                            </Droppable>\n                          )}\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        )}\n      </div>\n\n      {/* Module Modal */}\n      {showModuleModal && (\n        <ModuleModal\n          module={editingModule}\n          onClose={() => { setShowModuleModal(false); setEditingModule(null); }}\n          onSave={saveModule}\n        />\n      )}\n\n      {/* Lesson Modal */}\n      {showLessonModal && (\n        <LessonModal\n          lesson={editingLesson}\n          onClose={() => { setShowLessonModal(false); setEditingLesson(null); setSelectedModuleId(null); }}\n          onSave={saveLesson}\n        />\n      )}\n    </div>\n  );\n};\n\n// Module Modal Component\nconst ModuleModal = ({ module, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    title: module?.title || '',\n    description: module?.description || ''\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full\">\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold\">{module ? 'Edit Module' : 'Add New Module'}</h2>\n            <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n              <XMarkIcon className=\"w-6 h-6\" />\n            </button>\n          </div>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Module Title *</label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                required\n                placeholder=\"e.g., Introduction to the Course\"\n                data-testid=\"module-title-input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                rows=\"3\"\n                placeholder=\"Brief description of what this module covers\"\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                data-testid=\"save-module-button\"\n              >\n                {module ? 'Update Module' : 'Add Module'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Lesson Modal Component  \nconst LessonModal = ({ lesson, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    title: lesson?.title || '',\n    description: lesson?.description || '',\n    content_type: lesson?.content_type || 'text',\n    duration: lesson?.duration || 0,\n    content: lesson?.content || {}\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  const renderContentEditor = () => {\n    switch (formData.content_type) {\n      case 'video':\n        return <VideoEditor formData={formData} setFormData={setFormData} />;\n      case 'text':\n        return <TextEditor formData={formData} setFormData={setFormData} />;\n      case 'pdf':\n        return <PDFEditor formData={formData} setFormData={setFormData} />;\n      case 'quiz':\n        return <QuizEditor formData={formData} setFormData={setFormData} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold\">{lesson ? 'Edit Lesson' : 'Add New Lesson'}</h2>\n            <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n              <XMarkIcon className=\"w-6 h-6\" />\n            </button>\n          </div>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Lesson Title *</label>\n                <input\n                  type=\"text\"\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  required\n                  placeholder=\"e.g., Introduction to Variables\"\n                  data-testid=\"lesson-title-input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Duration (minutes)</label>\n                <input\n                  type=\"number\"\n                  value={formData.duration}\n                  onChange={(e) => setFormData({ ...formData, duration: parseInt(e.target.value) || 0 })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  placeholder=\"e.g., 15\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                rows=\"2\"\n                placeholder=\"Brief description of the lesson\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Content Type *</label>\n              <div className=\"grid grid-cols-4 gap-3\">\n                {[\n                  { value: 'video', icon: PlayIcon, label: 'Video' },\n                  { value: 'text', icon: DocumentTextIcon, label: 'Text' },\n                  { value: 'pdf', icon: DocumentTextIcon, label: 'PDF' },\n                  { value: 'quiz', icon: QuestionMarkCircleIcon, label: 'Quiz' }\n                ].map(({ value, icon: Icon, label }) => (\n                  <button\n                    key={value}\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, content_type: value, content: {} })}\n                    className={`p-4 border-2 rounded-lg flex flex-col items-center justify-center transition-colors ${\n                      formData.content_type === value\n                        ? 'border-blue-600 bg-blue-50 text-blue-600'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                    data-testid={`content-type-${value}`}\n                  >\n                    <Icon className=\"w-8 h-8 mb-2\" />\n                    <span className=\"text-sm font-medium\">{label}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Content Editor */}\n            <div className=\"border-t pt-6\">\n              {renderContentEditor()}\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                data-testid=\"save-lesson-button\"\n              >\n                {lesson ? 'Update Lesson' : 'Add Lesson'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Video Editor Component\nconst VideoEditor = ({ formData, setFormData }) => {\n  const [videoSource, setVideoSource] = useState(formData.content?.file_url ? 'file' : 'url');\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"font-semibold text-gray-900\">Video Configuration</h3>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Video Source</label>\n        <div className=\"flex space-x-4\">\n          <label className=\"flex items-center\">\n            <input\n              type=\"radio\"\n              value=\"url\"\n              checked={videoSource === 'url'}\n              onChange={(e) => setVideoSource(e.target.value)}\n              className=\"mr-2\"\n            />\n            <span>YouTube/Vimeo URL</span>\n          </label>\n          <label className=\"flex items-center\">\n            <input\n              type=\"radio\"\n              value=\"file\"\n              checked={videoSource === 'file'}\n              onChange={(e) => setVideoSource(e.target.value)}\n              className=\"mr-2\"\n            />\n            <span>File Upload</span>\n          </label>\n        </div>\n      </div>\n\n      {videoSource === 'url' ? (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Video URL</label>\n          <input\n            type=\"url\"\n            value={formData.content?.url || ''}\n            onChange={(e) => setFormData({\n              ...formData,\n              content: { ...formData.content, url: e.target.value }\n            })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://www.youtube.com/embed/...\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Use embed URL format for YouTube/Vimeo\n          </p>\n        </div>\n      ) : (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Video File URL</label>\n          <input\n            type=\"url\"\n            value={formData.content?.file_url || ''}\n            onChange={(e) => setFormData({\n              ...formData,\n              content: { ...formData.content, file_url: e.target.value }\n            })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://example.com/video.mp4\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Direct link to video file (.mp4, .webm, etc.)\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Text Editor Component\nconst TextEditor = ({ formData, setFormData }) => {\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"font-semibold text-gray-900\">Text Content</h3>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Lesson Content</label>\n        <textarea\n          value={formData.content?.text || ''}\n          onChange={(e) => setFormData({\n            ...formData,\n            content: { ...formData.content, text: e.target.value }\n          })}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono\"\n          rows=\"12\"\n          placeholder=\"Enter lesson content here. You can use HTML tags for formatting.\"\n          data-testid=\"text-content-input\"\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Supports HTML formatting: &lt;h1&gt;, &lt;p&gt;, &lt;strong&gt;, &lt;em&gt;, &lt;ul&gt;, &lt;ol&gt;, &lt;code&gt;, etc.\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// PDF Editor Component\nconst PDFEditor = ({ formData, setFormData }) => {\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"font-semibold text-gray-900\">PDF Document</h3>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">PDF URL</label>\n        <input\n          type=\"url\"\n          value={formData.content?.url || ''}\n          onChange={(e) => setFormData({\n            ...formData,\n            content: { ...formData.content, url: e.target.value }\n          })}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          placeholder=\"https://example.com/document.pdf\"\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Direct link to PDF file\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// Quiz Editor Component\nconst QuizEditor = ({ formData, setFormData }) => {\n  const [questions, setQuestions] = useState(formData.content?.questions || []);\n\n  const addQuestion = () => {\n    setQuestions([...questions, {\n      question: '',\n      answers: ['', '', '', ''],\n      correct_answer: 0\n    }]);\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: { ...formData.content, questions: newQuestions }\n    });\n  };\n\n  const updateAnswer = (qIndex, aIndex, value) => {\n    const newQuestions = [...questions];\n    newQuestions[qIndex].answers[aIndex] = value;\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: { ...formData.content, questions: newQuestions }\n    });\n  };\n\n  const removeQuestion = (index) => {\n    const newQuestions = questions.filter((_, i) => i !== index);\n    setQuestions(newQuestions);\n    setFormData({\n      ...formData,\n      content: { ...formData.content, questions: newQuestions }\n    });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold text-gray-900\">Quiz Questions</h3>\n        <button\n          type=\"button\"\n          onClick={addQuestion}\n          className=\"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm\"\n          data-testid=\"add-quiz-question-button\"\n        >\n          + Add Question\n        </button>\n      </div>\n\n      {questions.length === 0 ? (\n        <div className=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg\">\n          <QuestionMarkCircleIcon className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\n          <p className=\"text-gray-500\">No questions yet. Click \"Add Question\" to get started.</p>\n        </div>\n      ) : (\n        <div className=\"space-y-6\">\n          {questions.map((question, qIndex) => (\n            <div key={qIndex} className=\"border rounded-lg p-4 bg-gray-50\">\n              <div className=\"flex items-start justify-between mb-3\">\n                <h4 className=\"font-medium text-gray-900\">Question {qIndex + 1}</h4>\n                <button\n                  type=\"button\"\n                  onClick={() => removeQuestion(qIndex)}\n                  className=\"text-red-600 hover:text-red-700\"\n                >\n                  <TrashIcon className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-3\">\n                <input\n                  type=\"text\"\n                  value={question.question}\n                  onChange={(e) => updateQuestion(qIndex, 'question', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter your question\"\n                  data-testid={`quiz-question-${qIndex}`}\n                />\n\n                <div className=\"space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700\">Answers (select correct one)</label>\n                  {question.answers.map((answer, aIndex) => (\n                    <div key={aIndex} className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"radio\"\n                        name={`correct-${qIndex}`}\n                        checked={question.correct_answer === aIndex}\n                        onChange={() => updateQuestion(qIndex, 'correct_answer', aIndex)}\n                        className=\"flex-shrink-0\"\n                      />\n                      <input\n                        type=\"text\"\n                        value={answer}\n                        onChange={(e) => updateAnswer(qIndex, aIndex, e.target.value)}\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                        placeholder={`Answer ${aIndex + 1}`}\n                        data-testid={`quiz-answer-${qIndex}-${aIndex}`}\n                      />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EnhancedCourseBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}