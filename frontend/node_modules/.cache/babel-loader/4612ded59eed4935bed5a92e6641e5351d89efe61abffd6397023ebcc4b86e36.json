{"ast":null,"code":"import React,{useState}from'react';import{Monitor,Smartphone,X,Code,Eye}from'lucide-react';import{blocksToHTML}from'./utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviewPanel=_ref=>{let{blocks,onClose}=_ref;const[viewMode,setViewMode]=useState('desktop');// desktop, mobile\nconst[previewMode,setPreviewMode]=useState('visual');// visual, html\nconst htmlContent=blocksToHTML(blocks);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Email Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setViewMode('desktop'),className:\"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition \".concat(viewMode==='desktop'?'bg-blue-50 border-blue-500 text-blue-600':'border-gray-300 text-gray-600 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Monitor,{size:16}),\"Desktop\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setViewMode('mobile'),className:\"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition \".concat(viewMode==='mobile'?'bg-blue-50 border-blue-500 text-blue-600':'border-gray-300 text-gray-600 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Smartphone,{size:16}),\"Mobile\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 ml-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPreviewMode('visual'),className:\"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition \".concat(previewMode==='visual'?'bg-blue-50 border-blue-500 text-blue-600':'border-gray-300 text-gray-600 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"Visual\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPreviewMode('html'),className:\"flex items-center gap-2 px-3 py-1.5 rounded-lg border transition \".concat(previewMode==='html'?'bg-blue-50 border-blue-500 text-blue-600':'border-gray-300 text-gray-600 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Code,{size:16}),\"HTML\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 hover:bg-gray-100 rounded-lg transition\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-auto bg-gray-100 p-8\",children:previewMode==='visual'?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg\",style:{width:viewMode==='desktop'?'800px':'375px',maxWidth:'100%',transition:'width 0.3s'},children:/*#__PURE__*/_jsx(\"iframe\",{srcDoc:htmlContent,title:\"Email Preview\",className:\"w-full border-0\",style:{minHeight:'600px'},sandbox:\"allow-same-origin\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 rounded-lg p-4 overflow-auto\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"text-green-400 text-sm font-mono whitespace-pre-wrap\",children:htmlContent})})})})]})});};export default PreviewPanel;","map":{"version":3,"names":["React","useState","Monitor","Smartphone","X","Code","Eye","blocksToHTML","jsx","_jsx","jsxs","_jsxs","PreviewPanel","_ref","blocks","onClose","viewMode","setViewMode","previewMode","setPreviewMode","htmlContent","className","children","onClick","concat","size","style","width","maxWidth","transition","srcDoc","title","minHeight","sandbox"],"sources":["/app/frontend/src/components/EmailBuilder/PreviewPanel.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Monitor, Smartphone, X, Code, Eye } from 'lucide-react';\nimport { blocksToHTML } from './utils';\n\nconst PreviewPanel = ({ blocks, onClose }) => {\n  const [viewMode, setViewMode] = useState('desktop'); // desktop, mobile\n  const [previewMode, setPreviewMode] = useState('visual'); // visual, html\n\n  const htmlContent = blocksToHTML(blocks);\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Email Preview</h3>\n            \n            {/* View Mode Toggle */}\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setViewMode('desktop')}\n                className={`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition ${\n                  viewMode === 'desktop'\n                    ? 'bg-blue-50 border-blue-500 text-blue-600'\n                    : 'border-gray-300 text-gray-600 hover:bg-gray-50'\n                }`}\n              >\n                <Monitor size={16} />\n                Desktop\n              </button>\n              <button\n                onClick={() => setViewMode('mobile')}\n                className={`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition ${\n                  viewMode === 'mobile'\n                    ? 'bg-blue-50 border-blue-500 text-blue-600'\n                    : 'border-gray-300 text-gray-600 hover:bg-gray-50'\n                }`}\n              >\n                <Smartphone size={16} />\n                Mobile\n              </button>\n            </div>\n\n            {/* Preview Mode Toggle */}\n            <div className=\"flex gap-2 ml-4\">\n              <button\n                onClick={() => setPreviewMode('visual')}\n                className={`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition ${\n                  previewMode === 'visual'\n                    ? 'bg-blue-50 border-blue-500 text-blue-600'\n                    : 'border-gray-300 text-gray-600 hover:bg-gray-50'\n                }`}\n              >\n                <Eye size={16} />\n                Visual\n              </button>\n              <button\n                onClick={() => setPreviewMode('html')}\n                className={`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition ${\n                  previewMode === 'html'\n                    ? 'bg-blue-50 border-blue-500 text-blue-600'\n                    : 'border-gray-300 text-gray-600 hover:bg-gray-50'\n                }`}\n              >\n                <Code size={16} />\n                HTML\n              </button>\n            </div>\n          </div>\n\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Preview Content */}\n        <div className=\"flex-1 overflow-auto bg-gray-100 p-8\">\n          {previewMode === 'visual' ? (\n            <div className=\"flex justify-center\">\n              <div\n                className=\"bg-white shadow-lg\"\n                style={{\n                  width: viewMode === 'desktop' ? '800px' : '375px',\n                  maxWidth: '100%',\n                  transition: 'width 0.3s',\n                }}\n              >\n                <iframe\n                  srcDoc={htmlContent}\n                  title=\"Email Preview\"\n                  className=\"w-full border-0\"\n                  style={{ minHeight: '600px' }}\n                  sandbox=\"allow-same-origin\"\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"max-w-4xl mx-auto\">\n              <div className=\"bg-gray-900 rounded-lg p-4 overflow-auto\">\n                <pre className=\"text-green-400 text-sm font-mono whitespace-pre-wrap\">\n                  {htmlContent}\n                </pre>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PreviewPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}