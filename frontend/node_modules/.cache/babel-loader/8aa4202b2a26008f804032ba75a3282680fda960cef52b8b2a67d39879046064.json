{"ast":null,"code":"// Convert blocks to HTML for email sending\nexport const blocksToHTML = blocks => {\n  if (!blocks || blocks.length === 0) {\n    return '<p>Empty email</p>';\n  }\n  const blockHTML = blocks.map(block => {\n    switch (block.type) {\n      case 'heading':\n        return `<div style=\"${stylesToString(block.styles)}\">${block.content}</div>`;\n      case 'paragraph':\n        return `<p style=\"${stylesToString(block.styles)}\">${block.content}</p>`;\n      case 'button':\n        const buttonAlign = block.styles.textAlign || 'center';\n        return `\n          <div style=\"text-align: ${buttonAlign};\">\n            <a href=\"${block.link}\" style=\"${stylesToString({\n          ...block.styles,\n          textDecoration: 'none',\n          display: 'inline-block'\n        })}\">\n              ${block.content}\n            </a>\n          </div>\n        `;\n      case 'image':\n        const imgTag = `<img src=\"${block.src}\" alt=\"${block.alt}\" style=\"${stylesToString(block.styles)}\" />`;\n        return block.link ? `<div style=\"text-align: center;\"><a href=\"${block.link}\">${imgTag}</a></div>` : `<div style=\"text-align: center;\">${imgTag}</div>`;\n      case 'divider':\n        return `<hr style=\"border: none; border-top: ${block.styles.borderWidth} solid ${block.styles.borderColor}; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\" />`;\n      case 'spacer':\n        return `<div style=\"height: ${block.styles.height};\"></div>`;\n      case 'columns':\n        const colsHTML = block.columns.map(col => `<td style=\"${stylesToString(col.styles)}\">${col.content}</td>`).join('');\n        return `\n          <table style=\"width: 100%; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\">\n            <tr>${colsHTML}</tr>\n          </table>\n        `;\n      case 'list':\n        const listTag = block.listType === 'bullet' ? 'ul' : 'ol';\n        const items = block.items.map(item => `<li>${item}</li>`).join('');\n        return `<${listTag} style=\"${stylesToString(block.styles)}\">${items}</${listTag}>`;\n      default:\n        return '';\n    }\n  }).join('\\n');\n\n  // Wrap in email template\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Email</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td align=\"center\" style=\"padding: 40px 0;\">\n        <table role=\"presentation\" style=\"width: 600px; max-width: 100%; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\">\n          <tr>\n            <td style=\"padding: 40px;\">\n              ${blockHTML}\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n  `.trim();\n};\n\n// Convert styles object to CSS string\nconst stylesToString = styles => {\n  return Object.entries(styles).map(([key, value]) => {\n    // Convert camelCase to kebab-case\n    const cssKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n    return `${cssKey}: ${value}`;\n  }).join('; ');\n};\n\n// HTML to blocks (basic parser for importing)\nexport const htmlToBlocks = html => {\n  // This is a simplified parser - can be enhanced later\n  const blocks = [];\n\n  // For now, just create a single paragraph block with the HTML\n  blocks.push({\n    id: `block-${Date.now()}`,\n    type: 'paragraph',\n    content: 'Imported HTML content (editing coming soon)',\n    styles: {\n      fontSize: '16px',\n      color: '#333333',\n      textAlign: 'left',\n      lineHeight: '1.6',\n      marginTop: '10px',\n      marginBottom: '10px'\n    }\n  });\n  return blocks;\n};","map":{"version":3,"names":["blocksToHTML","blocks","length","blockHTML","map","block","type","stylesToString","styles","content","buttonAlign","textAlign","link","textDecoration","display","imgTag","src","alt","borderWidth","borderColor","marginTop","marginBottom","height","colsHTML","columns","col","join","listTag","listType","items","item","trim","Object","entries","key","value","cssKey","replace","toLowerCase","htmlToBlocks","html","push","id","Date","now","fontSize","color","lineHeight"],"sources":["/app/frontend/src/components/EmailBuilder/utils.js"],"sourcesContent":["// Convert blocks to HTML for email sending\nexport const blocksToHTML = (blocks) => {\n  if (!blocks || blocks.length === 0) {\n    return '<p>Empty email</p>';\n  }\n\n  const blockHTML = blocks.map(block => {\n    switch (block.type) {\n      case 'heading':\n        return `<div style=\"${stylesToString(block.styles)}\">${block.content}</div>`;\n\n      case 'paragraph':\n        return `<p style=\"${stylesToString(block.styles)}\">${block.content}</p>`;\n\n      case 'button':\n        const buttonAlign = block.styles.textAlign || 'center';\n        return `\n          <div style=\"text-align: ${buttonAlign};\">\n            <a href=\"${block.link}\" style=\"${stylesToString({...block.styles, textDecoration: 'none', display: 'inline-block'})}\">\n              ${block.content}\n            </a>\n          </div>\n        `;\n\n      case 'image':\n        const imgTag = `<img src=\"${block.src}\" alt=\"${block.alt}\" style=\"${stylesToString(block.styles)}\" />`;\n        return block.link\n          ? `<div style=\"text-align: center;\"><a href=\"${block.link}\">${imgTag}</a></div>`\n          : `<div style=\"text-align: center;\">${imgTag}</div>`;\n\n      case 'divider':\n        return `<hr style=\"border: none; border-top: ${block.styles.borderWidth} solid ${block.styles.borderColor}; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\" />`;\n\n      case 'spacer':\n        return `<div style=\"height: ${block.styles.height};\"></div>`;\n\n      case 'columns':\n        const colsHTML = block.columns.map(col => \n          `<td style=\"${stylesToString(col.styles)}\">${col.content}</td>`\n        ).join('');\n        return `\n          <table style=\"width: 100%; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\">\n            <tr>${colsHTML}</tr>\n          </table>\n        `;\n\n      case 'list':\n        const listTag = block.listType === 'bullet' ? 'ul' : 'ol';\n        const items = block.items.map(item => `<li>${item}</li>`).join('');\n        return `<${listTag} style=\"${stylesToString(block.styles)}\">${items}</${listTag}>`;\n\n      default:\n        return '';\n    }\n  }).join('\\n');\n\n  // Wrap in email template\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Email</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td align=\"center\" style=\"padding: 40px 0;\">\n        <table role=\"presentation\" style=\"width: 600px; max-width: 100%; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\">\n          <tr>\n            <td style=\"padding: 40px;\">\n              ${blockHTML}\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n  `.trim();\n};\n\n// Convert styles object to CSS string\nconst stylesToString = (styles) => {\n  return Object.entries(styles)\n    .map(([key, value]) => {\n      // Convert camelCase to kebab-case\n      const cssKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n      return `${cssKey}: ${value}`;\n    })\n    .join('; ');\n};\n\n// HTML to blocks (basic parser for importing)\nexport const htmlToBlocks = (html) => {\n  // This is a simplified parser - can be enhanced later\n  const blocks = [];\n  \n  // For now, just create a single paragraph block with the HTML\n  blocks.push({\n    id: `block-${Date.now()}`,\n    type: 'paragraph',\n    content: 'Imported HTML content (editing coming soon)',\n    styles: {\n      fontSize: '16px',\n      color: '#333333',\n      textAlign: 'left',\n      lineHeight: '1.6',\n      marginTop: '10px',\n      marginBottom: '10px',\n    },\n  });\n\n  return blocks;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}