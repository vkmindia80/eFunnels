{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Video,Calendar,Users,MessageSquare,HelpCircle,BarChart3,Plus,Edit,Trash2,Play,Square,Eye,Download,Send,ThumbsUp,Clock,TrendingUp,CheckCircle,X,Settings,MoreVertical,Upload,ExternalLink,Copy,Mail,User,Phone,Building}from'lucide-react';import api from'../api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Webinars=()=>{const[activeTab,setActiveTab]=useState('webinars');// webinars, upcoming, recordings, analytics\nconst[webinars,setWebinars]=useState([]);const[recordings,setRecordings]=useState([]);const[loading,setLoading]=useState(true);const[showCreateModal,setShowCreateModal]=useState(false);const[showWebinarView,setShowWebinarView]=useState(null);const[analytics,setAnalytics]=useState(null);const[selectedWebinar,setSelectedWebinar]=useState(null);const[showRecordingModal,setShowRecordingModal]=useState(null);useEffect(()=>{fetchWebinars();fetchAnalytics();},[]);useEffect(()=>{if(activeTab==='recordings'){fetchAllRecordings();}},[activeTab]);const fetchWebinars=async()=>{try{setLoading(true);const response=await api.get('/api/webinars');setWebinars(response.data.webinars||[]);}catch(error){console.error('Error fetching webinars:',error);}finally{setLoading(false);}};const fetchAnalytics=async()=>{try{const response=await api.get('/api/webinars/analytics/summary');setAnalytics(response.data);}catch(error){console.error('Error fetching analytics:',error);}};const fetchAllRecordings=async()=>{try{setLoading(true);// Fetch recordings for all webinars\nconst allRecordings=[];for(const webinar of webinars){const response=await api.get(\"/api/webinars/\".concat(webinar.id,\"/recordings\"));if(response.data.recordings){allRecordings.push(...response.data.recordings.map(r=>_objectSpread(_objectSpread({},r),{},{webinar_title:webinar.title})));}}setRecordings(allRecordings);}catch(error){console.error('Error fetching recordings:',error);}finally{setLoading(false);}};const getStatusColor=status=>{const colors={draft:'bg-gray-100 text-gray-700',scheduled:'bg-blue-100 text-blue-700',live:'bg-green-100 text-green-700 animate-pulse',ended:'bg-purple-100 text-purple-700',cancelled:'bg-red-100 text-red-700'};return colors[status]||colors.draft;};const formatDate=dateString=>{if(!dateString)return'Not scheduled';const date=new Date(dateString);return new Intl.DateTimeFormat('en-US',{dateStyle:'medium',timeStyle:'short'}).format(date);};const handleDeleteWebinar=async webinarId=>{if(!window.confirm('Are you sure you want to delete this webinar?'))return;try{await api.delete(\"/api/webinars/\".concat(webinarId));fetchWebinars();fetchAnalytics();}catch(error){console.error('Error deleting webinar:',error);alert('Failed to delete webinar');}};if(showWebinarView){return/*#__PURE__*/_jsx(WebinarLiveView,{webinar:showWebinarView,onClose:()=>setShowWebinarView(null)});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",\"data-testid\":\"webinars-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Video,{className:\"text-blue-600\",size:32}),\"Webinars\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Create and manage live webinars\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\",\"data-testid\":\"create-webinar-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create Webinar\"]})]})}),analytics&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Webinars\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:analytics.total_webinars})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(Video,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Upcoming\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:analytics.upcoming_webinars})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(Calendar,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Registrations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:analytics.total_registrations})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(Users,{className:\"text-purple-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Attendance Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:[analytics.average_attendance_rate,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"text-orange-600\",size:24})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('webinars'),className:\"pb-3 px-4 font-medium transition \".concat(activeTab==='webinars'?'border-b-2 border-blue-600 text-blue-600':'text-gray-600 hover:text-gray-900'),children:\"All Webinars\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('upcoming'),className:\"pb-3 px-4 font-medium transition \".concat(activeTab==='upcoming'?'border-b-2 border-blue-600 text-blue-600':'text-gray-600 hover:text-gray-900'),children:\"Upcoming\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('recordings'),className:\"pb-3 px-4 font-medium transition \".concat(activeTab==='recordings'?'border-b-2 border-blue-600 text-blue-600':'text-gray-600 hover:text-gray-900'),children:\"Recordings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('analytics'),className:\"pb-3 px-4 font-medium transition \".concat(activeTab==='analytics'?'border-b-2 border-blue-600 text-blue-600':'text-gray-600 hover:text-gray-900'),children:\"Analytics\"})]}),activeTab==='webinars'&&/*#__PURE__*/_jsx(WebinarsList,{webinars:webinars,onDelete:handleDeleteWebinar,onView:setShowWebinarView,onEdit:setSelectedWebinar,loading:loading}),activeTab==='upcoming'&&/*#__PURE__*/_jsx(WebinarsList,{webinars:webinars.filter(w=>w.status==='scheduled'&&new Date(w.scheduled_at)>new Date()),onDelete:handleDeleteWebinar,onView:setShowWebinarView,onEdit:setSelectedWebinar,loading:loading}),activeTab==='recordings'&&/*#__PURE__*/_jsx(RecordingsPanel,{webinars:webinars,recordings:recordings,onRefresh:fetchAllRecordings,onAddRecording:setShowRecordingModal,loading:loading}),activeTab==='analytics'&&/*#__PURE__*/_jsx(WebinarAnalytics,{webinars:webinars}),(showCreateModal||selectedWebinar)&&/*#__PURE__*/_jsx(CreateWebinarModal,{webinar:selectedWebinar,onClose:()=>{setShowCreateModal(false);setSelectedWebinar(null);},onSuccess:()=>{setShowCreateModal(false);setSelectedWebinar(null);fetchWebinars();fetchAnalytics();}})]});};const WebinarsList=_ref=>{let{webinars,onDelete,onView,onEdit,loading}=_ref;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}if(webinars.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center\",children:[/*#__PURE__*/_jsx(Video,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No webinars yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Create your first webinar to get started\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:webinars.map(webinar=>/*#__PURE__*/_jsx(WebinarCard,{webinar:webinar,onDelete:onDelete,onView:onView,onEdit:onEdit},webinar.id))});};const WebinarCard=_ref2=>{let{webinar,onDelete,onView,onEdit}=_ref2;const getStatusColor=status=>{const colors={draft:'bg-gray-100 text-gray-700',scheduled:'bg-blue-100 text-blue-700',live:'bg-green-100 text-green-700 animate-pulse',ended:'bg-purple-100 text-purple-700',cancelled:'bg-red-100 text-red-700'};return colors[status]||colors.draft;};const formatDate=dateString=>{if(!dateString)return'Not scheduled';const date=new Date(dateString);return new Intl.DateTimeFormat('en-US',{dateStyle:'medium',timeStyle:'short'}).format(date);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-40 bg-gradient-to-br from-blue-500 to-purple-600 relative\",children:[webinar.thumbnail_url?/*#__PURE__*/_jsx(\"img\",{src:webinar.thumbnail_url,alt:webinar.title,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(Video,{className:\"text-white opacity-50\",size:48})}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(webinar.status)),children:webinar.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg text-gray-900 mb-2 line-clamp-2\",children:webinar.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(webinar.scheduled_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[webinar.duration_minutes,\" minutes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Users,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[webinar.registration_count,\" registered\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"text-blue-600\",size:16})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:webinar.presenter_name})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[webinar.status==='live'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onView(webinar),className:\"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm font-medium\",children:[/*#__PURE__*/_jsx(Play,{size:16}),\"Join Live\"]}),webinar.status==='scheduled'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onView(webinar),className:\"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"View\"]}),(webinar.status==='draft'||webinar.status==='ended')&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onEdit(webinar),className:\"flex-1 flex items-center justify-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition text-sm font-medium\",children:[/*#__PURE__*/_jsx(Edit,{size:16}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(webinar.id),className:\"bg-red-100 text-red-600 px-4 py-2 rounded-lg hover:bg-red-200 transition\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]})]});};const CreateWebinarModal=_ref3=>{var _webinar$registration,_webinar$send_reminde;let{webinar,onClose,onSuccess}=_ref3;const[formData,setFormData]=useState({title:(webinar===null||webinar===void 0?void 0:webinar.title)||'',description:(webinar===null||webinar===void 0?void 0:webinar.description)||'',scheduled_at:webinar!==null&&webinar!==void 0&&webinar.scheduled_at?new Date(webinar.scheduled_at).toISOString().slice(0,16):'',duration_minutes:(webinar===null||webinar===void 0?void 0:webinar.duration_minutes)||60,timezone:(webinar===null||webinar===void 0?void 0:webinar.timezone)||'UTC',max_attendees:(webinar===null||webinar===void 0?void 0:webinar.max_attendees)||'',presenter_name:(webinar===null||webinar===void 0?void 0:webinar.presenter_name)||'',presenter_bio:(webinar===null||webinar===void 0?void 0:webinar.presenter_bio)||'',presenter_avatar:(webinar===null||webinar===void 0?void 0:webinar.presenter_avatar)||'',thumbnail_url:(webinar===null||webinar===void 0?void 0:webinar.thumbnail_url)||'',registration_required:(_webinar$registration=webinar===null||webinar===void 0?void 0:webinar.registration_required)!==null&&_webinar$registration!==void 0?_webinar$registration:true,send_reminders:(_webinar$send_reminde=webinar===null||webinar===void 0?void 0:webinar.send_reminders)!==null&&_webinar$send_reminde!==void 0?_webinar$send_reminde:true});const[saving,setSaving]=useState(false);const handleSubmit=async e=>{e.preventDefault();setSaving(true);try{const payload=_objectSpread(_objectSpread({},formData),{},{max_attendees:formData.max_attendees?parseInt(formData.max_attendees):null,duration_minutes:parseInt(formData.duration_minutes)});if(webinar){await api.put(\"/api/webinars/\".concat(webinar.id),payload);}else{await api.post('/api/webinars',payload);}onSuccess();}catch(error){console.error('Error saving webinar:',error);alert('Failed to save webinar');}finally{setSaving(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:webinar?'Edit Webinar':'Create New Webinar'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Webinar Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"e.g., Master Digital Marketing in 2025\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),rows:4,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Describe what attendees will learn...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Scheduled Date & Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:formData.scheduled_at,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{scheduled_at:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Duration (minutes) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.duration_minutes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{duration_minutes:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",min:\"15\",step:\"15\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Timezone\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.timezone,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{timezone:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"UTC\",children:\"UTC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/New_York\",children:\"Eastern Time (ET)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Chicago\",children:\"Central Time (CT)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Denver\",children:\"Mountain Time (MT)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Los_Angeles\",children:\"Pacific Time (PT)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe/London\",children:\"London (GMT)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe/Paris\",children:\"Paris (CET)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Asia/Tokyo\",children:\"Tokyo (JST)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Max Attendees (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.max_attendees,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{max_attendees:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Leave empty for unlimited\",min:\"1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Presenter Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Presenter Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.presenter_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{presenter_name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Presenter Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.presenter_bio,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{presenter_bio:e.target.value})),rows:3,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Brief bio about the presenter...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Presenter Avatar URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:formData.presenter_avatar,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{presenter_avatar:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"https://...\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Thumbnail URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:formData.thumbnail_url,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{thumbnail_url:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"https://...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Settings\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.registration_required,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{registration_required:e.target.checked})),className:\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Require registration to attend\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.send_reminders,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{send_reminders:e.target.checked})),className:\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Send reminder emails to registrants\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:saving,className:\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium disabled:opacity-50\",children:saving?'Saving...':webinar?'Update Webinar':'Create Webinar'})]})]})]})});};const WebinarLiveView=_ref4=>{let{webinar,onClose}=_ref4;const[activePanel,setActivePanel]=useState('chat');// chat, qa, polls\nconst[chatMessages,setChatMessages]=useState([]);const[chatInput,setChatInput]=useState('');const[qaQuestions,setQaQuestions]=useState([]);const[qaInput,setQaInput]=useState('');const[polls,setPolls]=useState([]);const[registrations,setRegistrations]=useState([]);useEffect(()=>{fetchChatMessages();fetchQAQuestions();fetchPolls();fetchRegistrations();// Poll for new messages every 3 seconds\nconst chatInterval=setInterval(fetchChatMessages,3000);const qaInterval=setInterval(fetchQAQuestions,5000);return()=>{clearInterval(chatInterval);clearInterval(qaInterval);};},[webinar.id]);const fetchChatMessages=async()=>{try{const response=await api.get(\"/api/webinars/\".concat(webinar.id,\"/chat\"));setChatMessages(response.data.messages||[]);}catch(error){console.error('Error fetching chat:',error);}};const fetchQAQuestions=async()=>{try{const response=await api.get(\"/api/webinars/\".concat(webinar.id,\"/qa\"));setQaQuestions(response.data.questions||[]);}catch(error){console.error('Error fetching Q&A:',error);}};const fetchPolls=async()=>{try{const response=await api.get(\"/api/webinars/\".concat(webinar.id,\"/polls\"));setPolls(response.data.polls||[]);}catch(error){console.error('Error fetching polls:',error);}};const fetchRegistrations=async()=>{try{const response=await api.get(\"/api/webinars/\".concat(webinar.id,\"/registrations\"));setRegistrations(response.data.registrations||[]);}catch(error){console.error('Error fetching registrations:',error);}};const sendChatMessage=async()=>{if(!chatInput.trim())return;try{await api.post(\"/api/webinars/\".concat(webinar.id,\"/chat\"),{message:chatInput,sender_name:'Host',webinar_id:webinar.id});setChatInput('');fetchChatMessages();}catch(error){console.error('Error sending message:',error);}};const handleStartWebinar=async()=>{try{await api.post(\"/api/webinars/\".concat(webinar.id,\"/start\"));alert('Webinar started!');}catch(error){console.error('Error starting webinar:',error);}};const handleEndWebinar=async()=>{if(!window.confirm('Are you sure you want to end the webinar?'))return;try{await api.post(\"/api/webinars/\".concat(webinar.id,\"/end\"));alert('Webinar ended');onClose();}catch(error){console.error('Error ending webinar:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 border-b border-gray-700 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-white transition\",children:/*#__PURE__*/_jsx(X,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:webinar.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[registrations.length,\" registered \\xB7 \",webinar.status==='live'?'LIVE':'Not Started']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[webinar.status!=='live'&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleStartWebinar,className:\"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition font-medium\",children:[/*#__PURE__*/_jsx(Play,{size:20}),\"Start Webinar\"]}),webinar.status==='live'&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleEndWebinar,className:\"flex items-center gap-2 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition font-medium\",children:[/*#__PURE__*/_jsx(Square,{size:20}),\"End Webinar\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-black flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white\",children:[/*#__PURE__*/_jsx(Video,{size:64,className:\"mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-2\",children:\"Live Video Stream\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Mock video player - integrate with your streaming service\"}),webinar.status==='live'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 font-medium\",children:\"LIVE\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 bg-gray-800 border-l border-gray-700 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-700\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActivePanel('chat'),className:\"flex-1 px-4 py-3 text-sm font-medium transition \".concat(activePanel==='chat'?'bg-gray-700 text-white':'text-gray-400 hover:text-white'),children:[/*#__PURE__*/_jsx(MessageSquare,{size:16,className:\"inline mr-2\"}),\"Chat\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActivePanel('qa'),className:\"flex-1 px-4 py-3 text-sm font-medium transition \".concat(activePanel==='qa'?'bg-gray-700 text-white':'text-gray-400 hover:text-white'),children:[/*#__PURE__*/_jsx(HelpCircle,{size:16,className:\"inline mr-2\"}),\"Q&A\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActivePanel('polls'),className:\"flex-1 px-4 py-3 text-sm font-medium transition \".concat(activePanel==='polls'?'bg-gray-700 text-white':'text-gray-400 hover:text-white'),children:[/*#__PURE__*/_jsx(BarChart3,{size:16,className:\"inline mr-2\"}),\"Polls\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:[activePanel==='chat'&&/*#__PURE__*/_jsx(ChatPanel,{messages:chatMessages,input:chatInput,setInput:setChatInput,onSend:sendChatMessage}),activePanel==='qa'&&/*#__PURE__*/_jsx(QAPanel,{questions:qaQuestions,webinarId:webinar.id,onRefresh:fetchQAQuestions}),activePanel==='polls'&&/*#__PURE__*/_jsx(PollsPanel,{polls:polls,webinarId:webinar.id,onRefresh:fetchPolls})]})]})]})]});};const ChatPanel=_ref5=>{let{messages,input,setInput,onSend}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto space-y-3 mb-4\",children:messages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 py-8\",children:[/*#__PURE__*/_jsx(MessageSquare,{size:32,className:\"mx-auto mb-2 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No messages yet\"})]}):messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-white\",children:msg.sender_name}),msg.is_host&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-blue-500 text-white px-2 py-0.5 rounded\",children:\"Host\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300\",children:msg.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:new Date(msg.created_at).toLocaleTimeString()})]},msg.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&onSend(),placeholder:\"Type a message...\",className:\"flex-1 px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSend,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\",children:/*#__PURE__*/_jsx(Send,{size:20})})]})]});};const QAPanel=_ref6=>{let{questions,webinarId,onRefresh}=_ref6;const[answerInput,setAnswerInput]=useState('');const[selectedQuestion,setSelectedQuestion]=useState(null);const handleAnswer=async()=>{if(!answerInput.trim()||!selectedQuestion)return;try{await api.put(\"/api/webinars/\".concat(webinarId,\"/qa/\").concat(selectedQuestion,\"/answer?answer_text=\").concat(encodeURIComponent(answerInput)));setAnswerInput('');setSelectedQuestion(null);onRefresh();}catch(error){console.error('Error answering question:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:questions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 py-8\",children:[/*#__PURE__*/_jsx(HelpCircle,{size:32,className:\"mx-auto mb-2 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No questions yet\"})]}):questions.map(q=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white mb-1\",children:q.question}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"Asked by \",q.asker_name]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-blue-400 transition\",children:[/*#__PURE__*/_jsx(ThumbsUp,{size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs ml-1\",children:q.upvotes})]})]}),q.is_answered?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-t border-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-1\",children:\"Answer:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300\",children:q.answer})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-gray-600\",children:selectedQuestion===q.id?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:answerInput,onChange:e=>setAnswerInput(e.target.value),placeholder:\"Type your answer...\",rows:3,className:\"w-full px-3 py-2 bg-gray-600 text-white border border-gray-500 rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAnswer,className:\"flex-1 bg-blue-600 text-white px-3 py-1.5 rounded text-sm hover:bg-blue-700\",children:\"Submit Answer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedQuestion(null);setAnswerInput('');},className:\"bg-gray-600 text-white px-3 py-1.5 rounded text-sm hover:bg-gray-500\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedQuestion(q.id),className:\"text-sm text-blue-400 hover:text-blue-300 transition\",children:\"Answer this question\"})})]},q.id))});};const PollsPanel=_ref7=>{let{polls,webinarId,onRefresh}=_ref7;return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:polls.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 py-8\",children:[/*#__PURE__*/_jsx(BarChart3,{size:32,className:\"mx-auto mb-2 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No polls yet\"})]}):polls.map(poll=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-3\",children:poll.question}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:poll.options.map((option,idx)=>{const votes=poll.votes[idx]||0;const percentage=poll.total_votes>0?votes/poll.total_votes*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-600 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:option}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400\",children:[votes,\" votes\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-500 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 h-2 rounded-full transition-all\",style:{width:\"\".concat(percentage,\"%\")}})})]},idx);})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-3\",children:[\"Total votes: \",poll.total_votes]})]},poll.id))});};const RecordingsPanel=_ref8=>{let{webinars,recordings,onRefresh,onAddRecording,loading}=_ref8;const[selectedWebinar,setSelectedWebinar]=useState(null);const[showUploadModal,setShowUploadModal]=useState(false);const handleAddRecording=webinarId=>{const webinar=webinars.find(w=>w.id===webinarId);setSelectedWebinar(webinar);setShowUploadModal(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Webinar Recordings\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUploadModal(true),className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),\"Add Recording\"]})]}),recordings.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Video,{size:48,className:\"mx-auto text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-700 mb-2\",children:\"No recordings yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Upload recordings after your webinars end\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:recordings.map(recording=>/*#__PURE__*/_jsx(RecordingCard,{recording:recording,onRefresh:onRefresh},recording.id))})]}),showUploadModal&&/*#__PURE__*/_jsx(UploadRecordingModal,{webinars:webinars,webinar:selectedWebinar,onClose:()=>{setShowUploadModal(false);setSelectedWebinar(null);},onSuccess:()=>{setShowUploadModal(false);setSelectedWebinar(null);onRefresh();}})]});};const RecordingCard=_ref9=>{let{recording,onRefresh}=_ref9;const[showPlayer,setShowPlayer]=useState(false);const handleDelete=async()=>{if(!window.confirm('Are you sure you want to delete this recording?'))return;try{await api.delete(\"/api/webinars/\".concat(recording.webinar_id,\"/recordings/\").concat(recording.id));onRefresh();}catch(error){console.error('Error deleting recording:',error);alert('Failed to delete recording');}};const handleTogglePublic=async()=>{try{await api.put(\"/api/webinars/\".concat(recording.webinar_id,\"/recordings/\").concat(recording.id),{is_public:!recording.is_public});onRefresh();}catch(error){console.error('Error updating recording:',error);}};if(showPlayer){return/*#__PURE__*/_jsx(RecordingPlayer,{recording:recording,onClose:()=>setShowPlayer(false)});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-40 bg-gradient-to-br from-purple-500 to-pink-500 relative\",children:[recording.thumbnail_url?/*#__PURE__*/_jsx(\"img\",{src:recording.thumbnail_url,alt:recording.title,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(Video,{className:\"text-white opacity-50\",size:48})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPlayer(true),className:\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-white rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Play,{className:\"text-purple-600 ml-1\",size:28})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mb-1 line-clamp-1\",children:recording.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3 line-clamp-1\",children:recording.webinar_title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsx(Clock,{size:14}),/*#__PURE__*/_jsxs(\"span\",{children:[recording.duration_minutes||0,\" minutes\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"\\xB7\"}),/*#__PURE__*/_jsx(Eye,{size:14}),/*#__PURE__*/_jsxs(\"span\",{children:[recording.view_count||0,\" views\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTogglePublic,className:\"flex-1 px-3 py-2 rounded text-sm font-medium transition \".concat(recording.is_public?'bg-green-100 text-green-700 hover:bg-green-200':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:recording.is_public?'Public':'Private'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"bg-red-100 text-red-600 px-3 py-2 rounded hover:bg-red-200 transition\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]})]});};const UploadRecordingModal=_ref0=>{let{webinars,webinar,onClose,onSuccess}=_ref0;const[formData,setFormData]=useState({webinar_id:(webinar===null||webinar===void 0?void 0:webinar.id)||'',title:'',recording_url:'',duration_minutes:'',thumbnail_url:'',is_public:false});const[saving,setSaving]=useState(false);const handleSubmit=async e=>{e.preventDefault();setSaving(true);try{const payload=_objectSpread(_objectSpread({},formData),{},{duration_minutes:formData.duration_minutes?parseInt(formData.duration_minutes):null});await api.post(\"/api/webinars/\".concat(formData.webinar_id,\"/recordings\"),payload);onSuccess();}catch(error){console.error('Error saving recording:',error);alert('Failed to save recording');}finally{setSaving(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Add Recording\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Webinar *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.webinar_id,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{webinar_id:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose a webinar...\"}),webinars.filter(w=>w.status==='ended').map(w=>/*#__PURE__*/_jsx(\"option\",{value:w.id,children:w.title},w.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recording Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"e.g., Master Digital Marketing - Recording\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recording URL * (YouTube, Vimeo, etc.)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:formData.recording_url,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{recording_url:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"https://youtube.com/watch?v=...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Duration (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.duration_minutes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{duration_minutes:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"60\",min:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Thumbnail URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:formData.thumbnail_url,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{thumbnail_url:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"https://...\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.is_public,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{is_public:e.target.checked})),className:\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Make recording publicly accessible\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:saving,className:\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium disabled:opacity-50\",children:saving?'Saving...':'Add Recording'})]})]})]})});};const RecordingPlayer=_ref1=>{let{recording,onClose}=_ref1;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-5xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:recording.title}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-white hover:text-gray-300\",children:/*#__PURE__*/_jsx(X,{size:32})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-black rounded-lg overflow-hidden aspect-video\",children:/*#__PURE__*/_jsx(\"iframe\",{src:recording.recording_url,className:\"w-full h-full\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true,title:recording.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-white\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"From: \",recording.webinar_title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-2 text-sm text-gray-400\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Eye,{size:14}),recording.view_count||0,\" views\"]}),recording.duration_minutes&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{size:14}),recording.duration_minutes,\" minutes\"]})]})]})]})});};const WebinarAnalytics=_ref10=>{let{webinars}=_ref10;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-6\",children:\"Webinar Performance\"}),webinars.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BarChart3,{size:48,className:\"mx-auto text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No analytics data yet\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:webinars.map(webinar=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:webinar.title}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(webinar.status==='ended'?'bg-purple-100 text-purple-700':'bg-blue-100 text-blue-700'),children:webinar.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Registrations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:webinar.registration_count})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Attendees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:webinar.attendee_count})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Attendance\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[webinar.registration_count>0?Math.round(webinar.attendee_count/webinar.registration_count*100):0,\"%\"]})]})]})]},webinar.id))})]});};export default Webinars;","map":{"version":3,"names":["React","useState","useEffect","Video","Calendar","Users","MessageSquare","HelpCircle","BarChart3","Plus","Edit","Trash2","Play","Square","Eye","Download","Send","ThumbsUp","Clock","TrendingUp","CheckCircle","X","Settings","MoreVertical","Upload","ExternalLink","Copy","Mail","User","Phone","Building","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Webinars","activeTab","setActiveTab","webinars","setWebinars","recordings","setRecordings","loading","setLoading","showCreateModal","setShowCreateModal","showWebinarView","setShowWebinarView","analytics","setAnalytics","selectedWebinar","setSelectedWebinar","showRecordingModal","setShowRecordingModal","fetchWebinars","fetchAnalytics","fetchAllRecordings","response","get","data","error","console","allRecordings","webinar","concat","id","push","map","r","_objectSpread","webinar_title","title","getStatusColor","status","colors","draft","scheduled","live","ended","cancelled","formatDate","dateString","date","Date","Intl","DateTimeFormat","dateStyle","timeStyle","format","handleDeleteWebinar","webinarId","window","confirm","delete","alert","WebinarLiveView","onClose","className","children","size","onClick","total_webinars","upcoming_webinars","total_registrations","average_attendance_rate","WebinarsList","onDelete","onView","onEdit","filter","w","scheduled_at","RecordingsPanel","onRefresh","onAddRecording","WebinarAnalytics","CreateWebinarModal","onSuccess","_ref","length","WebinarCard","_ref2","thumbnail_url","src","alt","duration_minutes","registration_count","presenter_name","_ref3","_webinar$registration","_webinar$send_reminde","formData","setFormData","description","toISOString","slice","timezone","max_attendees","presenter_bio","presenter_avatar","registration_required","send_reminders","saving","setSaving","handleSubmit","e","preventDefault","payload","parseInt","put","post","onSubmit","type","value","onChange","target","placeholder","required","rows","min","step","checked","disabled","_ref4","activePanel","setActivePanel","chatMessages","setChatMessages","chatInput","setChatInput","qaQuestions","setQaQuestions","qaInput","setQaInput","polls","setPolls","registrations","setRegistrations","fetchChatMessages","fetchQAQuestions","fetchPolls","fetchRegistrations","chatInterval","setInterval","qaInterval","clearInterval","messages","questions","sendChatMessage","trim","message","sender_name","webinar_id","handleStartWebinar","handleEndWebinar","ChatPanel","input","setInput","onSend","QAPanel","PollsPanel","_ref5","msg","is_host","created_at","toLocaleTimeString","onKeyPress","key","_ref6","answerInput","setAnswerInput","selectedQuestion","setSelectedQuestion","handleAnswer","encodeURIComponent","q","question","asker_name","upvotes","is_answered","answer","_ref7","poll","options","option","idx","votes","percentage","total_votes","style","width","_ref8","showUploadModal","setShowUploadModal","handleAddRecording","find","recording","RecordingCard","UploadRecordingModal","_ref9","showPlayer","setShowPlayer","handleDelete","handleTogglePublic","is_public","RecordingPlayer","view_count","_ref0","recording_url","_ref1","frameBorder","allow","allowFullScreen","_ref10","attendee_count","Math","round"],"sources":["/app/frontend/src/components/Webinars.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Video, Calendar, Users, MessageSquare, HelpCircle, BarChart3,\n  Plus, Edit, Trash2, Play, Square, Eye, Download, Send, ThumbsUp,\n  Clock, TrendingUp, CheckCircle, X, Settings, MoreVertical, Upload,\n  ExternalLink, Copy, Mail, User, Phone, Building\n} from 'lucide-react';\nimport api from '../api';\n\nconst Webinars = () => {\n  const [activeTab, setActiveTab] = useState('webinars'); // webinars, upcoming, recordings, analytics\n  const [webinars, setWebinars] = useState([]);\n  const [recordings, setRecordings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showWebinarView, setShowWebinarView] = useState(null);\n  const [analytics, setAnalytics] = useState(null);\n  const [selectedWebinar, setSelectedWebinar] = useState(null);\n  const [showRecordingModal, setShowRecordingModal] = useState(null);\n\n  useEffect(() => {\n    fetchWebinars();\n    fetchAnalytics();\n  }, []);\n\n  useEffect(() => {\n    if (activeTab === 'recordings') {\n      fetchAllRecordings();\n    }\n  }, [activeTab]);\n\n  const fetchWebinars = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/webinars');\n      setWebinars(response.data.webinars || []);\n    } catch (error) {\n      console.error('Error fetching webinars:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAnalytics = async () => {\n    try {\n      const response = await api.get('/api/webinars/analytics/summary');\n      setAnalytics(response.data);\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n    }\n  };\n\n  const fetchAllRecordings = async () => {\n    try {\n      setLoading(true);\n      // Fetch recordings for all webinars\n      const allRecordings = [];\n      for (const webinar of webinars) {\n        const response = await api.get(`/api/webinars/${webinar.id}/recordings`);\n        if (response.data.recordings) {\n          allRecordings.push(...response.data.recordings.map(r => ({\n            ...r,\n            webinar_title: webinar.title\n          })));\n        }\n      }\n      setRecordings(allRecordings);\n    } catch (error) {\n      console.error('Error fetching recordings:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      draft: 'bg-gray-100 text-gray-700',\n      scheduled: 'bg-blue-100 text-blue-700',\n      live: 'bg-green-100 text-green-700 animate-pulse',\n      ended: 'bg-purple-100 text-purple-700',\n      cancelled: 'bg-red-100 text-red-700'\n    };\n    return colors[status] || colors.draft;\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not scheduled';\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('en-US', {\n      dateStyle: 'medium',\n      timeStyle: 'short'\n    }).format(date);\n  };\n\n  const handleDeleteWebinar = async (webinarId) => {\n    if (!window.confirm('Are you sure you want to delete this webinar?')) return;\n    \n    try {\n      await api.delete(`/api/webinars/${webinarId}`);\n      fetchWebinars();\n      fetchAnalytics();\n    } catch (error) {\n      console.error('Error deleting webinar:', error);\n      alert('Failed to delete webinar');\n    }\n  };\n\n  if (showWebinarView) {\n    return <WebinarLiveView webinar={showWebinarView} onClose={() => setShowWebinarView(null)} />;\n  }\n\n  return (\n    <div className=\"p-6\" data-testid=\"webinars-page\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\n              <Video className=\"text-blue-600\" size={32} />\n              Webinars\n            </h1>\n            <p className=\"mt-2 text-gray-600\">Create and manage live webinars</p>\n          </div>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition\"\n            data-testid=\"create-webinar-btn\"\n          >\n            <Plus size={20} />\n            Create Webinar\n          </button>\n        </div>\n      </div>\n\n      {/* Analytics Cards */}\n      {analytics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Total Webinars</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.total_webinars}</p>\n              </div>\n              <div className=\"bg-blue-100 p-3 rounded-lg\">\n                <Video className=\"text-blue-600\" size={24} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Upcoming</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.upcoming_webinars}</p>\n              </div>\n              <div className=\"bg-green-100 p-3 rounded-lg\">\n                <Calendar className=\"text-green-600\" size={24} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Total Registrations</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.total_registrations}</p>\n              </div>\n              <div className=\"bg-purple-100 p-3 rounded-lg\">\n                <Users className=\"text-purple-600\" size={24} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Attendance Rate</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.average_attendance_rate}%</p>\n              </div>\n              <div className=\"bg-orange-100 p-3 rounded-lg\">\n                <TrendingUp className=\"text-orange-600\" size={24} />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div className=\"flex gap-4 mb-6 border-b border-gray-200\">\n        <button\n          onClick={() => setActiveTab('webinars')}\n          className={`pb-3 px-4 font-medium transition ${\n            activeTab === 'webinars'\n              ? 'border-b-2 border-blue-600 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          All Webinars\n        </button>\n        <button\n          onClick={() => setActiveTab('upcoming')}\n          className={`pb-3 px-4 font-medium transition ${\n            activeTab === 'upcoming'\n              ? 'border-b-2 border-blue-600 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Upcoming\n        </button>\n        <button\n          onClick={() => setActiveTab('recordings')}\n          className={`pb-3 px-4 font-medium transition ${\n            activeTab === 'recordings'\n              ? 'border-b-2 border-blue-600 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Recordings\n        </button>\n        <button\n          onClick={() => setActiveTab('analytics')}\n          className={`pb-3 px-4 font-medium transition ${\n            activeTab === 'analytics'\n              ? 'border-b-2 border-blue-600 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Analytics\n        </button>\n      </div>\n\n      {/* Content */}\n      {activeTab === 'webinars' && (\n        <WebinarsList\n          webinars={webinars}\n          onDelete={handleDeleteWebinar}\n          onView={setShowWebinarView}\n          onEdit={setSelectedWebinar}\n          loading={loading}\n        />\n      )}\n\n      {activeTab === 'upcoming' && (\n        <WebinarsList\n          webinars={webinars.filter(w => w.status === 'scheduled' && new Date(w.scheduled_at) > new Date())}\n          onDelete={handleDeleteWebinar}\n          onView={setShowWebinarView}\n          onEdit={setSelectedWebinar}\n          loading={loading}\n        />\n      )}\n\n      {activeTab === 'recordings' && (\n        <RecordingsPanel\n          webinars={webinars}\n          recordings={recordings}\n          onRefresh={fetchAllRecordings}\n          onAddRecording={setShowRecordingModal}\n          loading={loading}\n        />\n      )}\n\n      {activeTab === 'analytics' && (\n        <WebinarAnalytics webinars={webinars} />\n      )}\n\n      {/* Create/Edit Modal */}\n      {(showCreateModal || selectedWebinar) && (\n        <CreateWebinarModal\n          webinar={selectedWebinar}\n          onClose={() => {\n            setShowCreateModal(false);\n            setSelectedWebinar(null);\n          }}\n          onSuccess={() => {\n            setShowCreateModal(false);\n            setSelectedWebinar(null);\n            fetchWebinars();\n            fetchAnalytics();\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nconst WebinarsList = ({ webinars, onDelete, onView, onEdit, loading }) => {\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (webinars.length === 0) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center\">\n        <Video className=\"mx-auto text-gray-400 mb-4\" size={48} />\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No webinars yet</h3>\n        <p className=\"text-gray-600\">Create your first webinar to get started</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {webinars.map((webinar) => (\n        <WebinarCard\n          key={webinar.id}\n          webinar={webinar}\n          onDelete={onDelete}\n          onView={onView}\n          onEdit={onEdit}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst WebinarCard = ({ webinar, onDelete, onView, onEdit }) => {\n  const getStatusColor = (status) => {\n    const colors = {\n      draft: 'bg-gray-100 text-gray-700',\n      scheduled: 'bg-blue-100 text-blue-700',\n      live: 'bg-green-100 text-green-700 animate-pulse',\n      ended: 'bg-purple-100 text-purple-700',\n      cancelled: 'bg-red-100 text-red-700'\n    };\n    return colors[status] || colors.draft;\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not scheduled';\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('en-US', {\n      dateStyle: 'medium',\n      timeStyle: 'short'\n    }).format(date);\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition\">\n      {/* Thumbnail */}\n      <div className=\"h-40 bg-gradient-to-br from-blue-500 to-purple-600 relative\">\n        {webinar.thumbnail_url ? (\n          <img src={webinar.thumbnail_url} alt={webinar.title} className=\"w-full h-full object-cover\" />\n        ) : (\n          <div className=\"flex items-center justify-center h-full\">\n            <Video className=\"text-white opacity-50\" size={48} />\n          </div>\n        )}\n        <span className={`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(webinar.status)}`}>\n          {webinar.status}\n        </span>\n      </div>\n\n      {/* Content */}\n      <div className=\"p-5\">\n        <h3 className=\"font-semibold text-lg text-gray-900 mb-2 line-clamp-2\">{webinar.title}</h3>\n        \n        <div className=\"space-y-2 mb-4\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <Calendar size={16} />\n            <span>{formatDate(webinar.scheduled_at)}</span>\n          </div>\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <Clock size={16} />\n            <span>{webinar.duration_minutes} minutes</span>\n          </div>\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <Users size={16} />\n            <span>{webinar.registration_count} registered</span>\n          </div>\n        </div>\n\n        {/* Presenter */}\n        <div className=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\n          <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center\">\n            <User className=\"text-blue-600\" size={16} />\n          </div>\n          <div>\n            <p className=\"text-sm font-medium text-gray-900\">{webinar.presenter_name}</p>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-2\">\n          {webinar.status === 'live' && (\n            <button\n              onClick={() => onView(webinar)}\n              className=\"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm font-medium\"\n            >\n              <Play size={16} />\n              Join Live\n            </button>\n          )}\n          {webinar.status === 'scheduled' && (\n            <button\n              onClick={() => onView(webinar)}\n              className=\"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium\"\n            >\n              <Eye size={16} />\n              View\n            </button>\n          )}\n          {(webinar.status === 'draft' || webinar.status === 'ended') && (\n            <button\n              onClick={() => onEdit(webinar)}\n              className=\"flex-1 flex items-center justify-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition text-sm font-medium\"\n            >\n              <Edit size={16} />\n              Edit\n            </button>\n          )}\n          <button\n            onClick={() => onDelete(webinar.id)}\n            className=\"bg-red-100 text-red-600 px-4 py-2 rounded-lg hover:bg-red-200 transition\"\n          >\n            <Trash2 size={16} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CreateWebinarModal = ({ webinar, onClose, onSuccess }) => {\n  const [formData, setFormData] = useState({\n    title: webinar?.title || '',\n    description: webinar?.description || '',\n    scheduled_at: webinar?.scheduled_at ? new Date(webinar.scheduled_at).toISOString().slice(0, 16) : '',\n    duration_minutes: webinar?.duration_minutes || 60,\n    timezone: webinar?.timezone || 'UTC',\n    max_attendees: webinar?.max_attendees || '',\n    presenter_name: webinar?.presenter_name || '',\n    presenter_bio: webinar?.presenter_bio || '',\n    presenter_avatar: webinar?.presenter_avatar || '',\n    thumbnail_url: webinar?.thumbnail_url || '',\n    registration_required: webinar?.registration_required ?? true,\n    send_reminders: webinar?.send_reminders ?? true\n  });\n\n  const [saving, setSaving] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n\n    try {\n      const payload = {\n        ...formData,\n        max_attendees: formData.max_attendees ? parseInt(formData.max_attendees) : null,\n        duration_minutes: parseInt(formData.duration_minutes)\n      };\n\n      if (webinar) {\n        await api.put(`/api/webinars/${webinar.id}`, payload);\n      } else {\n        await api.post('/api/webinars', payload);\n      }\n\n      onSuccess();\n    } catch (error) {\n      console.error('Error saving webinar:', error);\n      alert('Failed to save webinar');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {webinar ? 'Edit Webinar' : 'Create New Webinar'}\n          </h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Basic Info */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Webinar Title *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"e.g., Master Digital Marketing in 2025\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Describe what attendees will learn...\"\n            />\n          </div>\n\n          {/* Schedule */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Scheduled Date & Time *\n              </label>\n              <input\n                type=\"datetime-local\"\n                value={formData.scheduled_at}\n                onChange={(e) => setFormData({ ...formData, scheduled_at: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Duration (minutes) *\n              </label>\n              <input\n                type=\"number\"\n                value={formData.duration_minutes}\n                onChange={(e) => setFormData({ ...formData, duration_minutes: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                min=\"15\"\n                step=\"15\"\n                required\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Timezone\n              </label>\n              <select\n                value={formData.timezone}\n                onChange={(e) => setFormData({ ...formData, timezone: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"UTC\">UTC</option>\n                <option value=\"America/New_York\">Eastern Time (ET)</option>\n                <option value=\"America/Chicago\">Central Time (CT)</option>\n                <option value=\"America/Denver\">Mountain Time (MT)</option>\n                <option value=\"America/Los_Angeles\">Pacific Time (PT)</option>\n                <option value=\"Europe/London\">London (GMT)</option>\n                <option value=\"Europe/Paris\">Paris (CET)</option>\n                <option value=\"Asia/Tokyo\">Tokyo (JST)</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Max Attendees (optional)\n              </label>\n              <input\n                type=\"number\"\n                value={formData.max_attendees}\n                onChange={(e) => setFormData({ ...formData, max_attendees: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"Leave empty for unlimited\"\n                min=\"1\"\n              />\n            </div>\n          </div>\n\n          {/* Presenter Info */}\n          <div className=\"border-t border-gray-200 pt-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Presenter Information</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Presenter Name *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.presenter_name}\n                  onChange={(e) => setFormData({ ...formData, presenter_name: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"John Doe\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Presenter Bio\n                </label>\n                <textarea\n                  value={formData.presenter_bio}\n                  onChange={(e) => setFormData({ ...formData, presenter_bio: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Brief bio about the presenter...\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Presenter Avatar URL\n                </label>\n                <input\n                  type=\"url\"\n                  value={formData.presenter_avatar}\n                  onChange={(e) => setFormData({ ...formData, presenter_avatar: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"https://...\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Thumbnail */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Thumbnail URL\n            </label>\n            <input\n              type=\"url\"\n              value={formData.thumbnail_url}\n              onChange={(e) => setFormData({ ...formData, thumbnail_url: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"https://...\"\n            />\n          </div>\n\n          {/* Settings */}\n          <div className=\"border-t border-gray-200 pt-6 space-y-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Settings</h3>\n            \n            <label className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={formData.registration_required}\n                onChange={(e) => setFormData({ ...formData, registration_required: e.target.checked })}\n                className=\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n              <span className=\"text-sm text-gray-700\">Require registration to attend</span>\n            </label>\n\n            <label className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                checked={formData.send_reminders}\n                onChange={(e) => setFormData({ ...formData, send_reminders: e.target.checked })}\n                className=\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n              <span className=\"text-sm text-gray-700\">Send reminder emails to registrants</span>\n            </label>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={saving}\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium disabled:opacity-50\"\n            >\n              {saving ? 'Saving...' : webinar ? 'Update Webinar' : 'Create Webinar'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst WebinarLiveView = ({ webinar, onClose }) => {\n  const [activePanel, setActivePanel] = useState('chat'); // chat, qa, polls\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState('');\n  const [qaQuestions, setQaQuestions] = useState([]);\n  const [qaInput, setQaInput] = useState('');\n  const [polls, setPolls] = useState([]);\n  const [registrations, setRegistrations] = useState([]);\n\n  useEffect(() => {\n    fetchChatMessages();\n    fetchQAQuestions();\n    fetchPolls();\n    fetchRegistrations();\n\n    // Poll for new messages every 3 seconds\n    const chatInterval = setInterval(fetchChatMessages, 3000);\n    const qaInterval = setInterval(fetchQAQuestions, 5000);\n\n    return () => {\n      clearInterval(chatInterval);\n      clearInterval(qaInterval);\n    };\n  }, [webinar.id]);\n\n  const fetchChatMessages = async () => {\n    try {\n      const response = await api.get(`/api/webinars/${webinar.id}/chat`);\n      setChatMessages(response.data.messages || []);\n    } catch (error) {\n      console.error('Error fetching chat:', error);\n    }\n  };\n\n  const fetchQAQuestions = async () => {\n    try {\n      const response = await api.get(`/api/webinars/${webinar.id}/qa`);\n      setQaQuestions(response.data.questions || []);\n    } catch (error) {\n      console.error('Error fetching Q&A:', error);\n    }\n  };\n\n  const fetchPolls = async () => {\n    try {\n      const response = await api.get(`/api/webinars/${webinar.id}/polls`);\n      setPolls(response.data.polls || []);\n    } catch (error) {\n      console.error('Error fetching polls:', error);\n    }\n  };\n\n  const fetchRegistrations = async () => {\n    try {\n      const response = await api.get(`/api/webinars/${webinar.id}/registrations`);\n      setRegistrations(response.data.registrations || []);\n    } catch (error) {\n      console.error('Error fetching registrations:', error);\n    }\n  };\n\n  const sendChatMessage = async () => {\n    if (!chatInput.trim()) return;\n\n    try {\n      await api.post(`/api/webinars/${webinar.id}/chat`, {\n        message: chatInput,\n        sender_name: 'Host',\n        webinar_id: webinar.id\n      });\n      setChatInput('');\n      fetchChatMessages();\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n\n  const handleStartWebinar = async () => {\n    try {\n      await api.post(`/api/webinars/${webinar.id}/start`);\n      alert('Webinar started!');\n    } catch (error) {\n      console.error('Error starting webinar:', error);\n    }\n  };\n\n  const handleEndWebinar = async () => {\n    if (!window.confirm('Are you sure you want to end the webinar?')) return;\n\n    try {\n      await api.post(`/api/webinars/${webinar.id}/end`);\n      alert('Webinar ended');\n      onClose();\n    } catch (error) {\n      console.error('Error ending webinar:', error);\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-gray-800 border-b border-gray-700 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition\"\n            >\n              <X size={24} />\n            </button>\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">{webinar.title}</h2>\n              <p className=\"text-sm text-gray-400\">\n                {registrations.length} registered  {webinar.status === 'live' ? 'LIVE' : 'Not Started'}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {webinar.status !== 'live' && (\n              <button\n                onClick={handleStartWebinar}\n                className=\"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition font-medium\"\n              >\n                <Play size={20} />\n                Start Webinar\n              </button>\n            )}\n            {webinar.status === 'live' && (\n              <button\n                onClick={handleEndWebinar}\n                className=\"flex items-center gap-2 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition font-medium\"\n              >\n                <Square size={20} />\n                End Webinar\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Video Area */}\n        <div className=\"flex-1 bg-black flex items-center justify-center\">\n          <div className=\"text-center text-white\">\n            <Video size={64} className=\"mx-auto mb-4 opacity-50\" />\n            <h3 className=\"text-2xl font-bold mb-2\">Live Video Stream</h3>\n            <p className=\"text-gray-400\">Mock video player - integrate with your streaming service</p>\n            {webinar.status === 'live' && (\n              <div className=\"mt-4 flex items-center justify-center gap-2\">\n                <div className=\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"></div>\n                <span className=\"text-red-500 font-medium\">LIVE</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Side Panel */}\n        <div className=\"w-96 bg-gray-800 border-l border-gray-700 flex flex-col\">\n          {/* Panel Tabs */}\n          <div className=\"flex border-b border-gray-700\">\n            <button\n              onClick={() => setActivePanel('chat')}\n              className={`flex-1 px-4 py-3 text-sm font-medium transition ${\n                activePanel === 'chat'\n                  ? 'bg-gray-700 text-white'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              <MessageSquare size={16} className=\"inline mr-2\" />\n              Chat\n            </button>\n            <button\n              onClick={() => setActivePanel('qa')}\n              className={`flex-1 px-4 py-3 text-sm font-medium transition ${\n                activePanel === 'qa'\n                  ? 'bg-gray-700 text-white'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              <HelpCircle size={16} className=\"inline mr-2\" />\n              Q&A\n            </button>\n            <button\n              onClick={() => setActivePanel('polls')}\n              className={`flex-1 px-4 py-3 text-sm font-medium transition ${\n                activePanel === 'polls'\n                  ? 'bg-gray-700 text-white'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n            >\n              <BarChart3 size={16} className=\"inline mr-2\" />\n              Polls\n            </button>\n          </div>\n\n          {/* Panel Content */}\n          <div className=\"flex-1 overflow-y-auto p-4\">\n            {activePanel === 'chat' && (\n              <ChatPanel\n                messages={chatMessages}\n                input={chatInput}\n                setInput={setChatInput}\n                onSend={sendChatMessage}\n              />\n            )}\n            {activePanel === 'qa' && (\n              <QAPanel questions={qaQuestions} webinarId={webinar.id} onRefresh={fetchQAQuestions} />\n            )}\n            {activePanel === 'polls' && (\n              <PollsPanel polls={polls} webinarId={webinar.id} onRefresh={fetchPolls} />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatPanel = ({ messages, input, setInput, onSend }) => {\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"flex-1 overflow-y-auto space-y-3 mb-4\">\n        {messages.length === 0 ? (\n          <div className=\"text-center text-gray-500 py-8\">\n            <MessageSquare size={32} className=\"mx-auto mb-2 opacity-50\" />\n            <p className=\"text-sm\">No messages yet</p>\n          </div>\n        ) : (\n          messages.map((msg) => (\n            <div key={msg.id} className=\"bg-gray-700 rounded-lg p-3\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <span className=\"text-sm font-medium text-white\">{msg.sender_name}</span>\n                {msg.is_host && (\n                  <span className=\"text-xs bg-blue-500 text-white px-2 py-0.5 rounded\">Host</span>\n                )}\n              </div>\n              <p className=\"text-sm text-gray-300\">{msg.message}</p>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {new Date(msg.created_at).toLocaleTimeString()}\n              </p>\n            </div>\n          ))\n        )}\n      </div>\n\n      <div className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && onSend()}\n          placeholder=\"Type a message...\"\n          className=\"flex-1 px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n        <button\n          onClick={onSend}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n        >\n          <Send size={20} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst QAPanel = ({ questions, webinarId, onRefresh }) => {\n  const [answerInput, setAnswerInput] = useState('');\n  const [selectedQuestion, setSelectedQuestion] = useState(null);\n\n  const handleAnswer = async () => {\n    if (!answerInput.trim() || !selectedQuestion) return;\n\n    try {\n      await api.put(`/api/webinars/${webinarId}/qa/${selectedQuestion}/answer?answer_text=${encodeURIComponent(answerInput)}`);\n      setAnswerInput('');\n      setSelectedQuestion(null);\n      onRefresh();\n    } catch (error) {\n      console.error('Error answering question:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {questions.length === 0 ? (\n        <div className=\"text-center text-gray-500 py-8\">\n          <HelpCircle size={32} className=\"mx-auto mb-2 opacity-50\" />\n          <p className=\"text-sm\">No questions yet</p>\n        </div>\n      ) : (\n        questions.map((q) => (\n          <div key={q.id} className=\"bg-gray-700 rounded-lg p-4\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-white mb-1\">{q.question}</p>\n                <p className=\"text-xs text-gray-400\">Asked by {q.asker_name}</p>\n              </div>\n              <button\n                className=\"text-gray-400 hover:text-blue-400 transition\"\n              >\n                <ThumbsUp size={16} />\n                <span className=\"text-xs ml-1\">{q.upvotes}</span>\n              </button>\n            </div>\n\n            {q.is_answered ? (\n              <div className=\"mt-3 pt-3 border-t border-gray-600\">\n                <p className=\"text-xs text-gray-400 mb-1\">Answer:</p>\n                <p className=\"text-sm text-gray-300\">{q.answer}</p>\n              </div>\n            ) : (\n              <div className=\"mt-3 pt-3 border-t border-gray-600\">\n                {selectedQuestion === q.id ? (\n                  <div className=\"space-y-2\">\n                    <textarea\n                      value={answerInput}\n                      onChange={(e) => setAnswerInput(e.target.value)}\n                      placeholder=\"Type your answer...\"\n                      rows={3}\n                      className=\"w-full px-3 py-2 bg-gray-600 text-white border border-gray-500 rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={handleAnswer}\n                        className=\"flex-1 bg-blue-600 text-white px-3 py-1.5 rounded text-sm hover:bg-blue-700\"\n                      >\n                        Submit Answer\n                      </button>\n                      <button\n                        onClick={() => {\n                          setSelectedQuestion(null);\n                          setAnswerInput('');\n                        }}\n                        className=\"bg-gray-600 text-white px-3 py-1.5 rounded text-sm hover:bg-gray-500\"\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <button\n                    onClick={() => setSelectedQuestion(q.id)}\n                    className=\"text-sm text-blue-400 hover:text-blue-300 transition\"\n                  >\n                    Answer this question\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nconst PollsPanel = ({ polls, webinarId, onRefresh }) => {\n  return (\n    <div className=\"space-y-4\">\n      {polls.length === 0 ? (\n        <div className=\"text-center text-gray-500 py-8\">\n          <BarChart3 size={32} className=\"mx-auto mb-2 opacity-50\" />\n          <p className=\"text-sm\">No polls yet</p>\n        </div>\n      ) : (\n        polls.map((poll) => (\n          <div key={poll.id} className=\"bg-gray-700 rounded-lg p-4\">\n            <h4 className=\"text-white font-medium mb-3\">{poll.question}</h4>\n            <div className=\"space-y-2\">\n              {poll.options.map((option, idx) => {\n                const votes = poll.votes[idx] || 0;\n                const percentage = poll.total_votes > 0 ? (votes / poll.total_votes) * 100 : 0;\n\n                return (\n                  <div key={idx} className=\"bg-gray-600 rounded-lg p-3\">\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <span className=\"text-sm text-gray-300\">{option}</span>\n                      <span className=\"text-xs text-gray-400\">{votes} votes</span>\n                    </div>\n                    <div className=\"w-full bg-gray-500 rounded-full h-2\">\n                      <div\n                        className=\"bg-blue-500 h-2 rounded-full transition-all\"\n                        style={{ width: `${percentage}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            <p className=\"text-xs text-gray-400 mt-3\">\n              Total votes: {poll.total_votes}\n            </p>\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nconst RecordingsPanel = ({ webinars, recordings, onRefresh, onAddRecording, loading }) => {\n  const [selectedWebinar, setSelectedWebinar] = useState(null);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n\n  const handleAddRecording = (webinarId) => {\n    const webinar = webinars.find(w => w.id === webinarId);\n    setSelectedWebinar(webinar);\n    setShowUploadModal(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-xl font-bold text-gray-900\">Webinar Recordings</h3>\n          <button\n            onClick={() => setShowUploadModal(true)}\n            className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm\"\n          >\n            <Upload size={16} />\n            Add Recording\n          </button>\n        </div>\n\n        {recordings.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Video size={48} className=\"mx-auto text-gray-400 mb-4\" />\n            <h4 className=\"text-lg font-semibold text-gray-700 mb-2\">No recordings yet</h4>\n            <p className=\"text-gray-600 mb-4\">Upload recordings after your webinars end</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {recordings.map((recording) => (\n              <RecordingCard\n                key={recording.id}\n                recording={recording}\n                onRefresh={onRefresh}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showUploadModal && (\n        <UploadRecordingModal\n          webinars={webinars}\n          webinar={selectedWebinar}\n          onClose={() => {\n            setShowUploadModal(false);\n            setSelectedWebinar(null);\n          }}\n          onSuccess={() => {\n            setShowUploadModal(false);\n            setSelectedWebinar(null);\n            onRefresh();\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nconst RecordingCard = ({ recording, onRefresh }) => {\n  const [showPlayer, setShowPlayer] = useState(false);\n\n  const handleDelete = async () => {\n    if (!window.confirm('Are you sure you want to delete this recording?')) return;\n\n    try {\n      await api.delete(`/api/webinars/${recording.webinar_id}/recordings/${recording.id}`);\n      onRefresh();\n    } catch (error) {\n      console.error('Error deleting recording:', error);\n      alert('Failed to delete recording');\n    }\n  };\n\n  const handleTogglePublic = async () => {\n    try {\n      await api.put(`/api/webinars/${recording.webinar_id}/recordings/${recording.id}`, {\n        is_public: !recording.is_public\n      });\n      onRefresh();\n    } catch (error) {\n      console.error('Error updating recording:', error);\n    }\n  };\n\n  if (showPlayer) {\n    return <RecordingPlayer recording={recording} onClose={() => setShowPlayer(false)} />;\n  }\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition\">\n      <div className=\"h-40 bg-gradient-to-br from-purple-500 to-pink-500 relative\">\n        {recording.thumbnail_url ? (\n          <img src={recording.thumbnail_url} alt={recording.title} className=\"w-full h-full object-cover\" />\n        ) : (\n          <div className=\"flex items-center justify-center h-full\">\n            <Video className=\"text-white opacity-50\" size={48} />\n          </div>\n        )}\n        <button\n          onClick={() => setShowPlayer(true)}\n          className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 hover:bg-opacity-50 transition\"\n        >\n          <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center\">\n            <Play className=\"text-purple-600 ml-1\" size={28} />\n          </div>\n        </button>\n      </div>\n\n      <div className=\"p-4\">\n        <h4 className=\"font-semibold text-gray-900 mb-1 line-clamp-1\">{recording.title}</h4>\n        <p className=\"text-sm text-gray-600 mb-3 line-clamp-1\">{recording.webinar_title}</p>\n\n        <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-4\">\n          <Clock size={14} />\n          <span>{recording.duration_minutes || 0} minutes</span>\n          <span className=\"mx-2\"></span>\n          <Eye size={14} />\n          <span>{recording.view_count || 0} views</span>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <button\n            onClick={handleTogglePublic}\n            className={`flex-1 px-3 py-2 rounded text-sm font-medium transition ${\n              recording.is_public\n                ? 'bg-green-100 text-green-700 hover:bg-green-200'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            {recording.is_public ? 'Public' : 'Private'}\n          </button>\n          <button\n            onClick={handleDelete}\n            className=\"bg-red-100 text-red-600 px-3 py-2 rounded hover:bg-red-200 transition\"\n          >\n            <Trash2 size={16} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst UploadRecordingModal = ({ webinars, webinar, onClose, onSuccess }) => {\n  const [formData, setFormData] = useState({\n    webinar_id: webinar?.id || '',\n    title: '',\n    recording_url: '',\n    duration_minutes: '',\n    thumbnail_url: '',\n    is_public: false\n  });\n  const [saving, setSaving] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n\n    try {\n      const payload = {\n        ...formData,\n        duration_minutes: formData.duration_minutes ? parseInt(formData.duration_minutes) : null\n      };\n\n      await api.post(`/api/webinars/${formData.webinar_id}/recordings`, payload);\n      onSuccess();\n    } catch (error) {\n      console.error('Error saving recording:', error);\n      alert('Failed to save recording');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Add Recording</h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Select Webinar *\n            </label>\n            <select\n              value={formData.webinar_id}\n              onChange={(e) => setFormData({ ...formData, webinar_id: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              required\n            >\n              <option value=\"\">Choose a webinar...</option>\n              {webinars.filter(w => w.status === 'ended').map(w => (\n                <option key={w.id} value={w.id}>{w.title}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Recording Title *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"e.g., Master Digital Marketing - Recording\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Recording URL * (YouTube, Vimeo, etc.)\n            </label>\n            <input\n              type=\"url\"\n              value={formData.recording_url}\n              onChange={(e) => setFormData({ ...formData, recording_url: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"https://youtube.com/watch?v=...\"\n              required\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Duration (minutes)\n              </label>\n              <input\n                type=\"number\"\n                value={formData.duration_minutes}\n                onChange={(e) => setFormData({ ...formData, duration_minutes: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"60\"\n                min=\"1\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Thumbnail URL\n              </label>\n              <input\n                type=\"url\"\n                value={formData.thumbnail_url}\n                onChange={(e) => setFormData({ ...formData, thumbnail_url: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"https://...\"\n              />\n            </div>\n          </div>\n\n          <label className=\"flex items-center gap-3\">\n            <input\n              type=\"checkbox\"\n              checked={formData.is_public}\n              onChange={(e) => setFormData({ ...formData, is_public: e.target.checked })}\n              className=\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"\n            />\n            <span className=\"text-sm text-gray-700\">Make recording publicly accessible</span>\n          </label>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={saving}\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium disabled:opacity-50\"\n            >\n              {saving ? 'Saving...' : 'Add Recording'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst RecordingPlayer = ({ recording, onClose }) => {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-6\">\n      <div className=\"w-full max-w-5xl\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-2xl font-bold text-white\">{recording.title}</h2>\n          <button onClick={onClose} className=\"text-white hover:text-gray-300\">\n            <X size={32} />\n          </button>\n        </div>\n\n        <div className=\"bg-black rounded-lg overflow-hidden aspect-video\">\n          <iframe\n            src={recording.recording_url}\n            className=\"w-full h-full\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            title={recording.title}\n          />\n        </div>\n\n        <div className=\"mt-4 text-white\">\n          <p className=\"text-gray-400\">From: {recording.webinar_title}</p>\n          <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-400\">\n            <span className=\"flex items-center gap-1\">\n              <Eye size={14} />\n              {recording.view_count || 0} views\n            </span>\n            {recording.duration_minutes && (\n              <span className=\"flex items-center gap-1\">\n                <Clock size={14} />\n                {recording.duration_minutes} minutes\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst WebinarAnalytics = ({ webinars }) => {\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n      <h3 className=\"text-xl font-bold text-gray-900 mb-6\">Webinar Performance</h3>\n\n      {webinars.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <BarChart3 size={48} className=\"mx-auto text-gray-400 mb-4\" />\n          <p className=\"text-gray-600\">No analytics data yet</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {webinars.map((webinar) => (\n            <div key={webinar.id} className=\"border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"font-semibold text-gray-900\">{webinar.title}</h4>\n                <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                  webinar.status === 'ended' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'\n                }`}>\n                  {webinar.status}\n                </span>\n              </div>\n\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Registrations</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{webinar.registration_count}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Attendees</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{webinar.attendee_count}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Attendance</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {webinar.registration_count > 0\n                      ? Math.round((webinar.attendee_count / webinar.registration_count) * 100)\n                      : 0}%\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Webinars;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}