{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Zap,Plus,Eye,Edit,Trash2,BarChart3,Play,Pause,Copy,Settings,ExternalLink,ChevronRight,Layout,Target,Users,TrendingUp,Globe,Search,Filter,ArrowLeft,Save,X,Monitor,Smartphone,Code,GripVertical,Palette,Type,Image as ImageIcon}from'lucide-react';import api from'../api';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import{defaultBlocks,getBlockIcon,getBlockLabel}from'./FunnelBuilder/pageBlocks';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Funnels=()=>{const[activeTab,setActiveTab]=useState('funnels');// funnels, templates, builder, analytics\nconst[funnels,setFunnels]=useState([]);const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(false);const[showCreateModal,setShowCreateModal]=useState(false);const[showTemplateModal,setShowTemplateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[selectedFunnel,setSelectedFunnel]=useState(null);const[selectedPage,setSelectedPage]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[filterStatus,setFilterStatus]=useState('all');// Page builder states\nconst[builderMode,setBuilderMode]=useState(null);// null, 'edit', 'preview'\nconst[previewDevice,setPreviewDevice]=useState('desktop');// desktop, mobile, tablet\nconst[pageBlocks,setPageBlocks]=useState([]);const[selectedBlock,setSelectedBlock]=useState(null);const[showBlockLibrary,setShowBlockLibrary]=useState(false);useEffect(()=>{loadFunnels();loadTemplates();},[]);const loadFunnels=async()=>{try{setLoading(true);const response=await api.get('/api/funnels');setFunnels(response.data.funnels);}catch(error){console.error('Error loading funnels:',error);}finally{setLoading(false);}};const loadTemplates=async()=>{try{const response=await api.get('/api/funnel-templates');setTemplates(response.data);}catch(error){console.error('Error loading templates:',error);}};const createFunnelFromTemplate=async templateId=>{try{const name=prompt('Enter funnel name:');if(!name)return;const response=await api.post('/api/funnels',{name,description:'',funnel_type:'custom',template_id:templateId});setFunnels([response.data,...funnels]);setShowTemplateModal(false);alert('Funnel created successfully!');}catch(error){console.error('Error creating funnel:',error);alert('Failed to create funnel');}};const createBlankFunnel=async funnelData=>{try{const response=await api.post('/api/funnels',funnelData);setFunnels([response.data,...funnels]);setShowCreateModal(false);alert('Funnel created successfully!');}catch(error){console.error('Error creating funnel:',error);alert('Failed to create funnel');}};const deleteFunnel=async funnelId=>{if(!window.confirm('Are you sure you want to delete this funnel?'))return;try{await api.delete(\"/api/funnels/\".concat(funnelId));setFunnels(funnels.filter(f=>f.id!==funnelId));alert('Funnel deleted successfully');}catch(error){console.error('Error deleting funnel:',error);alert('Failed to delete funnel');}};const updateFunnelStatus=async(funnelId,status)=>{try{await api.put(\"/api/funnels/\".concat(funnelId),{status});setFunnels(funnels.map(f=>f.id===funnelId?_objectSpread(_objectSpread({},f),{},{status}):f));}catch(error){console.error('Error updating funnel:',error);alert('Failed to update funnel status');}};const updateFunnel=async(funnelId,funnelData)=>{try{const response=await api.put(\"/api/funnels/\".concat(funnelId),funnelData);setFunnels(funnels.map(f=>f.id===funnelId?response.data:f));setShowEditModal(false);setSelectedFunnel(null);alert('Funnel updated successfully!');loadFunnels();// Reload to get fresh data\n}catch(error){console.error('Error updating funnel:',error);alert('Failed to update funnel');}};const openPageBuilder=async(funnel,page)=>{try{var _response$data$conten;setLoading(true);const response=await api.get(\"/api/funnels/\".concat(funnel.id,\"/pages/\").concat(page.id));setSelectedFunnel(funnel);setSelectedPage(response.data);setPageBlocks(((_response$data$conten=response.data.content)===null||_response$data$conten===void 0?void 0:_response$data$conten.blocks)||[]);setBuilderMode('edit');setActiveTab('builder');}catch(error){console.error('Error loading page:',error);alert('Failed to load page');}finally{setLoading(false);}};const savePageContent=async()=>{if(!selectedPage)return;try{setLoading(true);await api.put(\"/api/funnels/\".concat(selectedFunnel.id,\"/pages/\").concat(selectedPage.id),{content:{blocks:pageBlocks}});alert('Page saved successfully!');}catch(error){console.error('Error saving page:',error);alert('Failed to save page');}finally{setLoading(false);}};const addBlock=blockType=>{const newBlock=_objectSpread({id:\"block-\".concat(Date.now())},defaultBlocks[blockType]);setPageBlocks([...pageBlocks,newBlock]);setShowBlockLibrary(false);};const updateBlock=(blockId,updates)=>{setPageBlocks(pageBlocks.map(block=>block.id===blockId?_objectSpread(_objectSpread({},block),updates):block));};const deleteBlock=blockId=>{setPageBlocks(pageBlocks.filter(block=>block.id!==blockId));if((selectedBlock===null||selectedBlock===void 0?void 0:selectedBlock.id)===blockId){setSelectedBlock(null);}};const duplicateBlock=blockId=>{const block=pageBlocks.find(b=>b.id===blockId);if(block){const newBlock=_objectSpread(_objectSpread({},block),{},{id:\"block-\".concat(Date.now())});const index=pageBlocks.findIndex(b=>b.id===blockId);const newBlocks=[...pageBlocks];newBlocks.splice(index+1,0,newBlock);setPageBlocks(newBlocks);}};const onDragEnd=result=>{if(!result.destination)return;const items=Array.from(pageBlocks);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setPageBlocks(items);};const filteredFunnels=funnels.filter(funnel=>{const matchesSearch=funnel.name.toLowerCase().includes(searchQuery.toLowerCase());const matchesStatus=filterStatus==='all'||funnel.status===filterStatus;return matchesSearch&&matchesStatus;});// Render different views\nif(activeTab==='builder'&&builderMode){return/*#__PURE__*/_jsx(PageBuilderView,{funnel:selectedFunnel,page:selectedPage,blocks:pageBlocks,selectedBlock:selectedBlock,previewDevice:previewDevice,showBlockLibrary:showBlockLibrary,onBack:()=>{setBuilderMode(null);setActiveTab('funnels');setSelectedBlock(null);},onSave:savePageContent,onAddBlock:addBlock,onUpdateBlock:updateBlock,onDeleteBlock:deleteBlock,onDuplicateBlock:duplicateBlock,onDragEnd:onDragEnd,onSelectBlock:setSelectedBlock,onPreviewDeviceChange:setPreviewDevice,onToggleBlockLibrary:()=>setShowBlockLibrary(!showBlockLibrary),loading:loading});}if(activeTab==='templates'){return/*#__PURE__*/_jsx(TemplatesView,{templates:templates,onSelectTemplate:createFunnelFromTemplate,onBack:()=>setActiveTab('funnels')});}// Main funnels dashboard\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-8 h-8 text-blue-600\"}),\"Sales Funnels\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Create high-converting sales funnels and landing pages\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTemplateModal(true),className:\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Layout,{className:\"w-4 h-4\"}),\"Templates\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"Create Funnel\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Layout,{className:\"w-5 h-5\"}),label:\"Total Funnels\",value:funnels.length,color:\"blue\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5\"}),label:\"Total Visits\",value:funnels.reduce((sum,f)=>sum+(f.total_visits||0),0),color:\"green\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5\"}),label:\"Conversions\",value:funnels.reduce((sum,f)=>sum+(f.total_conversions||0),0),color:\"purple\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5\"}),label:\"Avg. Conv. Rate\",value:\"\".concat((funnels.reduce((sum,f)=>sum+(f.conversion_rate||0),0)/funnels.length||0).toFixed(1),\"%\"),color:\"orange\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search funnels...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paused\",children:\"Paused\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-4\",children:\"Loading funnels...\"})]}):filteredFunnels.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\",children:[/*#__PURE__*/_jsx(Layout,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"No funnels yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Create your first funnel to start converting visitors\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTemplateModal(true),className:\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Browse Templates\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredFunnels.map(funnel=>/*#__PURE__*/_jsx(FunnelCard,{funnel:funnel,onEdit:()=>{setSelectedFunnel(funnel);setShowEditModal(true);},onDelete:()=>deleteFunnel(funnel.id),onStatusChange:status=>updateFunnelStatus(funnel.id,status),onOpenBuilder:openPageBuilder},funnel.id))}),showCreateModal&&/*#__PURE__*/_jsx(CreateFunnelModal,{onClose:()=>setShowCreateModal(false),onCreate:createBlankFunnel,onUseTemplate:()=>{setShowCreateModal(false);setShowTemplateModal(true);}}),showTemplateModal&&/*#__PURE__*/_jsx(TemplateModal,{templates:templates,onClose:()=>setShowTemplateModal(false),onSelect:createFunnelFromTemplate}),showEditModal&&selectedFunnel&&/*#__PURE__*/_jsx(EditFunnelModal,{funnel:selectedFunnel,onClose:()=>{setShowEditModal(false);setSelectedFunnel(null);},onUpdate:updateFunnel})]});};// Sub-components\nconst StatCard=_ref=>{let{icon,label,value,color}=_ref;const colors={blue:'bg-blue-100 text-blue-600',green:'bg-green-100 text-green-600',purple:'bg-purple-100 text-purple-600',orange:'bg-orange-100 text-orange-600'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg \".concat(colors[color],\" flex items-center justify-center mb-3\"),children:icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:label})]});};const FunnelCard=_ref2=>{let{funnel,onEdit,onDelete,onStatusChange,onOpenBuilder}=_ref2;const[showMenu,setShowMenu]=useState(false);const[pages,setPages]=useState([]);const[loadingPages,setLoadingPages]=useState(false);const loadPages=async()=>{if(pages.length>0)return;try{setLoadingPages(true);const response=await api.get(\"/api/funnels/\".concat(funnel.id,\"/pages\"));setPages(response.data);}catch(error){console.error('Error loading pages:',error);}finally{setLoadingPages(false);}};const statusColors={draft:'bg-gray-100 text-gray-700',active:'bg-green-100 text-green-700',paused:'bg-yellow-100 text-yellow-700',archived:'bg-red-100 text-red-700'};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1\",children:funnel.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:funnel.description||'No description'})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium rounded \".concat(statusColors[funnel.status]),children:funnel.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4 pb-4 border-b\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Pages\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:funnel.page_count||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Visits\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:funnel.total_visits||0})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Conv. Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[funnel.conversion_rate||0,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:loadPages,className:\"text-sm text-blue-600 hover:text-blue-700 font-medium mb-2\",children:[pages.length>0?'Pages':'View Pages',\" (\",funnel.page_count||0,\")\"]}),loadingPages&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Loading...\"}),pages.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[pages.slice(0,3).map(page=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer\",onClick:()=>onOpenBuilder(funnel,page),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:page.name}),/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 text-gray-400\"})]},page.id)),pages.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 text-center\",children:[\"+\",pages.length-3,\" more\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[funnel.status==='draft'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onStatusChange('active'),className:\"flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 flex items-center justify-center gap-1\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4\"}),\"Publish\"]}),funnel.status==='active'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onStatusChange('paused'),className:\"flex-1 px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 flex items-center justify-center gap-1\",children:[/*#__PURE__*/_jsx(Pause,{className:\"w-4 h-4\"}),\"Pause\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onEdit,className:\"flex-1 px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 flex items-center justify-center gap-1\",children:[/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,className:\"px-3 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})});};const CreateFunnelModal=_ref3=>{let{onClose,onCreate,onUseTemplate}=_ref3;const[formData,setFormData]=useState({name:'',description:'',funnel_type:'custom'});const handleSubmit=e=>{e.preventDefault();onCreate(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Create New Funnel\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Funnel Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"My Sales Funnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Brief description of your funnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Funnel Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.funnel_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{funnel_type:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"custom\",children:\"Custom\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lead_gen\",children:\"Lead Generation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"webinar\",children:\"Webinar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"product_launch\",children:\"Product Launch\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onUseTemplate,className:\"flex-1 px-4 py-2 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50\",children:\"Use Template\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Create Blank\"})]})]})]})});};const EditFunnelModal=_ref4=>{let{funnel,onClose,onUpdate}=_ref4;const[formData,setFormData]=useState({name:(funnel===null||funnel===void 0?void 0:funnel.name)||'',description:(funnel===null||funnel===void 0?void 0:funnel.description)||'',funnel_type:(funnel===null||funnel===void 0?void 0:funnel.funnel_type)||'custom'});const handleSubmit=e=>{e.preventDefault();onUpdate(funnel.id,formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Edit Funnel\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Funnel Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"My Sales Funnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Brief description of your funnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Funnel Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.funnel_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{funnel_type:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"custom\",children:\"Custom\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lead_gen\",children:\"Lead Generation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"webinar\",children:\"Webinar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"product_launch\",children:\"Product Launch\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Save Changes\"})]})]})]})});};const TemplateModal=_ref5=>{let{templates,onClose,onSelect}=_ref5;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Choose a Template\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-y-auto max-h-[calc(90vh-140px)]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:templates.map(template=>{var _template$pages;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>onSelect(template.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\",children:template.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:template.thumbnail,alt:template.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(Layout,{className:\"w-16 h-16 text-white opacity-50\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[((_template$pages=template.pages)===null||_template$pages===void 0?void 0:_template$pages.length)||0,\" pages\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\",children:\"Use Template\"})]})]})]},template.id);})})})]})});};const TemplatesView=_ref6=>{let{templates,onSelectTemplate,onBack}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"flex items-center gap-2 text-gray-600 hover:text-gray-900\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"}),\"Back to Funnels\"]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Funnel Templates\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Choose a pre-built template to get started quickly\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:templates.map(template=>{var _template$pages2;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl transition-all cursor-pointer\",onClick:()=>onSelectTemplate(template.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\",children:template.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:template.thumbnail,alt:template.name,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(Layout,{className:\"w-20 h-20 text-white opacity-50\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[((_template$pages2=template.pages)===null||_template$pages2===void 0?void 0:_template$pages2.length)||0,\" pages included\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Used \",template.usage_count,\" times\"]})]})]})]},template.id);})})]});};const PageBuilderView=_ref7=>{let{funnel,page,blocks,selectedBlock,previewDevice,showBlockLibrary,onBack,onSave,onAddBlock,onUpdateBlock,onDeleteBlock,onDuplicateBlock,onDragEnd,onSelectBlock,onPreviewDeviceChange,onToggleBlockLibrary,loading}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b px-4 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"flex items-center gap-2 text-gray-600 hover:text-gray-900\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"}),\"Back\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-gray-900\",children:page.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:funnel.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 bg-gray-100 p-1 rounded-lg\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onPreviewDeviceChange('desktop'),className:\"px-3 py-1 rounded \".concat(previewDevice==='desktop'?'bg-white shadow':''),children:/*#__PURE__*/_jsx(Monitor,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onPreviewDeviceChange('tablet'),className:\"px-3 py-1 rounded \".concat(previewDevice==='tablet'?'bg-white shadow':''),children:/*#__PURE__*/_jsx(Monitor,{className:\"w-4 h-4 transform scale-75\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onPreviewDeviceChange('mobile'),className:\"px-3 py-1 rounded \".concat(previewDevice==='mobile'?'bg-white shadow':''),children:/*#__PURE__*/_jsx(Smartphone,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onSave,disabled:loading,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),loading?'Saving...':'Save']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[showBlockLibrary&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-white border-r overflow-y-auto p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-3\",children:\"Add Blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.keys(defaultBlocks).map(blockType=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>onAddBlock(blockType),className:\"w-full p-3 text-left border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:getBlockIcon(blockType)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:getBlockLabel(blockType)})]})},blockType))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto bg-white shadow-lg \".concat(previewDevice==='desktop'?'max-w-6xl':previewDevice==='tablet'?'max-w-3xl':'max-w-sm'),children:blocks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(Layout,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Empty Page\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Add blocks to start building your page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onToggleBlockLibrary,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Add First Block\"})]}):/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"blocks\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,children:[blocks.map((block,index)=>/*#__PURE__*/_jsx(Draggable,{draggableId:block.id,index:index,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),{},{className:\"group relative \".concat(snapshot.isDragging?'opacity-50':'',\" \").concat((selectedBlock===null||selectedBlock===void 0?void 0:selectedBlock.id)===block.id?'ring-2 ring-blue-500':''),onClick:()=>onSelectBlock(block),children:[/*#__PURE__*/_jsx(BlockRenderer,{block:block}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-white shadow-lg rounded p-1\",children:[/*#__PURE__*/_jsx(\"button\",_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(GripVertical,{className:\"w-4 h-4 text-gray-600\"})})),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onDuplicateBlock(block.id);},className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4 text-gray-600\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onDeleteBlock(block.id);},className:\"p-1 hover:bg-red-100 rounded\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 text-red-600\"})})]})]}))},block.id)),provided.placeholder]}))})})})}),selectedBlock&&/*#__PURE__*/_jsx(\"div\",{className:\"w-80 bg-white border-l overflow-y-auto p-4\",children:/*#__PURE__*/_jsx(BlockSettingsPanel,{block:selectedBlock,onUpdate:updates=>onUpdateBlock(selectedBlock.id,updates),onClose:()=>onSelectBlock(null)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-t px-4 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:onToggleBlockLibrary,className:\"px-4 py-2 rounded-lg flex items-center gap-2 \".concat(showBlockLibrary?'bg-blue-100 text-blue-700':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"Add Block\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[blocks.length,\" \",blocks.length===1?'block':'blocks']})]})]});};const BlockRenderer=_ref8=>{var _block$style,_block$style2,_block$style3,_block$style4,_block$style5,_block$style6,_block$style7,_block$content$featur,_block$content$fields,_block$style8,_block$content$plans,_block$content$plans2;let{block}=_ref8;const style={backgroundColor:((_block$style=block.style)===null||_block$style===void 0?void 0:_block$style.backgroundColor)||'#ffffff',color:((_block$style2=block.style)===null||_block$style2===void 0?void 0:_block$style2.textColor)||'#000000',padding:((_block$style3=block.style)===null||_block$style3===void 0?void 0:_block$style3.padding)||'20px',textAlign:((_block$style4=block.style)===null||_block$style4===void 0?void 0:_block$style4.alignment)||'left'};switch(block.type){case'hero':return/*#__PURE__*/_jsx(\"div\",{style:style,className:\"min-h-[400px] flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:((_block$style5=block.style)===null||_block$style5===void 0?void 0:_block$style5.headingSize)||'48px'},className:\"font-bold mb-4\",children:block.content.headline}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:((_block$style6=block.style)===null||_block$style6===void 0?void 0:_block$style6.subheadingSize)||'20px'},className:\"mb-6\",children:block.content.subheadline}),block.content.cta_text&&/*#__PURE__*/_jsx(\"button\",{className:\"px-8 py-3 bg-white text-gray-900 font-semibold rounded-lg shadow-lg hover:shadow-xl transition-shadow\",children:block.content.cta_text})]})});case'features':return/*#__PURE__*/_jsx(\"div\",{style:style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-2\",children:block.content.title}),block.content.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 mb-12\",children:block.content.subtitle}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-\".concat(((_block$style7=block.style)===null||_block$style7===void 0?void 0:_block$style7.columns)||3,\" gap-8\"),children:(_block$content$featur=block.content.features)===null||_block$content$featur===void 0?void 0:_block$content$featur.map((feature,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:feature.icon}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:feature.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:feature.description})]},idx))})]})});case'form':return/*#__PURE__*/_jsx(\"div\",{style:style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-2\",children:block.content.title}),block.content.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 mb-8\",children:block.content.subtitle}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[(_block$content$fields=block.content.fields)===null||_block$content$fields===void 0?void 0:_block$content$fields.map((field,idx)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium mb-1\",children:[field.label,\" \",field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),field.type==='textarea'?/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",rows:\"4\"}):/*#__PURE__*/_jsx(\"input\",{type:field.type,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]},idx)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{backgroundColor:((_block$style8=block.style)===null||_block$style8===void 0?void 0:_block$style8.buttonColor)||'#3b82f6'},className:\"w-full py-3 text-white font-semibold rounded-lg hover:opacity-90\",children:block.content.submit_text})]})]})});case'cta':return/*#__PURE__*/_jsx(\"div\",{style:style,className:\"min-h-[300px] flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold mb-4\",children:block.content.headline}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-6\",children:block.content.subheadline}),/*#__PURE__*/_jsx(\"button\",{className:\"px-8 py-4 bg-white text-gray-900 font-bold rounded-lg shadow-lg hover:shadow-xl transition-shadow\",children:block.content.button_text}),block.content.secondary_text&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-sm opacity-75\",children:block.content.secondary_text})]})});case'pricing':return/*#__PURE__*/_jsx(\"div\",{style:style,children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-2\",children:block.content.title}),block.content.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 mb-12\",children:block.content.subtitle}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-\".concat(((_block$content$plans=block.content.plans)===null||_block$content$plans===void 0?void 0:_block$content$plans.length)||3,\" gap-8\"),children:(_block$content$plans2=block.content.plans)===null||_block$content$plans2===void 0?void 0:_block$content$plans2.map((plan,idx)=>{var _plan$features;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-8 \".concat(plan.recommended?'border-blue-500 shadow-xl':'border-gray-200'),children:[plan.recommended&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold\",children:\"Recommended\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-center mb-2\",children:plan.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-bold\",children:plan.price}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:plan.period})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-8\",children:(_plan$features=plan.features)===null||_plan$features===void 0?void 0:_plan$features.map((feature,fidx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mt-1\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{children:feature})]},fidx))}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full py-3 rounded-lg font-semibold \".concat(plan.recommended?'bg-blue-600 text-white hover:bg-blue-700':'border border-gray-300 hover:bg-gray-50'),children:plan.cta_text})]},idx);})})]})});default:return/*#__PURE__*/_jsx(\"div\",{style:style,className:\"p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500\",children:[getBlockIcon(block.type),\" \",getBlockLabel(block.type)]})});}};const BlockSettingsPanel=_ref9=>{var _block$style9,_block$style0,_block$style1;let{block,onUpdate,onClose}=_ref9;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:\"Block Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Block Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:getBlockLabel(block.type)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Background Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:((_block$style9=block.style)===null||_block$style9===void 0?void 0:_block$style9.backgroundColor)||'#ffffff',onChange:e=>onUpdate({style:_objectSpread(_objectSpread({},block.style),{},{backgroundColor:e.target.value})}),className:\"w-full h-10 rounded border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Text Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:((_block$style0=block.style)===null||_block$style0===void 0?void 0:_block$style0.textColor)||'#000000',onChange:e=>onUpdate({style:_objectSpread(_objectSpread({},block.style),{},{textColor:e.target.value})}),className:\"w-full h-10 rounded border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Padding\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_block$style1=block.style)===null||_block$style1===void 0?void 0:_block$style1.padding)||'20px',onChange:e=>onUpdate({style:_objectSpread(_objectSpread({},block.style),{},{padding:e.target.value})}),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\",placeholder:\"e.g., 20px or 20px 40px\"})]}),block.type==='hero'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Headline\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:block.content.headline,onChange:e=>onUpdate({content:_objectSpread(_objectSpread({},block.content),{},{headline:e.target.value})}),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Subheadline\"}),/*#__PURE__*/_jsx(\"textarea\",{value:block.content.subheadline,onChange:e=>onUpdate({content:_objectSpread(_objectSpread({},block.content),{},{subheadline:e.target.value})}),rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Button Text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:block.content.cta_text,onChange:e=>onUpdate({content:_objectSpread(_objectSpread({},block.content),{},{cta_text:e.target.value})}),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"})]})]})]})]});};export default Funnels;","map":{"version":3,"names":["React","useState","useEffect","Zap","Plus","Eye","Edit","Trash2","BarChart3","Play","Pause","Copy","Settings","ExternalLink","ChevronRight","Layout","Target","Users","TrendingUp","Globe","Search","Filter","ArrowLeft","Save","X","Monitor","Smartphone","Code","GripVertical","Palette","Type","Image","ImageIcon","api","DragDropContext","Droppable","Draggable","defaultBlocks","getBlockIcon","getBlockLabel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Funnels","activeTab","setActiveTab","funnels","setFunnels","templates","setTemplates","loading","setLoading","showCreateModal","setShowCreateModal","showTemplateModal","setShowTemplateModal","showEditModal","setShowEditModal","selectedFunnel","setSelectedFunnel","selectedPage","setSelectedPage","searchQuery","setSearchQuery","filterStatus","setFilterStatus","builderMode","setBuilderMode","previewDevice","setPreviewDevice","pageBlocks","setPageBlocks","selectedBlock","setSelectedBlock","showBlockLibrary","setShowBlockLibrary","loadFunnels","loadTemplates","response","get","data","error","console","createFunnelFromTemplate","templateId","name","prompt","post","description","funnel_type","template_id","alert","createBlankFunnel","funnelData","deleteFunnel","funnelId","window","confirm","delete","concat","filter","f","id","updateFunnelStatus","status","put","map","_objectSpread","updateFunnel","openPageBuilder","funnel","page","_response$data$conten","content","blocks","savePageContent","addBlock","blockType","newBlock","Date","now","updateBlock","blockId","updates","block","deleteBlock","duplicateBlock","find","b","index","findIndex","newBlocks","splice","onDragEnd","result","destination","items","Array","from","reorderedItem","source","filteredFunnels","matchesSearch","toLowerCase","includes","matchesStatus","PageBuilderView","onBack","onSave","onAddBlock","onUpdateBlock","onDeleteBlock","onDuplicateBlock","onSelectBlock","onPreviewDeviceChange","onToggleBlockLibrary","TemplatesView","onSelectTemplate","className","children","onClick","StatCard","icon","label","value","length","color","reduce","sum","total_visits","total_conversions","conversion_rate","toFixed","type","placeholder","onChange","e","target","FunnelCard","onEdit","onDelete","onStatusChange","onOpenBuilder","CreateFunnelModal","onClose","onCreate","onUseTemplate","TemplateModal","onSelect","EditFunnelModal","onUpdate","_ref","colors","blue","green","purple","orange","_ref2","showMenu","setShowMenu","pages","setPages","loadingPages","setLoadingPages","loadPages","statusColors","draft","active","paused","archived","page_count","slice","_ref3","formData","setFormData","handleSubmit","preventDefault","onSubmit","required","rows","_ref4","_ref5","template","_template$pages","thumbnail","src","alt","_ref6","_template$pages2","usage_count","_ref7","disabled","Object","keys","droppableId","provided","droppableProps","ref","innerRef","draggableId","snapshot","draggableProps","isDragging","BlockRenderer","dragHandleProps","stopPropagation","BlockSettingsPanel","_ref8","_block$style","_block$style2","_block$style3","_block$style4","_block$style5","_block$style6","_block$style7","_block$content$featur","_block$content$fields","_block$style8","_block$content$plans","_block$content$plans2","style","backgroundColor","textColor","padding","textAlign","alignment","fontSize","headingSize","headline","subheadingSize","subheadline","cta_text","title","subtitle","columns","features","feature","idx","fields","field","buttonColor","submit_text","button_text","secondary_text","plans","plan","_plan$features","recommended","price","period","fidx","_ref9","_block$style9","_block$style0","_block$style1"],"sources":["/app/frontend/src/components/Funnels.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Zap, Plus, Eye, Edit, Trash2, BarChart3, Play, Pause, \n  Copy, Settings, ExternalLink, ChevronRight, Layout, \n  Target, Users, TrendingUp, Globe, Search, Filter,\n  ArrowLeft, Save, X, Monitor, Smartphone, Code,\n  GripVertical, Palette, Type, Image as ImageIcon\n} from 'lucide-react';\nimport api from '../api';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { defaultBlocks, getBlockIcon, getBlockLabel } from './FunnelBuilder/pageBlocks';\n\nconst Funnels = () => {\n  const [activeTab, setActiveTab] = useState('funnels'); // funnels, templates, builder, analytics\n  const [funnels, setFunnels] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedFunnel, setSelectedFunnel] = useState(null);\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  \n  // Page builder states\n  const [builderMode, setBuilderMode] = useState(null); // null, 'edit', 'preview'\n  const [previewDevice, setPreviewDevice] = useState('desktop'); // desktop, mobile, tablet\n  const [pageBlocks, setPageBlocks] = useState([]);\n  const [selectedBlock, setSelectedBlock] = useState(null);\n  const [showBlockLibrary, setShowBlockLibrary] = useState(false);\n\n  useEffect(() => {\n    loadFunnels();\n    loadTemplates();\n  }, []);\n\n  const loadFunnels = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/funnels');\n      setFunnels(response.data.funnels);\n    } catch (error) {\n      console.error('Error loading funnels:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadTemplates = async () => {\n    try {\n      const response = await api.get('/api/funnel-templates');\n      setTemplates(response.data);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    }\n  };\n\n  const createFunnelFromTemplate = async (templateId) => {\n    try {\n      const name = prompt('Enter funnel name:');\n      if (!name) return;\n\n      const response = await api.post('/api/funnels', {\n        name,\n        description: '',\n        funnel_type: 'custom',\n        template_id: templateId\n      });\n\n      setFunnels([response.data, ...funnels]);\n      setShowTemplateModal(false);\n      alert('Funnel created successfully!');\n    } catch (error) {\n      console.error('Error creating funnel:', error);\n      alert('Failed to create funnel');\n    }\n  };\n\n  const createBlankFunnel = async (funnelData) => {\n    try {\n      const response = await api.post('/api/funnels', funnelData);\n      setFunnels([response.data, ...funnels]);\n      setShowCreateModal(false);\n      alert('Funnel created successfully!');\n    } catch (error) {\n      console.error('Error creating funnel:', error);\n      alert('Failed to create funnel');\n    }\n  };\n\n  const deleteFunnel = async (funnelId) => {\n    if (!window.confirm('Are you sure you want to delete this funnel?')) return;\n\n    try {\n      await api.delete(`/api/funnels/${funnelId}`);\n      setFunnels(funnels.filter(f => f.id !== funnelId));\n      alert('Funnel deleted successfully');\n    } catch (error) {\n      console.error('Error deleting funnel:', error);\n      alert('Failed to delete funnel');\n    }\n  };\n\n  const updateFunnelStatus = async (funnelId, status) => {\n    try {\n      await api.put(`/api/funnels/${funnelId}`, { status });\n      setFunnels(funnels.map(f => f.id === funnelId ? { ...f, status } : f));\n    } catch (error) {\n      console.error('Error updating funnel:', error);\n      alert('Failed to update funnel status');\n    }\n  };\n\n  const updateFunnel = async (funnelId, funnelData) => {\n    try {\n      const response = await api.put(`/api/funnels/${funnelId}`, funnelData);\n      setFunnels(funnels.map(f => f.id === funnelId ? response.data : f));\n      setShowEditModal(false);\n      setSelectedFunnel(null);\n      alert('Funnel updated successfully!');\n      loadFunnels(); // Reload to get fresh data\n    } catch (error) {\n      console.error('Error updating funnel:', error);\n      alert('Failed to update funnel');\n    }\n  };\n\n  const openPageBuilder = async (funnel, page) => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/api/funnels/${funnel.id}/pages/${page.id}`);\n      setSelectedFunnel(funnel);\n      setSelectedPage(response.data);\n      setPageBlocks(response.data.content?.blocks || []);\n      setBuilderMode('edit');\n      setActiveTab('builder');\n    } catch (error) {\n      console.error('Error loading page:', error);\n      alert('Failed to load page');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const savePageContent = async () => {\n    if (!selectedPage) return;\n\n    try {\n      setLoading(true);\n      await api.put(\n        `/api/funnels/${selectedFunnel.id}/pages/${selectedPage.id}`,\n        {\n          content: { blocks: pageBlocks }\n        }\n      );\n      alert('Page saved successfully!');\n    } catch (error) {\n      console.error('Error saving page:', error);\n      alert('Failed to save page');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addBlock = (blockType) => {\n    const newBlock = {\n      id: `block-${Date.now()}`,\n      ...defaultBlocks[blockType]\n    };\n    setPageBlocks([...pageBlocks, newBlock]);\n    setShowBlockLibrary(false);\n  };\n\n  const updateBlock = (blockId, updates) => {\n    setPageBlocks(pageBlocks.map(block =>\n      block.id === blockId ? { ...block, ...updates } : block\n    ));\n  };\n\n  const deleteBlock = (blockId) => {\n    setPageBlocks(pageBlocks.filter(block => block.id !== blockId));\n    if (selectedBlock?.id === blockId) {\n      setSelectedBlock(null);\n    }\n  };\n\n  const duplicateBlock = (blockId) => {\n    const block = pageBlocks.find(b => b.id === blockId);\n    if (block) {\n      const newBlock = {\n        ...block,\n        id: `block-${Date.now()}`\n      };\n      const index = pageBlocks.findIndex(b => b.id === blockId);\n      const newBlocks = [...pageBlocks];\n      newBlocks.splice(index + 1, 0, newBlock);\n      setPageBlocks(newBlocks);\n    }\n  };\n\n  const onDragEnd = (result) => {\n    if (!result.destination) return;\n\n    const items = Array.from(pageBlocks);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n\n    setPageBlocks(items);\n  };\n\n  const filteredFunnels = funnels.filter(funnel => {\n    const matchesSearch = funnel.name.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesStatus = filterStatus === 'all' || funnel.status === filterStatus;\n    return matchesSearch && matchesStatus;\n  });\n\n  // Render different views\n  if (activeTab === 'builder' && builderMode) {\n    return <PageBuilderView \n      funnel={selectedFunnel}\n      page={selectedPage}\n      blocks={pageBlocks}\n      selectedBlock={selectedBlock}\n      previewDevice={previewDevice}\n      showBlockLibrary={showBlockLibrary}\n      onBack={() => {\n        setBuilderMode(null);\n        setActiveTab('funnels');\n        setSelectedBlock(null);\n      }}\n      onSave={savePageContent}\n      onAddBlock={addBlock}\n      onUpdateBlock={updateBlock}\n      onDeleteBlock={deleteBlock}\n      onDuplicateBlock={duplicateBlock}\n      onDragEnd={onDragEnd}\n      onSelectBlock={setSelectedBlock}\n      onPreviewDeviceChange={setPreviewDevice}\n      onToggleBlockLibrary={() => setShowBlockLibrary(!showBlockLibrary)}\n      loading={loading}\n    />;\n  }\n\n  if (activeTab === 'templates') {\n    return <TemplatesView \n      templates={templates}\n      onSelectTemplate={createFunnelFromTemplate}\n      onBack={() => setActiveTab('funnels')}\n    />;\n  }\n\n  // Main funnels dashboard\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\n            <Zap className=\"w-8 h-8 text-blue-600\" />\n            Sales Funnels\n          </h1>\n          <p className=\"text-gray-600 mt-1\">Create high-converting sales funnels and landing pages</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setShowTemplateModal(true)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2\"\n          >\n            <Layout className=\"w-4 h-4\" />\n            Templates\n          </button>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            Create Funnel\n          </button>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-4 gap-4\">\n        <StatCard\n          icon={<Layout className=\"w-5 h-5\" />}\n          label=\"Total Funnels\"\n          value={funnels.length}\n          color=\"blue\"\n        />\n        <StatCard\n          icon={<Eye className=\"w-5 h-5\" />}\n          label=\"Total Visits\"\n          value={funnels.reduce((sum, f) => sum + (f.total_visits || 0), 0)}\n          color=\"green\"\n        />\n        <StatCard\n          icon={<Target className=\"w-5 h-5\" />}\n          label=\"Conversions\"\n          value={funnels.reduce((sum, f) => sum + (f.total_conversions || 0), 0)}\n          color=\"purple\"\n        />\n        <StatCard\n          icon={<TrendingUp className=\"w-5 h-5\" />}\n          label=\"Avg. Conv. Rate\"\n          value={`${(funnels.reduce((sum, f) => sum + (f.conversion_rate || 0), 0) / funnels.length || 0).toFixed(1)}%`}\n          color=\"orange\"\n        />\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-4\">\n        <div className=\"flex-1 relative\">\n          <Search className=\"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search funnels...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n        <select\n          value={filterStatus}\n          onChange={(e) => setFilterStatus(e.target.value)}\n          className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n        >\n          <option value=\"all\">All Status</option>\n          <option value=\"draft\">Draft</option>\n          <option value=\"active\">Active</option>\n          <option value=\"paused\">Paused</option>\n          <option value=\"archived\">Archived</option>\n        </select>\n      </div>\n\n      {/* Funnels List */}\n      {loading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"text-gray-600 mt-4\">Loading funnels...</p>\n        </div>\n      ) : filteredFunnels.length === 0 ? (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n          <Layout className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No funnels yet</h3>\n          <p className=\"text-gray-600 mb-4\">Create your first funnel to start converting visitors</p>\n          <button\n            onClick={() => setShowTemplateModal(true)}\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n          >\n            Browse Templates\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredFunnels.map(funnel => (\n            <FunnelCard\n              key={funnel.id}\n              funnel={funnel}\n              onEdit={() => {\n                setSelectedFunnel(funnel);\n                setShowEditModal(true);\n              }}\n              onDelete={() => deleteFunnel(funnel.id)}\n              onStatusChange={(status) => updateFunnelStatus(funnel.id, status)}\n              onOpenBuilder={openPageBuilder}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Create Funnel Modal */}\n      {showCreateModal && (\n        <CreateFunnelModal\n          onClose={() => setShowCreateModal(false)}\n          onCreate={createBlankFunnel}\n          onUseTemplate={() => {\n            setShowCreateModal(false);\n            setShowTemplateModal(true);\n          }}\n        />\n      )}\n\n      {/* Template Selection Modal */}\n      {showTemplateModal && (\n        <TemplateModal\n          templates={templates}\n          onClose={() => setShowTemplateModal(false)}\n          onSelect={createFunnelFromTemplate}\n        />\n      )}\n\n      {/* Edit Funnel Modal */}\n      {showEditModal && selectedFunnel && (\n        <EditFunnelModal\n          funnel={selectedFunnel}\n          onClose={() => {\n            setShowEditModal(false);\n            setSelectedFunnel(null);\n          }}\n          onUpdate={updateFunnel}\n        />\n      )}\n    </div>\n  );\n};\n\n// Sub-components\nconst StatCard = ({ icon, label, value, color }) => {\n  const colors = {\n    blue: 'bg-blue-100 text-blue-600',\n    green: 'bg-green-100 text-green-600',\n    purple: 'bg-purple-100 text-purple-600',\n    orange: 'bg-orange-100 text-orange-600'\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n      <div className={`w-10 h-10 rounded-lg ${colors[color]} flex items-center justify-center mb-3`}>\n        {icon}\n      </div>\n      <div className=\"text-2xl font-bold text-gray-900\">{value}</div>\n      <div className=\"text-sm text-gray-600\">{label}</div>\n    </div>\n  );\n};\n\nconst FunnelCard = ({ funnel, onEdit, onDelete, onStatusChange, onOpenBuilder }) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [pages, setPages] = useState([]);\n  const [loadingPages, setLoadingPages] = useState(false);\n\n  const loadPages = async () => {\n    if (pages.length > 0) return;\n    try {\n      setLoadingPages(true);\n      const response = await api.get(`/api/funnels/${funnel.id}/pages`);\n      setPages(response.data);\n    } catch (error) {\n      console.error('Error loading pages:', error);\n    } finally {\n      setLoadingPages(false);\n    }\n  };\n\n  const statusColors = {\n    draft: 'bg-gray-100 text-gray-700',\n    active: 'bg-green-100 text-green-700',\n    paused: 'bg-yellow-100 text-yellow-700',\n    archived: 'bg-red-100 text-red-700'\n  };\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow\">\n      <div className=\"p-6\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex-1\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{funnel.name}</h3>\n            <p className=\"text-sm text-gray-600\">{funnel.description || 'No description'}</p>\n          </div>\n          <span className={`px-2 py-1 text-xs font-medium rounded ${statusColors[funnel.status]}`}>\n            {funnel.status}\n          </span>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-3 gap-4 mb-4 pb-4 border-b\">\n          <div>\n            <div className=\"text-xs text-gray-500\">Pages</div>\n            <div className=\"text-lg font-bold text-gray-900\">{funnel.page_count || 0}</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500\">Visits</div>\n            <div className=\"text-lg font-bold text-gray-900\">{funnel.total_visits || 0}</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500\">Conv. Rate</div>\n            <div className=\"text-lg font-bold text-gray-900\">{funnel.conversion_rate || 0}%</div>\n          </div>\n        </div>\n\n        {/* Pages List */}\n        <div className=\"mb-4\">\n          <button\n            onClick={loadPages}\n            className=\"text-sm text-blue-600 hover:text-blue-700 font-medium mb-2\"\n          >\n            {pages.length > 0 ? 'Pages' : 'View Pages'} ({funnel.page_count || 0})\n          </button>\n          {loadingPages && (\n            <div className=\"text-xs text-gray-500\">Loading...</div>\n          )}\n          {pages.length > 0 && (\n            <div className=\"space-y-2\">\n              {pages.slice(0, 3).map(page => (\n                <div\n                  key={page.id}\n                  className=\"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer\"\n                  onClick={() => onOpenBuilder(funnel, page)}\n                >\n                  <span className=\"text-sm text-gray-700\">{page.name}</span>\n                  <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                </div>\n              ))}\n              {pages.length > 3 && (\n                <div className=\"text-xs text-gray-500 text-center\">\n                  +{pages.length - 3} more\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-2\">\n          {funnel.status === 'draft' && (\n            <button\n              onClick={() => onStatusChange('active')}\n              className=\"flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 flex items-center justify-center gap-1\"\n            >\n              <Play className=\"w-4 h-4\" />\n              Publish\n            </button>\n          )}\n          {funnel.status === 'active' && (\n            <button\n              onClick={() => onStatusChange('paused')}\n              className=\"flex-1 px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 flex items-center justify-center gap-1\"\n            >\n              <Pause className=\"w-4 h-4\" />\n              Pause\n            </button>\n          )}\n          <button\n            onClick={onEdit}\n            className=\"flex-1 px-3 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 flex items-center justify-center gap-1\"\n          >\n            <Edit className=\"w-4 h-4\" />\n            Edit\n          </button>\n          <button\n            onClick={onDelete}\n            className=\"px-3 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CreateFunnelModal = ({ onClose, onCreate, onUseTemplate }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    funnel_type: 'custom'\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onCreate(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\">\n        <div className=\"p-6 border-b\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Create New Funnel</h2>\n        </div>\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Funnel Name *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"My Sales Funnel\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows=\"3\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Brief description of your funnel\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Funnel Type\n            </label>\n            <select\n              value={formData.funnel_type}\n              onChange={(e) => setFormData({ ...formData, funnel_type: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"custom\">Custom</option>\n              <option value=\"lead_gen\">Lead Generation</option>\n              <option value=\"sales\">Sales</option>\n              <option value=\"webinar\">Webinar</option>\n              <option value=\"product_launch\">Product Launch</option>\n            </select>\n          </div>\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={onUseTemplate}\n              className=\"flex-1 px-4 py-2 border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50\"\n            >\n              Use Template\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Create Blank\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst EditFunnelModal = ({ funnel, onClose, onUpdate }) => {\n  const [formData, setFormData] = useState({\n    name: funnel?.name || '',\n    description: funnel?.description || '',\n    funnel_type: funnel?.funnel_type || 'custom'\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdate(funnel.id, formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\">\n        <div className=\"p-6 border-b\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Edit Funnel</h2>\n        </div>\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Funnel Name *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"My Sales Funnel\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows=\"3\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Brief description of your funnel\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Funnel Type\n            </label>\n            <select\n              value={formData.funnel_type}\n              onChange={(e) => setFormData({ ...formData, funnel_type: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"custom\">Custom</option>\n              <option value=\"lead_gen\">Lead Generation</option>\n              <option value=\"sales\">Sales</option>\n              <option value=\"webinar\">Webinar</option>\n              <option value=\"product_launch\">Product Launch</option>\n            </select>\n          </div>\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Save Changes\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst TemplateModal = ({ templates, onClose, onSelect }) => {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n        <div className=\"p-6 border-b flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Choose a Template</h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-140px)]\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {templates.map(template => (\n              <div\n                key={template.id}\n                className=\"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                onClick={() => onSelect(template.id)}\n              >\n                <div className=\"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                  {template.thumbnail ? (\n                    <img src={template.thumbnail} alt={template.name} className=\"w-full h-full object-cover\" />\n                  ) : (\n                    <Layout className=\"w-16 h-16 text-white opacity-50\" />\n                  )}\n                </div>\n                <div className=\"p-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{template.name}</h3>\n                  <p className=\"text-sm text-gray-600 mb-3\">{template.description}</p>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-xs text-gray-500\">{template.pages?.length || 0} pages</span>\n                    <button className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\">\n                      Use Template\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst TemplatesView = ({ templates, onSelectTemplate, onBack }) => {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n          Back to Funnels\n        </button>\n      </div>\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Funnel Templates</h1>\n        <p className=\"text-gray-600\">Choose a pre-built template to get started quickly</p>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {templates.map(template => (\n          <div\n            key={template.id}\n            className=\"border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl transition-all cursor-pointer\"\n            onClick={() => onSelectTemplate(template.id)}\n          >\n            <div className=\"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n              {template.thumbnail ? (\n                <img src={template.thumbnail} alt={template.name} className=\"w-full h-full object-cover\" />\n              ) : (\n                <Layout className=\"w-20 h-20 text-white opacity-50\" />\n              )}\n            </div>\n            <div className=\"p-6\">\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{template.name}</h3>\n              <p className=\"text-gray-600 mb-4\">{template.description}</p>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-500\">{template.pages?.length || 0} pages included</span>\n                <span className=\"text-sm text-gray-500\">Used {template.usage_count} times</span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst PageBuilderView = ({ \n  funnel, page, blocks, selectedBlock, previewDevice, showBlockLibrary,\n  onBack, onSave, onAddBlock, onUpdateBlock, onDeleteBlock, onDuplicateBlock, \n  onDragEnd, onSelectBlock, onPreviewDeviceChange, onToggleBlockLibrary, loading \n}) => {\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-100\">\n      {/* Top Bar */}\n      <div className=\"bg-white border-b px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={onBack}\n            className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n            Back\n          </button>\n          <div>\n            <h2 className=\"font-semibold text-gray-900\">{page.name}</h2>\n            <p className=\"text-sm text-gray-500\">{funnel.name}</p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          {/* Device Preview Selector */}\n          <div className=\"flex items-center gap-1 bg-gray-100 p-1 rounded-lg\">\n            <button\n              onClick={() => onPreviewDeviceChange('desktop')}\n              className={`px-3 py-1 rounded ${previewDevice === 'desktop' ? 'bg-white shadow' : ''}`}\n            >\n              <Monitor className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={() => onPreviewDeviceChange('tablet')}\n              className={`px-3 py-1 rounded ${previewDevice === 'tablet' ? 'bg-white shadow' : ''}`}\n            >\n              <Monitor className=\"w-4 h-4 transform scale-75\" />\n            </button>\n            <button\n              onClick={() => onPreviewDeviceChange('mobile')}\n              className={`px-3 py-1 rounded ${previewDevice === 'mobile' ? 'bg-white shadow' : ''}`}\n            >\n              <Smartphone className=\"w-4 h-4\" />\n            </button>\n          </div>\n          \n          <button\n            onClick={onSave}\n            disabled={loading}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50\"\n          >\n            <Save className=\"w-4 h-4\" />\n            {loading ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Block Library Sidebar */}\n        {showBlockLibrary && (\n          <div className=\"w-64 bg-white border-r overflow-y-auto p-4\">\n            <h3 className=\"font-semibold text-gray-900 mb-3\">Add Blocks</h3>\n            <div className=\"space-y-2\">\n              {Object.keys(defaultBlocks).map(blockType => (\n                <button\n                  key={blockType}\n                  onClick={() => onAddBlock(blockType)}\n                  className=\"w-full p-3 text-left border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all\"\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-2xl\">{getBlockIcon(blockType)}</span>\n                    <span className=\"text-sm font-medium text-gray-700\">{getBlockLabel(blockType)}</span>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Canvas Area */}\n        <div className=\"flex-1 overflow-y-auto p-8\">\n          <div className={`mx-auto bg-white shadow-lg ${\n            previewDevice === 'desktop' ? 'max-w-6xl' :\n            previewDevice === 'tablet' ? 'max-w-3xl' :\n            'max-w-sm'\n          }`}>\n            {blocks.length === 0 ? (\n              <div className=\"text-center py-20\">\n                <Layout className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Empty Page</h3>\n                <p className=\"text-gray-600 mb-4\">Add blocks to start building your page</p>\n                <button\n                  onClick={onToggleBlockLibrary}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  Add First Block\n                </button>\n              </div>\n            ) : (\n              <DragDropContext onDragEnd={onDragEnd}>\n                <Droppable droppableId=\"blocks\">\n                  {(provided) => (\n                    <div {...provided.droppableProps} ref={provided.innerRef}>\n                      {blocks.map((block, index) => (\n                        <Draggable key={block.id} draggableId={block.id} index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              className={`group relative ${snapshot.isDragging ? 'opacity-50' : ''} ${\n                                selectedBlock?.id === block.id ? 'ring-2 ring-blue-500' : ''\n                              }`}\n                              onClick={() => onSelectBlock(block)}\n                            >\n                              <BlockRenderer block={block} />\n                              \n                              {/* Block Controls */}\n                              <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-white shadow-lg rounded p-1\">\n                                <button\n                                  {...provided.dragHandleProps}\n                                  className=\"p-1 hover:bg-gray-100 rounded\"\n                                >\n                                  <GripVertical className=\"w-4 h-4 text-gray-600\" />\n                                </button>\n                                <button\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    onDuplicateBlock(block.id);\n                                  }}\n                                  className=\"p-1 hover:bg-gray-100 rounded\"\n                                >\n                                  <Copy className=\"w-4 h-4 text-gray-600\" />\n                                </button>\n                                <button\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    onDeleteBlock(block.id);\n                                  }}\n                                  className=\"p-1 hover:bg-red-100 rounded\"\n                                >\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\n                                </button>\n                              </div>\n                            </div>\n                          )}\n                        </Draggable>\n                      ))}\n                      {provided.placeholder}\n                    </div>\n                  )}\n                </Droppable>\n              </DragDropContext>\n            )}\n          </div>\n        </div>\n\n        {/* Block Settings Panel */}\n        {selectedBlock && (\n          <div className=\"w-80 bg-white border-l overflow-y-auto p-4\">\n            <BlockSettingsPanel\n              block={selectedBlock}\n              onUpdate={(updates) => onUpdateBlock(selectedBlock.id, updates)}\n              onClose={() => onSelectBlock(null)}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Bottom Toolbar */}\n      <div className=\"bg-white border-t px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={onToggleBlockLibrary}\n            className={`px-4 py-2 rounded-lg flex items-center gap-2 ${\n              showBlockLibrary ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            <Plus className=\"w-4 h-4\" />\n            Add Block\n          </button>\n        </div>\n        <div className=\"text-sm text-gray-600\">\n          {blocks.length} {blocks.length === 1 ? 'block' : 'blocks'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst BlockRenderer = ({ block }) => {\n  const style = {\n    backgroundColor: block.style?.backgroundColor || '#ffffff',\n    color: block.style?.textColor || '#000000',\n    padding: block.style?.padding || '20px',\n    textAlign: block.style?.alignment || 'left'\n  };\n\n  switch (block.type) {\n    case 'hero':\n      return (\n        <div style={style} className=\"min-h-[400px] flex items-center justify-center\">\n          <div className=\"max-w-4xl mx-auto text-center\">\n            <h1 style={{ fontSize: block.style?.headingSize || '48px' }} className=\"font-bold mb-4\">\n              {block.content.headline}\n            </h1>\n            <p style={{ fontSize: block.style?.subheadingSize || '20px' }} className=\"mb-6\">\n              {block.content.subheadline}\n            </p>\n            {block.content.cta_text && (\n              <button className=\"px-8 py-3 bg-white text-gray-900 font-semibold rounded-lg shadow-lg hover:shadow-xl transition-shadow\">\n                {block.content.cta_text}\n              </button>\n            )}\n          </div>\n        </div>\n      );\n    \n    case 'features':\n      return (\n        <div style={style}>\n          <div className=\"max-w-6xl mx-auto\">\n            <h2 className=\"text-3xl font-bold text-center mb-2\">{block.content.title}</h2>\n            {block.content.subtitle && (\n              <p className=\"text-center text-gray-600 mb-12\">{block.content.subtitle}</p>\n            )}\n            <div className={`grid grid-cols-1 md:grid-cols-${block.style?.columns || 3} gap-8`}>\n              {block.content.features?.map((feature, idx) => (\n                <div key={idx} className=\"text-center\">\n                  <div className=\"text-4xl mb-4\">{feature.icon}</div>\n                  <h3 className=\"text-xl font-semibold mb-2\">{feature.title}</h3>\n                  <p className=\"text-gray-600\">{feature.description}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      );\n    \n    case 'form':\n      return (\n        <div style={style}>\n          <div className=\"max-w-2xl mx-auto\">\n            <h2 className=\"text-3xl font-bold text-center mb-2\">{block.content.title}</h2>\n            {block.content.subtitle && (\n              <p className=\"text-center text-gray-600 mb-8\">{block.content.subtitle}</p>\n            )}\n            <form className=\"space-y-4\">\n              {block.content.fields?.map((field, idx) => (\n                <div key={idx}>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    {field.label} {field.required && <span className=\"text-red-500\">*</span>}\n                  </label>\n                  {field.type === 'textarea' ? (\n                    <textarea\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                      rows=\"4\"\n                    />\n                  ) : (\n                    <input\n                      type={field.type}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    />\n                  )}\n                </div>\n              ))}\n              <button\n                type=\"button\"\n                style={{ backgroundColor: block.style?.buttonColor || '#3b82f6' }}\n                className=\"w-full py-3 text-white font-semibold rounded-lg hover:opacity-90\"\n              >\n                {block.content.submit_text}\n              </button>\n            </form>\n          </div>\n        </div>\n      );\n    \n    case 'cta':\n      return (\n        <div style={style} className=\"min-h-[300px] flex items-center justify-center\">\n          <div className=\"max-w-3xl mx-auto text-center\">\n            <h2 className=\"text-4xl font-bold mb-4\">{block.content.headline}</h2>\n            <p className=\"text-xl mb-6\">{block.content.subheadline}</p>\n            <button className=\"px-8 py-4 bg-white text-gray-900 font-bold rounded-lg shadow-lg hover:shadow-xl transition-shadow\">\n              {block.content.button_text}\n            </button>\n            {block.content.secondary_text && (\n              <p className=\"mt-4 text-sm opacity-75\">{block.content.secondary_text}</p>\n            )}\n          </div>\n        </div>\n      );\n    \n    case 'pricing':\n      return (\n        <div style={style}>\n          <div className=\"max-w-6xl mx-auto\">\n            <h2 className=\"text-3xl font-bold text-center mb-2\">{block.content.title}</h2>\n            {block.content.subtitle && (\n              <p className=\"text-center text-gray-600 mb-12\">{block.content.subtitle}</p>\n            )}\n            <div className={`grid grid-cols-1 md:grid-cols-${block.content.plans?.length || 3} gap-8`}>\n              {block.content.plans?.map((plan, idx) => (\n                <div\n                  key={idx}\n                  className={`border rounded-lg p-8 ${plan.recommended ? 'border-blue-500 shadow-xl' : 'border-gray-200'}`}\n                >\n                  {plan.recommended && (\n                    <div className=\"text-center mb-4\">\n                      <span className=\"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold\">\n                        Recommended\n                      </span>\n                    </div>\n                  )}\n                  <h3 className=\"text-2xl font-bold text-center mb-2\">{plan.name}</h3>\n                  <div className=\"text-center mb-6\">\n                    <span className=\"text-4xl font-bold\">{plan.price}</span>\n                    <span className=\"text-gray-600\">{plan.period}</span>\n                  </div>\n                  <ul className=\"space-y-3 mb-8\">\n                    {plan.features?.map((feature, fidx) => (\n                      <li key={fidx} className=\"flex items-start gap-2\">\n                        <span className=\"text-green-500 mt-1\"></span>\n                        <span>{feature}</span>\n                      </li>\n                    ))}\n                  </ul>\n                  <button className={`w-full py-3 rounded-lg font-semibold ${\n                    plan.recommended\n                      ? 'bg-blue-600 text-white hover:bg-blue-700'\n                      : 'border border-gray-300 hover:bg-gray-50'\n                  }`}>\n                    {plan.cta_text}\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      );\n    \n    default:\n      return (\n        <div style={style} className=\"p-8\">\n          <div className=\"text-center text-gray-500\">\n            {getBlockIcon(block.type)} {getBlockLabel(block.type)}\n          </div>\n        </div>\n      );\n  }\n};\n\nconst BlockSettingsPanel = ({ block, onUpdate, onClose }) => {\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"font-semibold text-gray-900\">Block Settings</h3>\n        <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Block Type\n          </label>\n          <div className=\"text-sm text-gray-600\">{getBlockLabel(block.type)}</div>\n        </div>\n\n        {/* Style Settings */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Background Color\n          </label>\n          <input\n            type=\"color\"\n            value={block.style?.backgroundColor || '#ffffff'}\n            onChange={(e) => onUpdate({\n              style: { ...block.style, backgroundColor: e.target.value }\n            })}\n            className=\"w-full h-10 rounded border border-gray-300\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Text Color\n          </label>\n          <input\n            type=\"color\"\n            value={block.style?.textColor || '#000000'}\n            onChange={(e) => onUpdate({\n              style: { ...block.style, textColor: e.target.value }\n            })}\n            className=\"w-full h-10 rounded border border-gray-300\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Padding\n          </label>\n          <input\n            type=\"text\"\n            value={block.style?.padding || '20px'}\n            onChange={(e) => onUpdate({\n              style: { ...block.style, padding: e.target.value }\n            })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., 20px or 20px 40px\"\n          />\n        </div>\n\n        {block.type === 'hero' && (\n          <>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Headline\n              </label>\n              <input\n                type=\"text\"\n                value={block.content.headline}\n                onChange={(e) => onUpdate({\n                  content: { ...block.content, headline: e.target.value }\n                })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Subheadline\n              </label>\n              <textarea\n                value={block.content.subheadline}\n                onChange={(e) => onUpdate({\n                  content: { ...block.content, subheadline: e.target.value }\n                })}\n                rows=\"3\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Button Text\n              </label>\n              <input\n                type=\"text\"\n                value={block.content.cta_text}\n                onChange={(e) => onUpdate({\n                  content: { ...block.content, cta_text: e.target.value }\n                })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </>\n        )}\n\n        {/* Add more type-specific settings as needed */}\n      </div>\n    </div>\n  );\n};\n\nexport default Funnels;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}