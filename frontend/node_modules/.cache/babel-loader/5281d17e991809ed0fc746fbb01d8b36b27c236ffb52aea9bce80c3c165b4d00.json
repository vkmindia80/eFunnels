{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Convert blocks to HTML for email sending\nexport const blocksToHTML=blocks=>{if(!blocks||blocks.length===0){return'<p>Empty email</p>';}const blockHTML=blocks.map(block=>{switch(block.type){case'heading':return\"<div style=\\\"\".concat(stylesToString(block.styles),\"\\\">\").concat(block.content,\"</div>\");case'paragraph':return\"<p style=\\\"\".concat(stylesToString(block.styles),\"\\\">\").concat(block.content,\"</p>\");case'button':const buttonAlign=block.styles.textAlign||'center';return\"\\n          <div style=\\\"text-align: \".concat(buttonAlign,\";\\\">\\n            <a href=\\\"\").concat(block.link,\"\\\" style=\\\"\").concat(stylesToString(_objectSpread(_objectSpread({},block.styles),{},{textDecoration:'none',display:'inline-block'})),\"\\\">\\n              \").concat(block.content,\"\\n            </a>\\n          </div>\\n        \");case'image':const imgTag=\"<img src=\\\"\".concat(block.src,\"\\\" alt=\\\"\").concat(block.alt,\"\\\" style=\\\"\").concat(stylesToString(block.styles),\"\\\" />\");return block.link?\"<div style=\\\"text-align: center;\\\"><a href=\\\"\".concat(block.link,\"\\\">\").concat(imgTag,\"</a></div>\"):\"<div style=\\\"text-align: center;\\\">\".concat(imgTag,\"</div>\");case'divider':return\"<hr style=\\\"border: none; border-top: \".concat(block.styles.borderWidth,\" solid \").concat(block.styles.borderColor,\"; margin-top: \").concat(block.styles.marginTop,\"; margin-bottom: \").concat(block.styles.marginBottom,\";\\\" />\");case'spacer':return\"<div style=\\\"height: \".concat(block.styles.height,\";\\\"></div>\");case'columns':const colsHTML=block.columns.map(col=>\"<td style=\\\"\".concat(stylesToString(col.styles),\"\\\">\").concat(col.content,\"</td>\")).join('');return\"\\n          <table style=\\\"width: 100%; margin-top: \".concat(block.styles.marginTop,\"; margin-bottom: \").concat(block.styles.marginBottom,\";\\\">\\n            <tr>\").concat(colsHTML,\"</tr>\\n          </table>\\n        \");case'list':const listTag=block.listType==='bullet'?'ul':'ol';const items=block.items.map(item=>\"<li>\".concat(item,\"</li>\")).join('');return\"<\".concat(listTag,\" style=\\\"\").concat(stylesToString(block.styles),\"\\\">\").concat(items,\"</\").concat(listTag,\">\");default:return'';}}).join('\\n');// Wrap in email template\nreturn\"\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n  <title>Email</title>\\n</head>\\n<body style=\\\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;\\\">\\n  <table role=\\\"presentation\\\" style=\\\"width: 100%; border-collapse: collapse;\\\">\\n    <tr>\\n      <td align=\\\"center\\\" style=\\\"padding: 40px 0;\\\">\\n        <table role=\\\"presentation\\\" style=\\\"width: 600px; max-width: 100%; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\\">\\n          <tr>\\n            <td style=\\\"padding: 40px;\\\">\\n              \".concat(blockHTML,\"\\n            </td>\\n          </tr>\\n        </table>\\n      </td>\\n    </tr>\\n  </table>\\n</body>\\n</html>\\n  \").trim();};// Convert styles object to CSS string\nconst stylesToString=styles=>{return Object.entries(styles).map(_ref=>{let[key,value]=_ref;// Convert camelCase to kebab-case\nconst cssKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();return\"\".concat(cssKey,\": \").concat(value);}).join('; ');};// HTML to blocks (basic parser for importing)\nexport const htmlToBlocks=html=>{// This is a simplified parser - can be enhanced later\nconst blocks=[];// For now, just create a single paragraph block with the HTML\nblocks.push({id:\"block-\".concat(Date.now()),type:'paragraph',content:'Imported HTML content (editing coming soon)',styles:{fontSize:'16px',color:'#333333',textAlign:'left',lineHeight:'1.6',marginTop:'10px',marginBottom:'10px'}});return blocks;};","map":{"version":3,"names":["blocksToHTML","blocks","length","blockHTML","map","block","type","concat","stylesToString","styles","content","buttonAlign","textAlign","link","_objectSpread","textDecoration","display","imgTag","src","alt","borderWidth","borderColor","marginTop","marginBottom","height","colsHTML","columns","col","join","listTag","listType","items","item","trim","Object","entries","_ref","key","value","cssKey","replace","toLowerCase","htmlToBlocks","html","push","id","Date","now","fontSize","color","lineHeight"],"sources":["/app/frontend/src/components/EmailBuilder/utils.js"],"sourcesContent":["// Convert blocks to HTML for email sending\nexport const blocksToHTML = (blocks) => {\n  if (!blocks || blocks.length === 0) {\n    return '<p>Empty email</p>';\n  }\n\n  const blockHTML = blocks.map(block => {\n    switch (block.type) {\n      case 'heading':\n        return `<div style=\"${stylesToString(block.styles)}\">${block.content}</div>`;\n\n      case 'paragraph':\n        return `<p style=\"${stylesToString(block.styles)}\">${block.content}</p>`;\n\n      case 'button':\n        const buttonAlign = block.styles.textAlign || 'center';\n        return `\n          <div style=\"text-align: ${buttonAlign};\">\n            <a href=\"${block.link}\" style=\"${stylesToString({...block.styles, textDecoration: 'none', display: 'inline-block'})}\">\n              ${block.content}\n            </a>\n          </div>\n        `;\n\n      case 'image':\n        const imgTag = `<img src=\"${block.src}\" alt=\"${block.alt}\" style=\"${stylesToString(block.styles)}\" />`;\n        return block.link\n          ? `<div style=\"text-align: center;\"><a href=\"${block.link}\">${imgTag}</a></div>`\n          : `<div style=\"text-align: center;\">${imgTag}</div>`;\n\n      case 'divider':\n        return `<hr style=\"border: none; border-top: ${block.styles.borderWidth} solid ${block.styles.borderColor}; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\" />`;\n\n      case 'spacer':\n        return `<div style=\"height: ${block.styles.height};\"></div>`;\n\n      case 'columns':\n        const colsHTML = block.columns.map(col => \n          `<td style=\"${stylesToString(col.styles)}\">${col.content}</td>`\n        ).join('');\n        return `\n          <table style=\"width: 100%; margin-top: ${block.styles.marginTop}; margin-bottom: ${block.styles.marginBottom};\">\n            <tr>${colsHTML}</tr>\n          </table>\n        `;\n\n      case 'list':\n        const listTag = block.listType === 'bullet' ? 'ul' : 'ol';\n        const items = block.items.map(item => `<li>${item}</li>`).join('');\n        return `<${listTag} style=\"${stylesToString(block.styles)}\">${items}</${listTag}>`;\n\n      default:\n        return '';\n    }\n  }).join('\\n');\n\n  // Wrap in email template\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Email</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td align=\"center\" style=\"padding: 40px 0;\">\n        <table role=\"presentation\" style=\"width: 600px; max-width: 100%; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\">\n          <tr>\n            <td style=\"padding: 40px;\">\n              ${blockHTML}\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n  `.trim();\n};\n\n// Convert styles object to CSS string\nconst stylesToString = (styles) => {\n  return Object.entries(styles)\n    .map(([key, value]) => {\n      // Convert camelCase to kebab-case\n      const cssKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n      return `${cssKey}: ${value}`;\n    })\n    .join('; ');\n};\n\n// HTML to blocks (basic parser for importing)\nexport const htmlToBlocks = (html) => {\n  // This is a simplified parser - can be enhanced later\n  const blocks = [];\n  \n  // For now, just create a single paragraph block with the HTML\n  blocks.push({\n    id: `block-${Date.now()}`,\n    type: 'paragraph',\n    content: 'Imported HTML content (editing coming soon)',\n    styles: {\n      fontSize: '16px',\n      color: '#333333',\n      textAlign: 'left',\n      lineHeight: '1.6',\n      marginTop: '10px',\n      marginBottom: '10px',\n    },\n  });\n\n  return blocks;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}