{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Globe,Plus,Search,Edit,Trash2,Eye,Save,X,Monitor,Smartphone,Palette,Menu as MenuIcon,Settings,ChevronUp,ChevronDown,ExternalLink,Home,FileText,Mail}from'lucide-react';import api from'../api';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import{defaultBlocks}from'./FunnelBuilder/pageBlocks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WebsiteBuilder=()=>{const[activeTab,setActiveTab]=useState('pages');const[pages,setPages]=useState([]);const[themes,setThemes]=useState([]);const[menus,setMenus]=useState([]);const[activeTheme,setActiveTheme]=useState(null);const[loading,setLoading]=useState(false);const[showPageModal,setShowPageModal]=useState(false);const[showPageBuilder,setShowPageBuilder]=useState(false);const[showThemeModal,setShowThemeModal]=useState(false);const[showMenuModal,setShowMenuModal]=useState(false);const[currentPage,setCurrentPage]=useState(null);useEffect(()=>{fetchPages();fetchThemes();fetchActiveTheme();fetchMenus();},[]);const fetchPages=async()=>{try{setLoading(true);const response=await api.get('/api/website/pages');setPages(response.data.pages||[]);}catch(error){console.error('Failed to fetch pages:',error);}finally{setLoading(false);}};const fetchThemes=async()=>{try{const response=await api.get('/api/website/themes');setThemes(response.data.themes||[]);}catch(error){console.error('Failed to fetch themes:',error);}};const fetchActiveTheme=async()=>{try{const response=await api.get('/api/website/themes/active');setActiveTheme(response.data);}catch(error){console.error('Failed to fetch active theme:',error);}};const fetchMenus=async()=>{try{const response=await api.get('/api/website/navigation-menus');setMenus(response.data.menus||[]);}catch(error){console.error('Failed to fetch menus:',error);}};const handleDeletePage=async pageId=>{if(!window.confirm('Delete this page?'))return;try{await api.delete(\"/api/website/pages/\".concat(pageId));fetchPages();}catch(error){alert('Failed to delete page');}};const handleActivateTheme=async themeId=>{try{await api.post(\"/api/website/themes/\".concat(themeId,\"/activate\"));fetchActiveTheme();fetchThemes();}catch(error){alert('Failed to activate theme');}};const renderContent=()=>{switch(activeTab){case'pages':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1 max-w-md\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search pages...\",className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"search-pages-input\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentPage(null);setShowPageModal(true);},className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"create-page-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"New Page\"]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner mx-auto\"})}):pages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(Globe,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:\"No pages yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first page to build your website\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPageModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Create Your First Page\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:pages.map(page=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition\",\"data-testid\":\"page-card-\".concat(page.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Globe,{className:\"text-blue-600\",size:48})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(page.status==='published'?'bg-green-100 text-green-700':'bg-gray-100 text-gray-700'),children:page.status})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-2\",children:page.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:[\"/\",page.slug]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentPage(page);setShowPageBuilder(true);},className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2\",\"data-testid\":\"edit-page-\".concat(page.id),children:[/*#__PURE__*/_jsx(Edit,{size:16}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeletePage(page.id),className:\"bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]})]},page.id))})]});case'themes':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"Website Themes\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowThemeModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"create-theme-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"New Theme\"]})]}),activeTheme&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Palette,{className:\"text-white\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-gray-900\",children:activeTheme.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600 font-medium\",children:\"Active Theme\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowThemeModal(true),className:\"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-50 transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{size:16}),\"Customize\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Primary Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg border-2 border-gray-300\",style:{backgroundColor:activeTheme.primary_color}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-mono\",children:activeTheme.primary_color})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Secondary Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg border-2 border-gray-300\",style:{backgroundColor:activeTheme.secondary_color}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-mono\",children:activeTheme.secondary_color})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Accent Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-lg border-2 border-gray-300\",style:{backgroundColor:activeTheme.accent_color}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-mono\",children:activeTheme.accent_color})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:themes.filter(t=>!t.is_active).map(theme=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Palette,{className:\"text-gray-600\",size:24})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-gray-900\",children:theme.name})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 rounded border-2 border-gray-300\",style:{backgroundColor:theme.primary_color}}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 rounded border-2 border-gray-300\",style:{backgroundColor:theme.secondary_color}}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 rounded border-2 border-gray-300\",style:{backgroundColor:theme.accent_color}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleActivateTheme(theme.id),className:\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition\",children:\"Activate Theme\"})]},theme.id))})]});case'navigation':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"Navigation Menus\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowMenuModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"create-menu-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"New Menu\"]})]}),menus.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(MenuIcon,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:\"No navigation menus yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create a menu to organize your website navigation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMenuModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Create Your First Menu\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:menus.map(menu=>/*#__PURE__*/_jsx(MenuCard,{menu:menu,pages:pages,onUpdate:fetchMenus},menu.id))})]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Website Builder\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Build and customize your website\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex gap-8 px-6\",\"data-testid\":\"website-tabs\",children:[{id:'pages',label:'Pages',icon:FileText},{id:'themes',label:'Themes',icon:Palette},{id:'navigation',label:'Navigation',icon:MenuIcon}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex items-center gap-2 py-4 border-b-2 font-medium transition \".concat(activeTab===tab.id?'border-blue-600 text-blue-600':'border-transparent text-gray-600 hover:text-gray-900'),\"data-testid\":\"tab-\".concat(tab.id),children:[/*#__PURE__*/_jsx(tab.icon,{size:20}),tab.label]},tab.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:renderContent()})]}),showPageModal&&/*#__PURE__*/_jsx(PageModal,{page:currentPage,onClose:()=>{setShowPageModal(false);setCurrentPage(null);},onSave:()=>{fetchPages();setShowPageModal(false);setCurrentPage(null);}}),showPageBuilder&&currentPage&&/*#__PURE__*/_jsx(PageBuilderModal,{page:currentPage,onClose:()=>{setShowPageBuilder(false);setCurrentPage(null);},onSave:()=>{fetchPages();setShowPageBuilder(false);setCurrentPage(null);}}),showThemeModal&&/*#__PURE__*/_jsx(ThemeModal,{theme:activeTheme,onClose:()=>setShowThemeModal(false),onSave:()=>{fetchActiveTheme();fetchThemes();setShowThemeModal(false);}}),showMenuModal&&/*#__PURE__*/_jsx(MenuModal,{pages:pages,onClose:()=>setShowMenuModal(false),onSave:()=>{fetchMenus();setShowMenuModal(false);}})]});};// Page Modal\nconst PageModal=_ref=>{let{page,onClose,onSave}=_ref;const[formData,setFormData]=useState(page||{title:'',slug:'',seo_title:'',seo_description:'',seo_keywords:''});const handleSubmit=async e=>{e.preventDefault();try{if(page){await api.put(\"/api/website/pages/\".concat(page.id),formData);}else{await api.post('/api/website/pages',formData);}onSave();}catch(error){var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to save page');}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\"data-testid\":\"page-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:page?'Edit Page':'Create New Page'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter page title\",\"data-testid\":\"page-title-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"URL Slug\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.slug,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{slug:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"url-slug\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Leave empty to auto-generate from title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"SEO Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SEO Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.seo_title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{seo_title:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SEO Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.seo_description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{seo_description:e.target.value})),rows:3,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"SEO Keywords\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.seo_keywords,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{seo_keywords:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"keyword1, keyword2, keyword3\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\",\"data-testid\":\"save-page-btn\",children:page?'Update Page':'Create Page'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]})]})});};// Page Builder Modal (reuses Funnel Builder blocks)\nconst PageBuilderModal=_ref2=>{var _page$content;let{page,onClose,onSave}=_ref2;const[blocks,setBlocks]=useState(((_page$content=page.content)===null||_page$content===void 0?void 0:_page$content.blocks)||[]);const[previewMode,setPreviewMode]=useState('desktop');const handleSave=async()=>{try{await api.put(\"/api/website/pages/\".concat(page.id),{content:{blocks},status:'published'});onSave();}catch(error){alert('Failed to save page');}};const addBlock=blockType=>{const newBlock=_objectSpread({id:\"block_\".concat(Date.now())},defaultBlocks[blockType]);setBlocks([...blocks,newBlock]);};const removeBlock=blockId=>{setBlocks(blocks.filter(b=>b.id!==blockId));};const onDragEnd=result=>{if(!result.destination)return;const items=Array.from(blocks);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setBlocks(items);};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-white z-50 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:[\"Edit Page: \",page.title]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewMode('desktop'),className:\"p-2 rounded-lg \".concat(previewMode==='desktop'?'bg-blue-100 text-blue-600':'text-gray-600 hover:bg-gray-100'),children:/*#__PURE__*/_jsx(Monitor,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPreviewMode('mobile'),className:\"p-2 rounded-lg \".concat(previewMode==='mobile'?'bg-blue-100 text-blue-600':'text-gray-600 hover:bg-gray-100'),children:/*#__PURE__*/_jsx(Smartphone,{size:20})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Save,{size:20}),\"Save Page\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-gray-50 border-r border-gray-200 p-4 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 mb-4\",children:\"Add Blocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.keys(defaultBlocks).map(blockType=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addBlock(blockType),className:\"w-full text-left px-4 py-3 bg-white rounded-lg hover:bg-blue-50 hover:text-blue-600 transition border border-gray-200\",children:blockType.charAt(0).toUpperCase()+blockType.slice(1)},blockType))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto bg-gray-100 p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto bg-white shadow-lg \".concat(previewMode==='mobile'?'max-w-sm':'max-w-6xl'),children:[/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"blocks\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,children:[blocks.map((block,index)=>/*#__PURE__*/_jsx(Draggable,{draggableId:block.id,index:index,children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{className:\"relative group\",children:[/*#__PURE__*/_jsx(BlockPreview,{block:block}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeBlock(block.id),className:\"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-lg opacity-0 group-hover:opacity-100 transition\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]}))},block.id)),provided.placeholder]}))})}),blocks.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-12 text-center text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Add blocks from the sidebar to start building your page\"})})]})})]})]});};// Block Preview Component (simplified version of blocks)\nconst BlockPreview=_ref3=>{let{block}=_ref3;const{type,content,style}=block;const containerStyle={backgroundColor:style===null||style===void 0?void 0:style.backgroundColor,color:style===null||style===void 0?void 0:style.textColor,padding:(style===null||style===void 0?void 0:style.padding)||'40px 20px',textAlign:(style===null||style===void 0?void 0:style.alignment)||'left'};switch(type){case'hero':return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:style===null||style===void 0?void 0:style.headingSize,margin:'0 0 16px'},children:content.headline}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:style===null||style===void 0?void 0:style.subheadingSize,margin:'0 0 24px'},children:content.subheadline}),/*#__PURE__*/_jsx(\"button\",{className:\"px-6 py-3 bg-blue-600 text-white rounded-lg\",children:content.cta_text})]});case'text':return/*#__PURE__*/_jsx(\"div\",{style:containerStyle,children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:content.text||'Text content goes here'}})});default:return/*#__PURE__*/_jsx(\"div\",{style:containerStyle,children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500\",children:[type,\" block\"]})});}};// Theme Modal\nconst ThemeModal=_ref4=>{let{theme,onClose,onSave}=_ref4;const[formData,setFormData]=useState(theme||{name:'My Theme',primary_color:'#3B82F6',secondary_color:'#10B981',accent_color:'#F59E0B',background_color:'#FFFFFF',text_color:'#111827',heading_font:'Inter',body_font:'Inter'});const handleSubmit=async e=>{e.preventDefault();try{if(theme!==null&&theme!==void 0&&theme.id&&theme.id!=='default'){await api.put(\"/api/website/themes/\".concat(theme.id),formData);}else{const response=await api.post('/api/website/themes',formData);await api.post(\"/api/website/themes/\".concat(response.data.id,\"/activate\"));}onSave();}catch(error){alert('Failed to save theme');}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Customize Theme\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Theme Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Primary Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:formData.primary_color,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{primary_color:e.target.value})),className:\"w-full h-12 rounded-lg border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Secondary Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:formData.secondary_color,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{secondary_color:e.target.value})),className:\"w-full h-12 rounded-lg border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Accent Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:formData.accent_color,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{accent_color:e.target.value})),className:\"w-full h-12 rounded-lg border border-gray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Background Color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:formData.background_color,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{background_color:e.target.value})),className:\"w-full h-12 rounded-lg border border-gray-300\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Save Theme\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]})]})});};// Menu Card Component\nconst MenuCard=_ref5=>{let{menu,pages,onUpdate}=_ref5;const[isEditing,setIsEditing]=useState(false);const[menuItems,setMenuItems]=useState(menu.menu_items||[]);const handleSave=async()=>{try{await api.put(\"/api/website/navigation-menus/\".concat(menu.id),{menu_items:menuItems});onUpdate();setIsEditing(false);}catch(error){alert('Failed to update menu');}};const addMenuItem=()=>{setMenuItems([...menuItems,{id:\"item_\".concat(Date.now()),label:'New Item',url:'/',type:'page',order:menuItems.length}]);};const removeMenuItem=itemId=>{setMenuItems(menuItems.filter(item=>item.id!==itemId));};const moveItem=(index,direction)=>{const newItems=[...menuItems];const targetIndex=direction==='up'?index-1:index+1;if(targetIndex<0||targetIndex>=newItems.length)return;[newItems[index],newItems[targetIndex]]=[newItems[targetIndex],newItems[index]];newItems.forEach((item,idx)=>item.order=idx);setMenuItems(newItems);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-bold text-gray-900\",children:menu.name}),!isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"text-blue-600 hover:text-blue-700 font-medium\",children:\"Edit Menu\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[menuItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveItem(index,'up'),disabled:index===0,className:\"text-gray-400 hover:text-gray-600 disabled:opacity-30\",children:/*#__PURE__*/_jsx(ChevronUp,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveItem(index,'down'),disabled:index===menuItems.length-1,className:\"text-gray-400 hover:text-gray-600 disabled:opacity-30\",children:/*#__PURE__*/_jsx(ChevronDown,{size:16})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.label,onChange:e=>{const newItems=[...menuItems];newItems[index].label=e.target.value;setMenuItems(newItems);},className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\",placeholder:\"Menu label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.url,onChange:e=>{const newItems=[...menuItems];newItems[index].url=e.target.value;setMenuItems(newItems);},className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\",placeholder:\"URL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeMenuItem(item.id),className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]},item.id)),/*#__PURE__*/_jsxs(\"button\",{onClick:addMenuItem,className:\"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition\",children:[/*#__PURE__*/_jsx(Plus,{size:20,className:\"inline mr-2\"}),\"Add Menu Item\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:menuItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-700\",children:[/*#__PURE__*/_jsx(ExternalLink,{size:16,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:item.label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:item.url})]},item.id))})]});};// Menu Modal\nconst MenuModal=_ref6=>{let{pages,onClose,onSave}=_ref6;const[formData,setFormData]=useState({name:'',location:'header'});const handleSubmit=async e=>{e.preventDefault();try{await api.post('/api/website/navigation-menus',formData);onSave();}catch(error){alert('Failed to create menu');}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"New Menu\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Menu Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"e.g., Main Menu\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Location\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.location,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{location:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"header\",children:\"Header\"}),/*#__PURE__*/_jsx(\"option\",{value:\"footer\",children:\"Footer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sidebar\",children:\"Sidebar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Create Menu\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]})]})});};export default WebsiteBuilder;","map":{"version":3,"names":["React","useState","useEffect","Globe","Plus","Search","Edit","Trash2","Eye","Save","X","Monitor","Smartphone","Palette","Menu","MenuIcon","Settings","ChevronUp","ChevronDown","ExternalLink","Home","FileText","Mail","api","DragDropContext","Droppable","Draggable","defaultBlocks","jsx","_jsx","jsxs","_jsxs","WebsiteBuilder","activeTab","setActiveTab","pages","setPages","themes","setThemes","menus","setMenus","activeTheme","setActiveTheme","loading","setLoading","showPageModal","setShowPageModal","showPageBuilder","setShowPageBuilder","showThemeModal","setShowThemeModal","showMenuModal","setShowMenuModal","currentPage","setCurrentPage","fetchPages","fetchThemes","fetchActiveTheme","fetchMenus","response","get","data","error","console","handleDeletePage","pageId","window","confirm","delete","concat","alert","handleActivateTheme","themeId","post","renderContent","className","children","size","type","placeholder","onClick","length","map","page","id","status","title","slug","name","style","backgroundColor","primary_color","secondary_color","accent_color","filter","t","is_active","theme","menu","MenuCard","onUpdate","label","icon","tab","PageModal","onClose","onSave","PageBuilderModal","ThemeModal","MenuModal","_ref","formData","setFormData","seo_title","seo_description","seo_keywords","handleSubmit","e","preventDefault","put","_error$response","_error$response$data","detail","onSubmit","required","value","onChange","_objectSpread","target","rows","_ref2","_page$content","blocks","setBlocks","content","previewMode","setPreviewMode","handleSave","addBlock","blockType","newBlock","Date","now","removeBlock","blockId","b","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","Object","keys","charAt","toUpperCase","slice","droppableId","provided","droppableProps","ref","innerRef","block","draggableId","draggableProps","dragHandleProps","BlockPreview","_ref3","containerStyle","color","textColor","padding","textAlign","alignment","fontSize","headingSize","margin","headline","subheadingSize","subheadline","cta_text","dangerouslySetInnerHTML","__html","text","_ref4","background_color","text_color","heading_font","body_font","_ref5","isEditing","setIsEditing","menuItems","setMenuItems","menu_items","addMenuItem","url","order","removeMenuItem","itemId","item","moveItem","direction","newItems","targetIndex","forEach","idx","disabled","_ref6","location"],"sources":["/app/frontend/src/components/WebsiteBuilder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Globe, Plus, Search, Edit, Trash2, Eye, Save, X,\n  Monitor, Smartphone, Palette, Menu as MenuIcon, Settings,\n  ChevronUp, ChevronDown, ExternalLink, Home, FileText, Mail\n} from 'lucide-react';\nimport api from '../api';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { defaultBlocks } from './FunnelBuilder/pageBlocks';\n\nconst WebsiteBuilder = () => {\n  const [activeTab, setActiveTab] = useState('pages');\n  const [pages, setPages] = useState([]);\n  const [themes, setThemes] = useState([]);\n  const [menus, setMenus] = useState([]);\n  const [activeTheme, setActiveTheme] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPageModal, setShowPageModal] = useState(false);\n  const [showPageBuilder, setShowPageBuilder] = useState(false);\n  const [showThemeModal, setShowThemeModal] = useState(false);\n  const [showMenuModal, setShowMenuModal] = useState(false);\n  const [currentPage, setCurrentPage] = useState(null);\n\n  useEffect(() => {\n    fetchPages();\n    fetchThemes();\n    fetchActiveTheme();\n    fetchMenus();\n  }, []);\n\n  const fetchPages = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/website/pages');\n      setPages(response.data.pages || []);\n    } catch (error) {\n      console.error('Failed to fetch pages:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchThemes = async () => {\n    try {\n      const response = await api.get('/api/website/themes');\n      setThemes(response.data.themes || []);\n    } catch (error) {\n      console.error('Failed to fetch themes:', error);\n    }\n  };\n\n  const fetchActiveTheme = async () => {\n    try {\n      const response = await api.get('/api/website/themes/active');\n      setActiveTheme(response.data);\n    } catch (error) {\n      console.error('Failed to fetch active theme:', error);\n    }\n  };\n\n  const fetchMenus = async () => {\n    try {\n      const response = await api.get('/api/website/navigation-menus');\n      setMenus(response.data.menus || []);\n    } catch (error) {\n      console.error('Failed to fetch menus:', error);\n    }\n  };\n\n  const handleDeletePage = async (pageId) => {\n    if (!window.confirm('Delete this page?')) return;\n    try {\n      await api.delete(`/api/website/pages/${pageId}`);\n      fetchPages();\n    } catch (error) {\n      alert('Failed to delete page');\n    }\n  };\n\n  const handleActivateTheme = async (themeId) => {\n    try {\n      await api.post(`/api/website/themes/${themeId}/activate`);\n      fetchActiveTheme();\n      fetchThemes();\n    } catch (error) {\n      alert('Failed to activate theme');\n    }\n  };\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'pages':\n        return (\n          <div className=\"space-y-6\">\n            {/* Action Bar */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"relative flex-1 max-w-md\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search pages...\"\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  data-testid=\"search-pages-input\"\n                />\n              </div>\n\n              <button\n                onClick={() => {\n                  setCurrentPage(null);\n                  setShowPageModal(true);\n                }}\n                className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n                data-testid=\"create-page-btn\"\n              >\n                <Plus size={20} />\n                New Page\n              </button>\n            </div>\n\n            {/* Pages Grid */}\n            {loading ? (\n              <div className=\"text-center py-12\">\n                <div className=\"spinner mx-auto\"></div>\n              </div>\n            ) : pages.length === 0 ? (\n              <div className=\"bg-white rounded-xl shadow-md p-12 text-center\">\n                <Globe className=\"mx-auto text-gray-400 mb-4\" size={48} />\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">No pages yet</h3>\n                <p className=\"text-gray-600 mb-6\">Create your first page to build your website</p>\n                <button\n                  onClick={() => setShowPageModal(true)}\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n                >\n                  Create Your First Page\n                </button>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {pages.map(page => (\n                  <div key={page.id} className=\"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition\" data-testid={`page-card-${page.id}`}>\n                    <div className=\"h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center\">\n                      <Globe className=\"text-blue-600\" size={48} />\n                    </div>\n                    <div className=\"p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                          page.status === 'published' ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-700'\n                        }`}>\n                          {page.status}\n                        </span>\n                      </div>\n                      \n                      <h3 className=\"text-lg font-bold text-gray-900 mb-2\">{page.title}</h3>\n                      <p className=\"text-sm text-gray-600 mb-4\">/{page.slug}</p>\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => {\n                            setCurrentPage(page);\n                            setShowPageBuilder(true);\n                          }}\n                          className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2\"\n                          data-testid={`edit-page-${page.id}`}\n                        >\n                          <Edit size={16} />\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => handleDeletePage(page.id)}\n                          className=\"bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition\"\n                        >\n                          <Trash2 size={16} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        );\n\n      case 'themes':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-2xl font-bold text-gray-900\">Website Themes</h3>\n              <button\n                onClick={() => setShowThemeModal(true)}\n                className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n                data-testid=\"create-theme-btn\"\n              >\n                <Plus size={20} />\n                New Theme\n              </button>\n            </div>\n\n            {/* Active Theme */}\n            {activeTheme && (\n              <div className=\"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-500\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                      <Palette className=\"text-white\" size={24} />\n                    </div>\n                    <div>\n                      <h4 className=\"font-bold text-gray-900\">{activeTheme.name}</h4>\n                      <p className=\"text-sm text-blue-600 font-medium\">Active Theme</p>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setShowThemeModal(true)}\n                    className=\"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-50 transition flex items-center gap-2\"\n                  >\n                    <Settings size={16} />\n                    Customize\n                  </button>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-2\">Primary Color</p>\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        className=\"w-10 h-10 rounded-lg border-2 border-gray-300\"\n                        style={{ backgroundColor: activeTheme.primary_color }}\n                      ></div>\n                      <span className=\"text-sm font-mono\">{activeTheme.primary_color}</span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-2\">Secondary Color</p>\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        className=\"w-10 h-10 rounded-lg border-2 border-gray-300\"\n                        style={{ backgroundColor: activeTheme.secondary_color }}\n                      ></div>\n                      <span className=\"text-sm font-mono\">{activeTheme.secondary_color}</span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-2\">Accent Color</p>\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        className=\"w-10 h-10 rounded-lg border-2 border-gray-300\"\n                        style={{ backgroundColor: activeTheme.accent_color }}\n                      ></div>\n                      <span className=\"text-sm font-mono\">{activeTheme.accent_color}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Other Themes */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {themes.filter(t => !t.is_active).map(theme => (\n                <div key={theme.id} className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                        <Palette className=\"text-gray-600\" size={24} />\n                      </div>\n                      <div>\n                        <h4 className=\"font-bold text-gray-900\">{theme.name}</h4>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-3 gap-2 mb-4\">\n                    <div\n                      className=\"h-8 rounded border-2 border-gray-300\"\n                      style={{ backgroundColor: theme.primary_color }}\n                    ></div>\n                    <div\n                      className=\"h-8 rounded border-2 border-gray-300\"\n                      style={{ backgroundColor: theme.secondary_color }}\n                    ></div>\n                    <div\n                      className=\"h-8 rounded border-2 border-gray-300\"\n                      style={{ backgroundColor: theme.accent_color }}\n                    ></div>\n                  </div>\n\n                  <button\n                    onClick={() => handleActivateTheme(theme.id)}\n                    className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition\"\n                  >\n                    Activate Theme\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n\n      case 'navigation':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-2xl font-bold text-gray-900\">Navigation Menus</h3>\n              <button\n                onClick={() => setShowMenuModal(true)}\n                className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n                data-testid=\"create-menu-btn\"\n              >\n                <Plus size={20} />\n                New Menu\n              </button>\n            </div>\n\n            {menus.length === 0 ? (\n              <div className=\"bg-white rounded-xl shadow-md p-12 text-center\">\n                <MenuIcon className=\"mx-auto text-gray-400 mb-4\" size={48} />\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">No navigation menus yet</h3>\n                <p className=\"text-gray-600 mb-6\">Create a menu to organize your website navigation</p>\n                <button\n                  onClick={() => setShowMenuModal(true)}\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n                >\n                  Create Your First Menu\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {menus.map(menu => (\n                  <MenuCard key={menu.id} menu={menu} pages={pages} onUpdate={fetchMenus} />\n                ))}\n              </div>\n            )}\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-3xl font-bold text-gray-900\">Website Builder</h2>\n          <p className=\"text-gray-600 mt-1\">Build and customize your website</p>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-xl shadow-md\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"flex gap-8 px-6\" data-testid=\"website-tabs\">\n            {[\n              { id: 'pages', label: 'Pages', icon: FileText },\n              { id: 'themes', label: 'Themes', icon: Palette },\n              { id: 'navigation', label: 'Navigation', icon: MenuIcon },\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center gap-2 py-4 border-b-2 font-medium transition ${\n                  activeTab === tab.id\n                    ? 'border-blue-600 text-blue-600'\n                    : 'border-transparent text-gray-600 hover:text-gray-900'\n                }`}\n                data-testid={`tab-${tab.id}`}\n              >\n                <tab.icon size={20} />\n                {tab.label}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        <div className=\"p-6\">\n          {renderContent()}\n        </div>\n      </div>\n\n      {/* Modals */}\n      {showPageModal && (\n        <PageModal\n          page={currentPage}\n          onClose={() => {\n            setShowPageModal(false);\n            setCurrentPage(null);\n          }}\n          onSave={() => {\n            fetchPages();\n            setShowPageModal(false);\n            setCurrentPage(null);\n          }}\n        />\n      )}\n\n      {showPageBuilder && currentPage && (\n        <PageBuilderModal\n          page={currentPage}\n          onClose={() => {\n            setShowPageBuilder(false);\n            setCurrentPage(null);\n          }}\n          onSave={() => {\n            fetchPages();\n            setShowPageBuilder(false);\n            setCurrentPage(null);\n          }}\n        />\n      )}\n\n      {showThemeModal && (\n        <ThemeModal\n          theme={activeTheme}\n          onClose={() => setShowThemeModal(false)}\n          onSave={() => {\n            fetchActiveTheme();\n            fetchThemes();\n            setShowThemeModal(false);\n          }}\n        />\n      )}\n\n      {showMenuModal && (\n        <MenuModal\n          pages={pages}\n          onClose={() => setShowMenuModal(false)}\n          onSave={() => {\n            fetchMenus();\n            setShowMenuModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\n// Page Modal\nconst PageModal = ({ page, onClose, onSave }) => {\n  const [formData, setFormData] = useState(page || {\n    title: '',\n    slug: '',\n    seo_title: '',\n    seo_description: '',\n    seo_keywords: ''\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (page) {\n        await api.put(`/api/website/pages/${page.id}`, formData);\n      } else {\n        await api.post('/api/website/pages', formData);\n      }\n      onSave();\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to save page');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\" data-testid=\"page-modal\">\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {page ? 'Edit Page' : 'Create New Page'}\n          </h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Title *</label>\n            <input\n              type=\"text\"\n              required\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter page title\"\n              data-testid=\"page-title-input\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">URL Slug</label>\n            <input\n              type=\"text\"\n              value={formData.slug}\n              onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"url-slug\"\n            />\n            <p className=\"text-sm text-gray-500 mt-1\">Leave empty to auto-generate from title</p>\n          </div>\n\n          {/* SEO Settings */}\n          <div className=\"border-t border-gray-200 pt-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">SEO Settings</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">SEO Title</label>\n                <input\n                  type=\"text\"\n                  value={formData.seo_title}\n                  onChange={(e) => setFormData({ ...formData, seo_title: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">SEO Description</label>\n                <textarea\n                  value={formData.seo_description}\n                  onChange={(e) => setFormData({ ...formData, seo_description: e.target.value })}\n                  rows={3}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">SEO Keywords</label>\n                <input\n                  type=\"text\"\n                  value={formData.seo_keywords}\n                  onChange={(e) => setFormData({ ...formData, seo_keywords: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"keyword1, keyword2, keyword3\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3 pt-4\">\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n              data-testid=\"save-page-btn\"\n            >\n              {page ? 'Update Page' : 'Create Page'}\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Page Builder Modal (reuses Funnel Builder blocks)\nconst PageBuilderModal = ({ page, onClose, onSave }) => {\n  const [blocks, setBlocks] = useState(page.content?.blocks || []);\n  const [previewMode, setPreviewMode] = useState('desktop');\n\n  const handleSave = async () => {\n    try {\n      await api.put(`/api/website/pages/${page.id}`, {\n        content: { blocks },\n        status: 'published'\n      });\n      onSave();\n    } catch (error) {\n      alert('Failed to save page');\n    }\n  };\n\n  const addBlock = (blockType) => {\n    const newBlock = {\n      id: `block_${Date.now()}`,\n      ...defaultBlocks[blockType]\n    };\n    setBlocks([...blocks, newBlock]);\n  };\n\n  const removeBlock = (blockId) => {\n    setBlocks(blocks.filter(b => b.id !== blockId));\n  };\n\n  const onDragEnd = (result) => {\n    if (!result.destination) return;\n\n    const items = Array.from(blocks);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n\n    setBlocks(items);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Edit Page: {page.title}</h2>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {/* Preview Mode Selector */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setPreviewMode('desktop')}\n              className={`p-2 rounded-lg ${previewMode === 'desktop' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:bg-gray-100'}`}\n            >\n              <Monitor size={20} />\n            </button>\n            <button\n              onClick={() => setPreviewMode('mobile')}\n              className={`p-2 rounded-lg ${previewMode === 'mobile' ? 'bg-blue-100 text-blue-600' : 'text-gray-600 hover:bg-gray-100'}`}\n            >\n              <Smartphone size={20} />\n            </button>\n          </div>\n\n          <button\n            onClick={handleSave}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n          >\n            <Save size={20} />\n            Save Page\n          </button>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n      </div>\n\n      {/* Builder Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Block Library Sidebar */}\n        <div className=\"w-64 bg-gray-50 border-r border-gray-200 p-4 overflow-y-auto\">\n          <h3 className=\"font-bold text-gray-900 mb-4\">Add Blocks</h3>\n          <div className=\"space-y-2\">\n            {Object.keys(defaultBlocks).map(blockType => (\n              <button\n                key={blockType}\n                onClick={() => addBlock(blockType)}\n                className=\"w-full text-left px-4 py-3 bg-white rounded-lg hover:bg-blue-50 hover:text-blue-600 transition border border-gray-200\"\n              >\n                {blockType.charAt(0).toUpperCase() + blockType.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Canvas */}\n        <div className=\"flex-1 overflow-y-auto bg-gray-100 p-8\">\n          <div className={`mx-auto bg-white shadow-lg ${previewMode === 'mobile' ? 'max-w-sm' : 'max-w-6xl'}`}>\n            <DragDropContext onDragEnd={onDragEnd}>\n              <Droppable droppableId=\"blocks\">\n                {(provided) => (\n                  <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {blocks.map((block, index) => (\n                      <Draggable key={block.id} draggableId={block.id} index={index}>\n                        {(provided) => (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            className=\"relative group\"\n                          >\n                            <BlockPreview block={block} />\n                            <button\n                              onClick={() => removeBlock(block.id)}\n                              className=\"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-lg opacity-0 group-hover:opacity-100 transition\"\n                            >\n                              <Trash2 size={16} />\n                            </button>\n                          </div>\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n\n            {blocks.length === 0 && (\n              <div className=\"p-12 text-center text-gray-500\">\n                <p>Add blocks from the sidebar to start building your page</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Block Preview Component (simplified version of blocks)\nconst BlockPreview = ({ block }) => {\n  const { type, content, style } = block;\n\n  const containerStyle = {\n    backgroundColor: style?.backgroundColor,\n    color: style?.textColor,\n    padding: style?.padding || '40px 20px',\n    textAlign: style?.alignment || 'left'\n  };\n\n  switch (type) {\n    case 'hero':\n      return (\n        <div style={containerStyle}>\n          <h1 style={{ fontSize: style?.headingSize, margin: '0 0 16px' }}>{content.headline}</h1>\n          <p style={{ fontSize: style?.subheadingSize, margin: '0 0 24px' }}>{content.subheadline}</p>\n          <button className=\"px-6 py-3 bg-blue-600 text-white rounded-lg\">{content.cta_text}</button>\n        </div>\n      );\n    \n    case 'text':\n      return (\n        <div style={containerStyle}>\n          <div dangerouslySetInnerHTML={{ __html: content.text || 'Text content goes here' }} />\n        </div>\n      );\n    \n    default:\n      return (\n        <div style={containerStyle}>\n          <p className=\"text-gray-500\">{type} block</p>\n        </div>\n      );\n  }\n};\n\n// Theme Modal\nconst ThemeModal = ({ theme, onClose, onSave }) => {\n  const [formData, setFormData] = useState(theme || {\n    name: 'My Theme',\n    primary_color: '#3B82F6',\n    secondary_color: '#10B981',\n    accent_color: '#F59E0B',\n    background_color: '#FFFFFF',\n    text_color: '#111827',\n    heading_font: 'Inter',\n    body_font: 'Inter'\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (theme?.id && theme.id !== 'default') {\n        await api.put(`/api/website/themes/${theme.id}`, formData);\n      } else {\n        const response = await api.post('/api/website/themes', formData);\n        await api.post(`/api/website/themes/${response.data.id}/activate`);\n      }\n      onSave();\n    } catch (error) {\n      alert('Failed to save theme');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Customize Theme</h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Theme Name</label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Primary Color</label>\n              <input\n                type=\"color\"\n                value={formData.primary_color}\n                onChange={(e) => setFormData({ ...formData, primary_color: e.target.value })}\n                className=\"w-full h-12 rounded-lg border border-gray-300\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Secondary Color</label>\n              <input\n                type=\"color\"\n                value={formData.secondary_color}\n                onChange={(e) => setFormData({ ...formData, secondary_color: e.target.value })}\n                className=\"w-full h-12 rounded-lg border border-gray-300\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Accent Color</label>\n              <input\n                type=\"color\"\n                value={formData.accent_color}\n                onChange={(e) => setFormData({ ...formData, accent_color: e.target.value })}\n                className=\"w-full h-12 rounded-lg border border-gray-300\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Background Color</label>\n              <input\n                type=\"color\"\n                value={formData.background_color}\n                onChange={(e) => setFormData({ ...formData, background_color: e.target.value })}\n                className=\"w-full h-12 rounded-lg border border-gray-300\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n            >\n              Save Theme\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Menu Card Component\nconst MenuCard = ({ menu, pages, onUpdate }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [menuItems, setMenuItems] = useState(menu.menu_items || []);\n\n  const handleSave = async () => {\n    try {\n      await api.put(`/api/website/navigation-menus/${menu.id}`, {\n        menu_items: menuItems\n      });\n      onUpdate();\n      setIsEditing(false);\n    } catch (error) {\n      alert('Failed to update menu');\n    }\n  };\n\n  const addMenuItem = () => {\n    setMenuItems([...menuItems, {\n      id: `item_${Date.now()}`,\n      label: 'New Item',\n      url: '/',\n      type: 'page',\n      order: menuItems.length\n    }]);\n  };\n\n  const removeMenuItem = (itemId) => {\n    setMenuItems(menuItems.filter(item => item.id !== itemId));\n  };\n\n  const moveItem = (index, direction) => {\n    const newItems = [...menuItems];\n    const targetIndex = direction === 'up' ? index - 1 : index + 1;\n    if (targetIndex < 0 || targetIndex >= newItems.length) return;\n    \n    [newItems[index], newItems[targetIndex]] = [newItems[targetIndex], newItems[index]];\n    newItems.forEach((item, idx) => item.order = idx);\n    setMenuItems(newItems);\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-md p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h4 className=\"text-lg font-bold text-gray-900\">{menu.name}</h4>\n        {!isEditing ? (\n          <button\n            onClick={() => setIsEditing(true)}\n            className=\"text-blue-600 hover:text-blue-700 font-medium\"\n          >\n            Edit Menu\n          </button>\n        ) : (\n          <div className=\"flex gap-2\">\n            <button\n              onClick={handleSave}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition\"\n            >\n              Save\n            </button>\n            <button\n              onClick={() => setIsEditing(false)}\n              className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n\n      {isEditing ? (\n        <div className=\"space-y-3\">\n          {menuItems.map((item, index) => (\n            <div key={item.id} className=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg\">\n              <div className=\"flex flex-col gap-1\">\n                <button\n                  onClick={() => moveItem(index, 'up')}\n                  disabled={index === 0}\n                  className=\"text-gray-400 hover:text-gray-600 disabled:opacity-30\"\n                >\n                  <ChevronUp size={16} />\n                </button>\n                <button\n                  onClick={() => moveItem(index, 'down')}\n                  disabled={index === menuItems.length - 1}\n                  className=\"text-gray-400 hover:text-gray-600 disabled:opacity-30\"\n                >\n                  <ChevronDown size={16} />\n                </button>\n              </div>\n              \n              <input\n                type=\"text\"\n                value={item.label}\n                onChange={(e) => {\n                  const newItems = [...menuItems];\n                  newItems[index].label = e.target.value;\n                  setMenuItems(newItems);\n                }}\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"Menu label\"\n              />\n              \n              <input\n                type=\"text\"\n                value={item.url}\n                onChange={(e) => {\n                  const newItems = [...menuItems];\n                  newItems[index].url = e.target.value;\n                  setMenuItems(newItems);\n                }}\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"URL\"\n              />\n              \n              <button\n                onClick={() => removeMenuItem(item.id)}\n                className=\"text-red-600 hover:text-red-700\"\n              >\n                <Trash2 size={18} />\n              </button>\n            </div>\n          ))}\n          \n          <button\n            onClick={addMenuItem}\n            className=\"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition\"\n          >\n            <Plus size={20} className=\"inline mr-2\" />\n            Add Menu Item\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-2\">\n          {menuItems.map(item => (\n            <div key={item.id} className=\"flex items-center gap-2 text-gray-700\">\n              <ExternalLink size={16} className=\"text-gray-400\" />\n              <span>{item.label}</span>\n              <span className=\"text-gray-400\"></span>\n              <span className=\"text-sm text-gray-500\">{item.url}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Menu Modal\nconst MenuModal = ({ pages, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    location: 'header'\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await api.post('/api/website/navigation-menus', formData);\n      onSave();\n    } catch (error) {\n      alert('Failed to create menu');\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-md w-full\">\n        <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">New Menu</h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Menu Name *</label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"e.g., Main Menu\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\n            <select\n              value={formData.location}\n              onChange={(e) => setFormData({ ...formData, location: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"header\">Header</option>\n              <option value=\"footer\">Footer</option>\n              <option value=\"sidebar\">Sidebar</option>\n            </select>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n            >\n              Create Menu\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default WebsiteBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}