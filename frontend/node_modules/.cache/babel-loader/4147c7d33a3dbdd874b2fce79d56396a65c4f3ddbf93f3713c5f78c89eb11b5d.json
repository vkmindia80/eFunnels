{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import ReactFlow,{MiniMap,Controls,Background,useNodesState,useEdgesState,addEdge,MarkerType}from'reactflow';import'reactflow/dist/style.css';import{Zap,Plus,Play,Pause,Trash2,Edit,Save,X,Settings,Mail,Tag,Clock,GitBranch,CheckCircle,AlertCircle,BarChart2,Eye,Copy,Layers}from'lucide-react';import api from'../api';// Custom Node Components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TriggerNode=_ref=>{let{data}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 shadow-lg rounded-lg border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 min-w-[180px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 rounded-full p-1\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-white\",size:16})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-blue-900 text-sm\",children:\"TRIGGER\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 font-medium\",children:data.label||'Start'})]});};const ActionNode=_ref2=>{let{data}=_ref2;const getIcon=()=>{switch(data.action_type){case'send_email':return/*#__PURE__*/_jsx(Mail,{size:16});case'add_tag':return/*#__PURE__*/_jsx(Tag,{size:16});case'remove_tag':return/*#__PURE__*/_jsx(Tag,{size:16});case'wait':return/*#__PURE__*/_jsx(Clock,{size:16});case'update_contact':return/*#__PURE__*/_jsx(Edit,{size:16});default:return/*#__PURE__*/_jsx(Settings,{size:16});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 shadow-lg rounded-lg border-2 border-green-500 bg-white min-w-[180px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 text-white rounded-full p-1\",children:getIcon()}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-green-900 text-sm\",children:\"ACTION\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 font-medium\",children:data.label||'Action'})]});};const ConditionNode=_ref3=>{let{data}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 shadow-lg rounded-lg border-2 border-yellow-500 bg-gradient-to-br from-yellow-50 to-yellow-100 min-w-[180px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 rounded-full p-1\",children:/*#__PURE__*/_jsx(GitBranch,{className:\"text-white\",size:16})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-yellow-900 text-sm\",children:\"CONDITION\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 font-medium\",children:data.label||'If/Then'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-green-200 text-green-800 px-2 py-1 rounded\",children:\"YES\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-red-200 text-red-800 px-2 py-1 rounded\",children:\"NO\"})]})]});};const EndNode=_ref4=>{let{data}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 shadow-lg rounded-lg border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100 min-w-[180px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-500 rounded-full p-1\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"text-white\",size:16})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-purple-900 text-sm\",children:\"END\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 font-medium\",children:data.label||'Complete'})]});};const nodeTypes={trigger:TriggerNode,action:ActionNode,condition:ConditionNode,end:EndNode};const WorkflowAutomation=()=>{const[activeTab,setActiveTab]=useState('list');// list, builder, analytics\nconst[workflows,setWorkflows]=useState([]);const[templates,setTemplates]=useState([]);const[selectedWorkflow,setSelectedWorkflow]=useState(null);const[showCreateModal,setShowCreateModal]=useState(false);const[showTemplateModal,setShowTemplateModal]=useState(false);const[showNodeSettings,setShowNodeSettings]=useState(false);const[selectedNode,setSelectedNode]=useState(null);const[workflowName,setWorkflowName]=useState('');const[workflowDescription,setWorkflowDescription]=useState('');const[loading,setLoading]=useState(false);const[stats,setStats]=useState({total:0,active:0,total_executions:0,success_rate:0});// React Flow state\nconst[nodes,setNodes,onNodesChange]=useNodesState([]);const[edges,setEdges,onEdgesChange]=useEdgesState([]);const[reactFlowInstance,setReactFlowInstance]=useState(null);useEffect(()=>{fetchWorkflows();fetchTemplates();},[]);const fetchWorkflows=async()=>{try{const response=await api.get('/api/workflows');setWorkflows(response.data.workflows);// Calculate stats\nconst activeCount=response.data.workflows.filter(w=>w.is_active).length;const totalExecutions=response.data.workflows.reduce((sum,w)=>sum+w.total_executions,0);const successfulExecutions=response.data.workflows.reduce((sum,w)=>sum+w.successful_executions,0);const successRate=totalExecutions>0?successfulExecutions/totalExecutions*100:0;setStats({total:response.data.workflows.length,active:activeCount,total_executions:totalExecutions,success_rate:successRate.toFixed(1)});}catch(error){console.error('Error fetching workflows:',error);}};const fetchTemplates=async()=>{try{const response=await api.get('/api/workflow-templates');setTemplates(response.data.templates);}catch(error){console.error('Error fetching templates:',error);}};const onConnect=useCallback(params=>setEdges(eds=>addEdge(_objectSpread(_objectSpread({},params),{},{markerEnd:{type:MarkerType.ArrowClosed},style:{strokeWidth:2}}),eds)),[setEdges]);const handleNodeClick=(event,node)=>{setSelectedNode(node);setShowNodeSettings(true);};const handleCreateWorkflow=async()=>{if(!workflowName){alert('Please enter a workflow name');return;}setLoading(true);try{// Create initial trigger node\nconst triggerNode={id:'trigger-1',type:'trigger',position:{x:250,y:50},data:{label:'Start',trigger_type:'contact_created',trigger_config:{}}};const newWorkflow={name:workflowName,description:workflowDescription,is_active:false,trigger_type:'contact_created',nodes:[triggerNode],edges:[]};const response=await api.post('/api/workflows',newWorkflow);setSelectedWorkflow(response.data);setNodes([triggerNode]);setEdges([]);setActiveTab('builder');setShowCreateModal(false);setWorkflowName('');setWorkflowDescription('');fetchWorkflows();}catch(error){console.error('Error creating workflow:',error);alert('Failed to create workflow');}finally{setLoading(false);}};const handleCreateFromTemplate=async template=>{const name=prompt('Enter a name for this workflow:',template.name);if(!name)return;setLoading(true);try{const response=await api.post(\"/api/workflows/from-template/\".concat(template.id),null,{params:{workflow_name:name}});setSelectedWorkflow(response.data);setNodes(response.data.nodes);setEdges(response.data.edges);setActiveTab('builder');setShowTemplateModal(false);fetchWorkflows();}catch(error){console.error('Error creating from template:',error);alert('Failed to create workflow from template');}finally{setLoading(false);}};const handleSaveWorkflow=async()=>{if(!selectedWorkflow)return;setLoading(true);try{await api.put(\"/api/workflows/\".concat(selectedWorkflow.id),{nodes,edges});alert('Workflow saved successfully!');fetchWorkflows();}catch(error){console.error('Error saving workflow:',error);alert('Failed to save workflow');}finally{setLoading(false);}};const handleToggleActive=async(workflowId,currentStatus)=>{try{const endpoint=currentStatus?'deactivate':'activate';await api.post(\"/api/workflows/\".concat(workflowId,\"/\").concat(endpoint));fetchWorkflows();}catch(error){console.error('Error toggling workflow:',error);alert('Failed to toggle workflow status');}};const handleDeleteWorkflow=async workflowId=>{if(!window.confirm('Are you sure you want to delete this workflow?'))return;try{await api.delete(\"/api/workflows/\".concat(workflowId));fetchWorkflows();if((selectedWorkflow===null||selectedWorkflow===void 0?void 0:selectedWorkflow.id)===workflowId){setSelectedWorkflow(null);setActiveTab('list');}}catch(error){console.error('Error deleting workflow:',error);alert('Failed to delete workflow');}};const handleEditWorkflow=async workflow=>{setSelectedWorkflow(workflow);setNodes(workflow.nodes||[]);setEdges(workflow.edges||[]);setActiveTab('builder');};const addNode=type=>{const nodeId=\"\".concat(type,\"-\").concat(Date.now());const newNode={id:nodeId,type,position:{x:Math.random()*400,y:Math.random()*400},data:_objectSpread(_objectSpread(_objectSpread({label:type.charAt(0).toUpperCase()+type.slice(1)},type==='action'&&{action_type:'send_email',action_config:{}}),type==='trigger'&&{trigger_type:'contact_created',trigger_config:{}}),type==='condition'&&{condition_field:'',condition_operator:'equals',condition_value:''})};setNodes(nds=>nds.concat(newNode));};const updateNodeData=(nodeId,newData)=>{setNodes(nds=>nds.map(node=>{if(node.id===nodeId){return _objectSpread(_objectSpread({},node),{},{data:_objectSpread(_objectSpread({},node.data),newData)});}return node;}));};const renderWorkflowList=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",\"data-testid\":\"total-workflows-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Total Workflows\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stats.total})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",\"data-testid\":\"active-workflows-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stats.active})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(Play,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",\"data-testid\":\"total-executions-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Total Executions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stats.total_executions})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(BarChart2,{className:\"text-purple-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",\"data-testid\":\"success-rate-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Success Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:[stats.success_rate,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"text-yellow-600\",size:24})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"create-workflow-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create Workflow\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTemplateModal(true),className:\"bg-white border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\",\"data-testid\":\"browse-templates-btn\",children:[/*#__PURE__*/_jsx(Layers,{size:20}),\"Browse Templates\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[workflows.map(workflow=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\",\"data-testid\":\"workflow-card-\".concat(workflow.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:workflow.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:workflow.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(workflow.is_active?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:workflow.is_active?'Active':'Inactive'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Executions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:workflow.total_executions})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Success Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:[workflow.total_executions>0?(workflow.successful_executions/workflow.total_executions*100).toFixed(0):0,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleEditWorkflow(workflow),className:\"flex-1 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-blue-600 transition flex items-center justify-center gap-2\",\"data-testid\":\"edit-workflow-\".concat(workflow.id),children:[/*#__PURE__*/_jsx(Edit,{size:16}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleToggleActive(workflow.id,workflow.is_active),className:\"flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2 \".concat(workflow.is_active?'bg-yellow-500 text-white hover:bg-yellow-600':'bg-green-500 text-white hover:bg-green-600'),\"data-testid\":\"toggle-workflow-\".concat(workflow.id),children:[workflow.is_active?/*#__PURE__*/_jsx(Pause,{size:16}):/*#__PURE__*/_jsx(Play,{size:16}),workflow.is_active?'Pause':'Activate']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteWorkflow(workflow.id),className:\"bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition\",\"data-testid\":\"delete-workflow-\".concat(workflow.id),children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},workflow.id)),workflows.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 text-center py-12\",children:[/*#__PURE__*/_jsx(Zap,{className:\"mx-auto text-gray-400 mb-4\",size:64}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:\"No Workflows Yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first workflow to automate your marketing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Create Your First Workflow\"})]})]})]});const renderWorkflowBuilder=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('list');setSelectedWorkflow(null);},className:\"text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(X,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:(selectedWorkflow===null||selectedWorkflow===void 0?void 0:selectedWorkflow.name)||'New Workflow'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:selectedWorkflow===null||selectedWorkflow===void 0?void 0:selectedWorkflow.description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleSaveWorkflow,disabled:loading,className:\"bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center gap-2\",\"data-testid\":\"save-workflow-btn\",children:[/*#__PURE__*/_jsx(Save,{size:20}),loading?'Saving...':'Save']})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-bold text-gray-900 mb-3\",children:\"Add Nodes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addNode('trigger'),className:\"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg font-semibold hover:bg-blue-200 transition flex items-center gap-2\",\"data-testid\":\"add-trigger-node\",children:[/*#__PURE__*/_jsx(Zap,{size:16}),\"Trigger\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addNode('action'),className:\"px-4 py-2 bg-green-100 text-green-800 rounded-lg font-semibold hover:bg-green-200 transition flex items-center gap-2\",\"data-testid\":\"add-action-node\",children:[/*#__PURE__*/_jsx(Settings,{size:16}),\"Action\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addNode('condition'),className:\"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg font-semibold hover:bg-yellow-200 transition flex items-center gap-2\",\"data-testid\":\"add-condition-node\",children:[/*#__PURE__*/_jsx(GitBranch,{size:16}),\"Condition\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addNode('end'),className:\"px-4 py-2 bg-purple-100 text-purple-800 rounded-lg font-semibold hover:bg-purple-200 transition flex items-center gap-2\",\"data-testid\":\"add-end-node\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"End\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden\",style:{height:'600px'},children:/*#__PURE__*/_jsxs(ReactFlow,{nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,onNodeClick:handleNodeClick,onInit:setReactFlowInstance,nodeTypes:nodeTypes,fitView:true,children:[/*#__PURE__*/_jsx(Background,{}),/*#__PURE__*/_jsx(Controls,{}),/*#__PURE__*/_jsx(MiniMap,{})]})})]});// Create Workflow Modal\nconst renderCreateModal=()=>showCreateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Create New Workflow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Workflow Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:workflowName,onChange:e=>setWorkflowName(e.target.value),placeholder:\"e.g., Welcome Series\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"workflow-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:workflowDescription,onChange:e=>setWorkflowDescription(e.target.value),placeholder:\"Describe what this workflow does...\",rows:3,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"workflow-description-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(false),className:\"flex-1 px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateWorkflow,disabled:loading,className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition\",\"data-testid\":\"create-workflow-submit\",children:loading?'Creating...':'Create'})]})]})]})});// Templates Modal\nconst renderTemplateModal=()=>showTemplateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Workflow Templates\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTemplateModal(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-blue-500 transition cursor-pointer\",onClick:()=>handleCreateFromTemplate(template),\"data-testid\":\"template-\".concat(template.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:template.thumbnail,alt:template.name,className:\"w-full h-32 object-cover rounded-lg\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-2\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",children:template.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[template.usage_count,\" uses\"]})]})]},template.id))})]})});// Node Settings Panel\nconst renderNodeSettings=()=>showNodeSettings&&selectedNode&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Node Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNodeSettings(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedNode.data.label||'',onChange:e=>{const newLabel=e.target.value;updateNodeData(selectedNode.id,{label:newLabel});setSelectedNode(_objectSpread(_objectSpread({},selectedNode),{},{data:_objectSpread(_objectSpread({},selectedNode.data),{},{label:newLabel})}));},className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"node-label-input\"})]}),selectedNode.type==='action'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Action Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedNode.data.action_type||'send_email',onChange:e=>{const newActionType=e.target.value;updateNodeData(selectedNode.id,{action_type:newActionType});setSelectedNode(_objectSpread(_objectSpread({},selectedNode),{},{data:_objectSpread(_objectSpread({},selectedNode.data),{},{action_type:newActionType})}));},className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"action-type-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"send_email\",children:\"Send Email\"}),/*#__PURE__*/_jsx(\"option\",{value:\"add_tag\",children:\"Add Tag\"}),/*#__PURE__*/_jsx(\"option\",{value:\"remove_tag\",children:\"Remove Tag\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wait\",children:\"Wait\"}),/*#__PURE__*/_jsx(\"option\",{value:\"update_contact\",children:\"Update Contact\"})]})]}),selectedNode.type==='trigger'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Trigger Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedNode.data.trigger_type||'contact_created',onChange:e=>{const newTriggerType=e.target.value;updateNodeData(selectedNode.id,{trigger_type:newTriggerType});setSelectedNode(_objectSpread(_objectSpread({},selectedNode),{},{data:_objectSpread(_objectSpread({},selectedNode.data),{},{trigger_type:newTriggerType})}));},className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"trigger-type-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"contact_created\",children:\"Contact Created\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email_opened\",children:\"Email Opened\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email_clicked\",children:\"Email Link Clicked\"}),/*#__PURE__*/_jsx(\"option\",{value:\"form_submitted\",children:\"Form Submitted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tag_added\",children:\"Tag Added\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-3 mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNodeSettings(false),className:\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition\",\"data-testid\":\"save-node-settings\",children:\"Done\"})})]})]})});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Workflow Automation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Automate your marketing with powerful workflows\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('list'),className:\"flex-1 py-2 px-4 rounded-lg font-semibold transition \".concat(activeTab==='list'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-100'),\"data-testid\":\"workflows-tab\",children:\"Workflows\"}),selectedWorkflow&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('builder'),className:\"flex-1 py-2 px-4 rounded-lg font-semibold transition \".concat(activeTab==='builder'?'bg-blue-500 text-white':'text-gray-600 hover:bg-gray-100'),\"data-testid\":\"builder-tab\",children:\"Builder\"})]})}),activeTab==='list'&&renderWorkflowList(),activeTab==='builder'&&renderWorkflowBuilder(),renderCreateModal(),renderTemplateModal(),renderNodeSettings()]});};export default WorkflowAutomation;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","MarkerType","Zap","Plus","Play","Pause","Trash2","Edit","Save","X","Settings","Mail","Tag","Clock","GitBranch","CheckCircle","AlertCircle","BarChart2","Eye","Copy","Layers","api","jsx","_jsx","jsxs","_jsxs","TriggerNode","_ref","data","className","children","size","label","ActionNode","_ref2","getIcon","action_type","ConditionNode","_ref3","EndNode","_ref4","nodeTypes","trigger","action","condition","end","WorkflowAutomation","activeTab","setActiveTab","workflows","setWorkflows","templates","setTemplates","selectedWorkflow","setSelectedWorkflow","showCreateModal","setShowCreateModal","showTemplateModal","setShowTemplateModal","showNodeSettings","setShowNodeSettings","selectedNode","setSelectedNode","workflowName","setWorkflowName","workflowDescription","setWorkflowDescription","loading","setLoading","stats","setStats","total","active","total_executions","success_rate","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowInstance","setReactFlowInstance","fetchWorkflows","fetchTemplates","response","get","activeCount","filter","w","is_active","length","totalExecutions","reduce","sum","successfulExecutions","successful_executions","successRate","toFixed","error","console","onConnect","params","eds","_objectSpread","markerEnd","type","ArrowClosed","style","strokeWidth","handleNodeClick","event","node","handleCreateWorkflow","alert","triggerNode","id","position","x","y","trigger_type","trigger_config","newWorkflow","name","description","post","handleCreateFromTemplate","template","prompt","concat","workflow_name","handleSaveWorkflow","put","handleToggleActive","workflowId","currentStatus","endpoint","handleDeleteWorkflow","window","confirm","delete","handleEditWorkflow","workflow","addNode","nodeId","Date","now","newNode","Math","random","charAt","toUpperCase","slice","action_config","condition_field","condition_operator","condition_value","nds","updateNodeData","newData","map","renderWorkflowList","onClick","renderWorkflowBuilder","disabled","height","onNodeClick","onInit","fitView","renderCreateModal","value","onChange","e","target","placeholder","rows","renderTemplateModal","src","thumbnail","alt","category","usage_count","renderNodeSettings","newLabel","newActionType","newTriggerType"],"sources":["/app/frontend/src/components/WorkflowAutomation.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport ReactFlow, {\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  MarkerType,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport {\n  Zap, Plus, Play, Pause, Trash2, Edit, Save, X, Settings,\n  Mail, Tag, Clock, GitBranch, CheckCircle, AlertCircle,\n  BarChart2, Eye, Copy, Layers\n} from 'lucide-react';\nimport api from '../api';\n\n// Custom Node Components\nconst TriggerNode = ({ data }) => {\n  return (\n    <div className=\"px-4 py-3 shadow-lg rounded-lg border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 min-w-[180px]\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <div className=\"bg-blue-500 rounded-full p-1\">\n          <Zap className=\"text-white\" size={16} />\n        </div>\n        <div className=\"font-bold text-blue-900 text-sm\">TRIGGER</div>\n      </div>\n      <div className=\"text-sm text-gray-700 font-medium\">{data.label || 'Start'}</div>\n    </div>\n  );\n};\n\nconst ActionNode = ({ data }) => {\n  const getIcon = () => {\n    switch(data.action_type) {\n      case 'send_email': return <Mail size={16} />;\n      case 'add_tag': return <Tag size={16} />;\n      case 'remove_tag': return <Tag size={16} />;\n      case 'wait': return <Clock size={16} />;\n      case 'update_contact': return <Edit size={16} />;\n      default: return <Settings size={16} />;\n    }\n  };\n\n  return (\n    <div className=\"px-4 py-3 shadow-lg rounded-lg border-2 border-green-500 bg-white min-w-[180px]\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <div className=\"bg-green-500 text-white rounded-full p-1\">\n          {getIcon()}\n        </div>\n        <div className=\"font-bold text-green-900 text-sm\">ACTION</div>\n      </div>\n      <div className=\"text-sm text-gray-700 font-medium\">{data.label || 'Action'}</div>\n    </div>\n  );\n};\n\nconst ConditionNode = ({ data }) => {\n  return (\n    <div className=\"px-4 py-3 shadow-lg rounded-lg border-2 border-yellow-500 bg-gradient-to-br from-yellow-50 to-yellow-100 min-w-[180px]\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <div className=\"bg-yellow-500 rounded-full p-1\">\n          <GitBranch className=\"text-white\" size={16} />\n        </div>\n        <div className=\"font-bold text-yellow-900 text-sm\">CONDITION</div>\n      </div>\n      <div className=\"text-sm text-gray-700 font-medium\">{data.label || 'If/Then'}</div>\n      <div className=\"flex gap-2 mt-2\">\n        <div className=\"text-xs bg-green-200 text-green-800 px-2 py-1 rounded\">YES</div>\n        <div className=\"text-xs bg-red-200 text-red-800 px-2 py-1 rounded\">NO</div>\n      </div>\n    </div>\n  );\n};\n\nconst EndNode = ({ data }) => {\n  return (\n    <div className=\"px-4 py-3 shadow-lg rounded-lg border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100 min-w-[180px]\">\n      <div className=\"flex items-center gap-2 mb-2\">\n        <div className=\"bg-purple-500 rounded-full p-1\">\n          <CheckCircle className=\"text-white\" size={16} />\n        </div>\n        <div className=\"font-bold text-purple-900 text-sm\">END</div>\n      </div>\n      <div className=\"text-sm text-gray-700 font-medium\">{data.label || 'Complete'}</div>\n    </div>\n  );\n};\n\nconst nodeTypes = {\n  trigger: TriggerNode,\n  action: ActionNode,\n  condition: ConditionNode,\n  end: EndNode,\n};\n\nconst WorkflowAutomation = () => {\n  const [activeTab, setActiveTab] = useState('list'); // list, builder, analytics\n  const [workflows, setWorkflows] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [selectedWorkflow, setSelectedWorkflow] = useState(null);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [showNodeSettings, setShowNodeSettings] = useState(false);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [workflowName, setWorkflowName] = useState('');\n  const [workflowDescription, setWorkflowDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [stats, setStats] = useState({\n    total: 0,\n    active: 0,\n    total_executions: 0,\n    success_rate: 0\n  });\n\n  // React Flow state\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n\n  useEffect(() => {\n    fetchWorkflows();\n    fetchTemplates();\n  }, []);\n\n  const fetchWorkflows = async () => {\n    try {\n      const response = await api.get('/api/workflows');\n      setWorkflows(response.data.workflows);\n      \n      // Calculate stats\n      const activeCount = response.data.workflows.filter(w => w.is_active).length;\n      const totalExecutions = response.data.workflows.reduce((sum, w) => sum + w.total_executions, 0);\n      const successfulExecutions = response.data.workflows.reduce((sum, w) => sum + w.successful_executions, 0);\n      const successRate = totalExecutions > 0 ? (successfulExecutions / totalExecutions * 100) : 0;\n      \n      setStats({\n        total: response.data.workflows.length,\n        active: activeCount,\n        total_executions: totalExecutions,\n        success_rate: successRate.toFixed(1)\n      });\n    } catch (error) {\n      console.error('Error fetching workflows:', error);\n    }\n  };\n\n  const fetchTemplates = async () => {\n    try {\n      const response = await api.get('/api/workflow-templates');\n      setTemplates(response.data.templates);\n    } catch (error) {\n      console.error('Error fetching templates:', error);\n    }\n  };\n\n  const onConnect = useCallback(\n    (params) => setEdges((eds) => addEdge({\n      ...params,\n      markerEnd: { type: MarkerType.ArrowClosed },\n      style: { strokeWidth: 2 }\n    }, eds)),\n    [setEdges]\n  );\n\n  const handleNodeClick = (event, node) => {\n    setSelectedNode(node);\n    setShowNodeSettings(true);\n  };\n\n  const handleCreateWorkflow = async () => {\n    if (!workflowName) {\n      alert('Please enter a workflow name');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Create initial trigger node\n      const triggerNode = {\n        id: 'trigger-1',\n        type: 'trigger',\n        position: { x: 250, y: 50 },\n        data: {\n          label: 'Start',\n          trigger_type: 'contact_created',\n          trigger_config: {}\n        }\n      };\n\n      const newWorkflow = {\n        name: workflowName,\n        description: workflowDescription,\n        is_active: false,\n        trigger_type: 'contact_created',\n        nodes: [triggerNode],\n        edges: []\n      };\n\n      const response = await api.post('/api/workflows', newWorkflow);\n      setSelectedWorkflow(response.data);\n      setNodes([triggerNode]);\n      setEdges([]);\n      setActiveTab('builder');\n      setShowCreateModal(false);\n      setWorkflowName('');\n      setWorkflowDescription('');\n      fetchWorkflows();\n    } catch (error) {\n      console.error('Error creating workflow:', error);\n      alert('Failed to create workflow');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateFromTemplate = async (template) => {\n    const name = prompt('Enter a name for this workflow:', template.name);\n    if (!name) return;\n\n    setLoading(true);\n    try {\n      const response = await api.post(`/api/workflows/from-template/${template.id}`, null, {\n        params: { workflow_name: name }\n      });\n      \n      setSelectedWorkflow(response.data);\n      setNodes(response.data.nodes);\n      setEdges(response.data.edges);\n      setActiveTab('builder');\n      setShowTemplateModal(false);\n      fetchWorkflows();\n    } catch (error) {\n      console.error('Error creating from template:', error);\n      alert('Failed to create workflow from template');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveWorkflow = async () => {\n    if (!selectedWorkflow) return;\n\n    setLoading(true);\n    try {\n      await api.put(`/api/workflows/${selectedWorkflow.id}`, {\n        nodes,\n        edges\n      });\n      alert('Workflow saved successfully!');\n      fetchWorkflows();\n    } catch (error) {\n      console.error('Error saving workflow:', error);\n      alert('Failed to save workflow');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleActive = async (workflowId, currentStatus) => {\n    try {\n      const endpoint = currentStatus ? 'deactivate' : 'activate';\n      await api.post(`/api/workflows/${workflowId}/${endpoint}`);\n      fetchWorkflows();\n    } catch (error) {\n      console.error('Error toggling workflow:', error);\n      alert('Failed to toggle workflow status');\n    }\n  };\n\n  const handleDeleteWorkflow = async (workflowId) => {\n    if (!window.confirm('Are you sure you want to delete this workflow?')) return;\n\n    try {\n      await api.delete(`/api/workflows/${workflowId}`);\n      fetchWorkflows();\n      if (selectedWorkflow?.id === workflowId) {\n        setSelectedWorkflow(null);\n        setActiveTab('list');\n      }\n    } catch (error) {\n      console.error('Error deleting workflow:', error);\n      alert('Failed to delete workflow');\n    }\n  };\n\n  const handleEditWorkflow = async (workflow) => {\n    setSelectedWorkflow(workflow);\n    setNodes(workflow.nodes || []);\n    setEdges(workflow.edges || []);\n    setActiveTab('builder');\n  };\n\n  const addNode = (type) => {\n    const nodeId = `${type}-${Date.now()}`;\n    const newNode = {\n      id: nodeId,\n      type,\n      position: { x: Math.random() * 400, y: Math.random() * 400 },\n      data: {\n        label: type.charAt(0).toUpperCase() + type.slice(1),\n        ...(type === 'action' && { action_type: 'send_email', action_config: {} }),\n        ...(type === 'trigger' && { trigger_type: 'contact_created', trigger_config: {} }),\n        ...(type === 'condition' && { condition_field: '', condition_operator: 'equals', condition_value: '' })\n      }\n    };\n\n    setNodes((nds) => nds.concat(newNode));\n  };\n\n  const updateNodeData = (nodeId, newData) => {\n    setNodes((nds) =>\n      nds.map((node) => {\n        if (node.id === nodeId) {\n          return { ...node, data: { ...node.data, ...newData } };\n        }\n        return node;\n      })\n    );\n  };\n\n  const renderWorkflowList = () => (\n    <div className=\"space-y-6\">\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-xl shadow-md p-6\" data-testid=\"total-workflows-card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Total Workflows</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.total}</p>\n            </div>\n            <div className=\"bg-blue-100 rounded-xl p-4\">\n              <Zap className=\"text-blue-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl shadow-md p-6\" data-testid=\"active-workflows-card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Active</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.active}</p>\n            </div>\n            <div className=\"bg-green-100 rounded-xl p-4\">\n              <Play className=\"text-green-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl shadow-md p-6\" data-testid=\"total-executions-card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Total Executions</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.total_executions}</p>\n            </div>\n            <div className=\"bg-purple-100 rounded-xl p-4\">\n              <BarChart2 className=\"text-purple-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl shadow-md p-6\" data-testid=\"success-rate-card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Success Rate</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.success_rate}%</p>\n            </div>\n            <div className=\"bg-yellow-100 rounded-xl p-4\">\n              <CheckCircle className=\"text-yellow-600\" size={24} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-3\">\n        <button\n          onClick={() => setShowCreateModal(true)}\n          className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n          data-testid=\"create-workflow-btn\"\n        >\n          <Plus size={20} />\n          Create Workflow\n        </button>\n        <button\n          onClick={() => setShowTemplateModal(true)}\n          className=\"bg-white border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\"\n          data-testid=\"browse-templates-btn\"\n        >\n          <Layers size={20} />\n          Browse Templates\n        </button>\n      </div>\n\n      {/* Workflows List */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {workflows.map((workflow) => (\n          <div\n            key={workflow.id}\n            className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\"\n            data-testid={`workflow-card-${workflow.id}`}\n          >\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-bold text-gray-900\">{workflow.name}</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">{workflow.description}</p>\n              </div>\n              <div className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                workflow.is_active\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-gray-100 text-gray-800'\n              }`}>\n                {workflow.is_active ? 'Active' : 'Inactive'}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\n              <div>\n                <p className=\"text-xs text-gray-500\">Executions</p>\n                <p className=\"text-lg font-semibold text-gray-900\">{workflow.total_executions}</p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-500\">Success Rate</p>\n                <p className=\"text-lg font-semibold text-gray-900\">\n                  {workflow.total_executions > 0\n                    ? ((workflow.successful_executions / workflow.total_executions) * 100).toFixed(0)\n                    : 0}%\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => handleEditWorkflow(workflow)}\n                className=\"flex-1 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-blue-600 transition flex items-center justify-center gap-2\"\n                data-testid={`edit-workflow-${workflow.id}`}\n              >\n                <Edit size={16} />\n                Edit\n              </button>\n              <button\n                onClick={() => handleToggleActive(workflow.id, workflow.is_active)}\n                className={`flex-1 px-3 py-2 rounded-lg text-sm font-semibold transition flex items-center justify-center gap-2 ${\n                  workflow.is_active\n                    ? 'bg-yellow-500 text-white hover:bg-yellow-600'\n                    : 'bg-green-500 text-white hover:bg-green-600'\n                }`}\n                data-testid={`toggle-workflow-${workflow.id}`}\n              >\n                {workflow.is_active ? <Pause size={16} /> : <Play size={16} />}\n                {workflow.is_active ? 'Pause' : 'Activate'}\n              </button>\n              <button\n                onClick={() => handleDeleteWorkflow(workflow.id)}\n                className=\"bg-red-500 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition\"\n                data-testid={`delete-workflow-${workflow.id}`}\n              >\n                <Trash2 size={16} />\n              </button>\n            </div>\n          </div>\n        ))}\n\n        {workflows.length === 0 && (\n          <div className=\"col-span-3 text-center py-12\">\n            <Zap className=\"mx-auto text-gray-400 mb-4\" size={64} />\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">No Workflows Yet</h3>\n            <p className=\"text-gray-600 mb-6\">Create your first workflow to automate your marketing</p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n            >\n              Create Your First Workflow\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderWorkflowBuilder = () => (\n    <div className=\"space-y-4\">\n      {/* Builder Header */}\n      <div className=\"bg-white rounded-xl shadow-md p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => {\n              setActiveTab('list');\n              setSelectedWorkflow(null);\n            }}\n            className=\"text-gray-600 hover:text-gray-900\"\n          >\n            <X size={24} />\n          </button>\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900\">{selectedWorkflow?.name || 'New Workflow'}</h2>\n            <p className=\"text-sm text-gray-600\">{selectedWorkflow?.description}</p>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={handleSaveWorkflow}\n            disabled={loading}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center gap-2\"\n            data-testid=\"save-workflow-btn\"\n          >\n            <Save size={20} />\n            {loading ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n\n      {/* Node Library */}\n      <div className=\"bg-white rounded-xl shadow-md p-4\">\n        <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Add Nodes</h3>\n        <div className=\"flex gap-2 flex-wrap\">\n          <button\n            onClick={() => addNode('trigger')}\n            className=\"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg font-semibold hover:bg-blue-200 transition flex items-center gap-2\"\n            data-testid=\"add-trigger-node\"\n          >\n            <Zap size={16} />\n            Trigger\n          </button>\n          <button\n            onClick={() => addNode('action')}\n            className=\"px-4 py-2 bg-green-100 text-green-800 rounded-lg font-semibold hover:bg-green-200 transition flex items-center gap-2\"\n            data-testid=\"add-action-node\"\n          >\n            <Settings size={16} />\n            Action\n          </button>\n          <button\n            onClick={() => addNode('condition')}\n            className=\"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg font-semibold hover:bg-yellow-200 transition flex items-center gap-2\"\n            data-testid=\"add-condition-node\"\n          >\n            <GitBranch size={16} />\n            Condition\n          </button>\n          <button\n            onClick={() => addNode('end')}\n            className=\"px-4 py-2 bg-purple-100 text-purple-800 rounded-lg font-semibold hover:bg-purple-200 transition flex items-center gap-2\"\n            data-testid=\"add-end-node\"\n          >\n            <CheckCircle size={16} />\n            End\n          </button>\n        </div>\n      </div>\n\n      {/* Workflow Canvas */}\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\" style={{ height: '600px' }}>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          onNodeClick={handleNodeClick}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n          fitView\n        >\n          <Background />\n          <Controls />\n          <MiniMap />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n\n  // Create Workflow Modal\n  const renderCreateModal = () => (\n    showCreateModal && (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Create New Workflow</h2>\n            <button onClick={() => setShowCreateModal(false)} className=\"text-gray-400 hover:text-gray-600\">\n              <X size={24} />\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Workflow Name</label>\n              <input\n                type=\"text\"\n                value={workflowName}\n                onChange={(e) => setWorkflowName(e.target.value)}\n                placeholder=\"e.g., Welcome Series\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                data-testid=\"workflow-name-input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description (Optional)</label>\n              <textarea\n                value={workflowDescription}\n                onChange={(e) => setWorkflowDescription(e.target.value)}\n                placeholder=\"Describe what this workflow does...\"\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                data-testid=\"workflow-description-input\"\n              />\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"flex-1 px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCreateWorkflow}\n                disabled={loading}\n                className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition\"\n                data-testid=\"create-workflow-submit\"\n              >\n                {loading ? 'Creating...' : 'Create'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  );\n\n  // Templates Modal\n  const renderTemplateModal = () => (\n    showTemplateModal && (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Workflow Templates</h2>\n            <button onClick={() => setShowTemplateModal(false)} className=\"text-gray-400 hover:text-gray-600\">\n              <X size={24} />\n            </button>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {templates.map((template) => (\n              <div\n                key={template.id}\n                className=\"bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-blue-500 transition cursor-pointer\"\n                onClick={() => handleCreateFromTemplate(template)}\n                data-testid={`template-${template.id}`}\n              >\n                <div className=\"mb-4\">\n                  <img\n                    src={template.thumbnail}\n                    alt={template.name}\n                    className=\"w-full h-32 object-cover rounded-lg\"\n                  />\n                </div>\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2\">{template.name}</h3>\n                <p className=\"text-sm text-gray-600 mb-4\">{template.description}</p>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">{template.category}</span>\n                  <span className=\"text-xs text-gray-500\">{template.usage_count} uses</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  );\n\n  // Node Settings Panel\n  const renderNodeSettings = () => (\n    showNodeSettings && selectedNode && (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Node Settings</h2>\n            <button onClick={() => setShowNodeSettings(false)} className=\"text-gray-400 hover:text-gray-600\">\n              <X size={24} />\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Label</label>\n              <input\n                type=\"text\"\n                value={selectedNode.data.label || ''}\n                onChange={(e) => {\n                  const newLabel = e.target.value;\n                  updateNodeData(selectedNode.id, { label: newLabel });\n                  setSelectedNode({ ...selectedNode, data: { ...selectedNode.data, label: newLabel } });\n                }}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                data-testid=\"node-label-input\"\n              />\n            </div>\n\n            {selectedNode.type === 'action' && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Action Type</label>\n                <select\n                  value={selectedNode.data.action_type || 'send_email'}\n                  onChange={(e) => {\n                    const newActionType = e.target.value;\n                    updateNodeData(selectedNode.id, { action_type: newActionType });\n                    setSelectedNode({ ...selectedNode, data: { ...selectedNode.data, action_type: newActionType } });\n                  }}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  data-testid=\"action-type-select\"\n                >\n                  <option value=\"send_email\">Send Email</option>\n                  <option value=\"add_tag\">Add Tag</option>\n                  <option value=\"remove_tag\">Remove Tag</option>\n                  <option value=\"wait\">Wait</option>\n                  <option value=\"update_contact\">Update Contact</option>\n                </select>\n              </div>\n            )}\n\n            {selectedNode.type === 'trigger' && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Trigger Type</label>\n                <select\n                  value={selectedNode.data.trigger_type || 'contact_created'}\n                  onChange={(e) => {\n                    const newTriggerType = e.target.value;\n                    updateNodeData(selectedNode.id, { trigger_type: newTriggerType });\n                    setSelectedNode({ ...selectedNode, data: { ...selectedNode.data, trigger_type: newTriggerType } });\n                  }}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  data-testid=\"trigger-type-select\"\n                >\n                  <option value=\"contact_created\">Contact Created</option>\n                  <option value=\"email_opened\">Email Opened</option>\n                  <option value=\"email_clicked\">Email Link Clicked</option>\n                  <option value=\"form_submitted\">Form Submitted</option>\n                  <option value=\"tag_added\">Tag Added</option>\n                </select>\n              </div>\n            )}\n\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={() => setShowNodeSettings(false)}\n                className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition\"\n                data-testid=\"save-node-settings\"\n              >\n                Done\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Workflow Automation</h1>\n          <p className=\"text-gray-600 mt-1\">Automate your marketing with powerful workflows</p>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-xl shadow-md p-2\">\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setActiveTab('list')}\n            className={`flex-1 py-2 px-4 rounded-lg font-semibold transition ${\n              activeTab === 'list'\n                ? 'bg-blue-500 text-white'\n                : 'text-gray-600 hover:bg-gray-100'\n            }`}\n            data-testid=\"workflows-tab\"\n          >\n            Workflows\n          </button>\n          {selectedWorkflow && (\n            <button\n              onClick={() => setActiveTab('builder')}\n              className={`flex-1 py-2 px-4 rounded-lg font-semibold transition ${\n                activeTab === 'builder'\n                  ? 'bg-blue-500 text-white'\n                  : 'text-gray-600 hover:bg-gray-100'\n              }`}\n              data-testid=\"builder-tab\"\n            >\n              Builder\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      {activeTab === 'list' && renderWorkflowList()}\n      {activeTab === 'builder' && renderWorkflowBuilder()}\n\n      {/* Modals */}\n      {renderCreateModal()}\n      {renderTemplateModal()}\n      {renderNodeSettings()}\n    </div>\n  );\n};\n\nexport default WorkflowAutomation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}