{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import api from'../api';import{PlusIcon,BookOpenIcon,AcademicCapIcon,UserGroupIcon,PlayIcon,CheckCircleIcon,ClockIcon,TrashIcon,PencilIcon,GlobeAltIcon}from'@heroicons/react/24/outline';import EnhancedCourseBuilder from'./EnhancedCourseBuilder';import CoursePlayer from'./CoursePlayer';import PublicCourseCatalog from'./PublicCourseCatalog';import CertificateDisplay from'./CertificateDisplay';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Courses=_ref=>{let{user}=_ref;const[activeTab,setActiveTab]=useState('my-courses');// my-courses, students, memberships\nconst[courses,setCourses]=useState([]);const[enrollments,setEnrollments]=useState([]);const[memberships,setMemberships]=useState([]);const[analytics,setAnalytics]=useState({});const[loading,setLoading]=useState(true);const[showCourseModal,setShowCourseModal]=useState(false);const[showMembershipModal,setShowMembershipModal]=useState(false);const[editingCourse,setEditingCourse]=useState(null);const[editingMembership,setEditingMembership]=useState(null);const[selectedCourse,setSelectedCourse]=useState(null);const[showCourseBuilder,setShowCourseBuilder]=useState(false);const[showCoursePlayer,setShowCoursePlayer]=useState(false);const[playerCourseId,setPlayerCourseId]=useState(null);const[showPublicCatalog,setShowPublicCatalog]=useState(false);const[showCertificate,setShowCertificate]=useState(false);const[certificateCourseId,setCertificateCourseId]=useState(null);useEffect(()=>{fetchData();},[activeTab]);const fetchData=async()=>{setLoading(true);try{if(activeTab==='my-courses'){const[coursesRes,analyticsRes]=await Promise.all([api.get('/courses'),api.get('/courses/analytics/summary')]);setCourses(coursesRes.data.courses||[]);setAnalytics(analyticsRes.data||{});}else if(activeTab==='students'){const enrollmentsRes=await api.get('/enrollments');setEnrollments(enrollmentsRes.data||[]);}else if(activeTab==='memberships'){const membershipsRes=await api.get('/memberships');setMemberships(membershipsRes.data||[]);}}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);}};const createCourse=async courseData=>{try{if(editingCourse){await api.put(\"/courses/\".concat(editingCourse.id),courseData);}else{await api.post('/courses',courseData);}fetchData();setShowCourseModal(false);setEditingCourse(null);}catch(error){console.error('Error saving course:',error);alert('Failed to save course');}};const deleteCourse=async courseId=>{if(!window.confirm('Are you sure you want to delete this course? This action cannot be undone.'))return;try{await api.delete(\"/courses/\".concat(courseId));fetchData();}catch(error){console.error('Error deleting course:',error);alert('Failed to delete course');}};const publishCourse=async courseId=>{try{await api.put(\"/courses/\".concat(courseId),{status:'published'});fetchData();}catch(error){console.error('Error publishing course:',error);alert('Failed to publish course');}};const createMembership=async membershipData=>{try{if(editingMembership){await api.put(\"/memberships/\".concat(editingMembership.id),membershipData);}else{await api.post('/memberships',membershipData);}fetchData();setShowMembershipModal(false);setEditingMembership(null);}catch(error){console.error('Error saving membership:',error);alert('Failed to save membership');}};const deleteMembership=async membershipId=>{if(!window.confirm('Are you sure? All active subscriptions will be cancelled.'))return;try{await api.delete(\"/memberships/\".concat(membershipId));fetchData();}catch(error){console.error('Error deleting membership:',error);alert('Failed to delete membership');}};const openCourseBuilder=course=>{setSelectedCourse(course);setShowCourseBuilder(true);};const openCoursePlayer=courseId=>{setPlayerCourseId(courseId);setShowCoursePlayer(true);};const viewCertificate=courseId=>{setCertificateCourseId(courseId);setShowCertificate(true);};// Route to different views\nif(showCourseBuilder&&selectedCourse){return/*#__PURE__*/_jsx(EnhancedCourseBuilder,{course:selectedCourse,onBack:()=>{setShowCourseBuilder(false);setSelectedCourse(null);fetchData();}});}if(showCoursePlayer&&playerCourseId){return/*#__PURE__*/_jsx(CoursePlayer,{courseId:playerCourseId,onBack:()=>{setShowCoursePlayer(false);setPlayerCourseId(null);fetchData();}});}if(showPublicCatalog){return/*#__PURE__*/_jsx(PublicCourseCatalog,{user:user,onBack:()=>{setShowPublicCatalog(false);fetchData();}});}if(showCertificate&&certificateCourseId){return/*#__PURE__*/_jsx(CertificateDisplay,{courseId:certificateCourseId,onClose:()=>{setShowCertificate(false);setCertificateCourseId(null);}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Courses & Memberships\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Create and manage your educational content\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowPublicCatalog(true),className:\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700\",\"data-testid\":\"browse-courses-button\",children:[/*#__PURE__*/_jsx(GlobeAltIcon,{className:\"w-5 h-5 mr-2\"}),\"Browse Public Courses\"]})]}),activeTab==='my-courses'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",\"data-testid\":\"total-courses-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:analytics.total_courses||0})]}),/*#__PURE__*/_jsx(BookOpenIcon,{className:\"w-12 h-12 text-blue-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",\"data-testid\":\"total-students-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:analytics.total_students||0})]}),/*#__PURE__*/_jsx(UserGroupIcon,{className:\"w-12 h-12 text-green-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",\"data-testid\":\"completion-rate-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Completion Rate\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:[analytics.completion_rate||0,\"%\"]})]}),/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-12 h-12 text-purple-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",\"data-testid\":\"total-revenue-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900\",children:[\"$\",analytics.total_revenue||0]})]}),/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-12 h-12 text-yellow-500\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8 px-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('my-courses'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='my-courses'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),\"data-testid\":\"my-courses-tab\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"w-5 h-5 inline mr-2\"}),\"My Courses\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('students'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='students'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),\"data-testid\":\"students-tab\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"w-5 h-5 inline mr-2\"}),\"My Learning\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('memberships'),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='memberships'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),\"data-testid\":\"memberships-tab\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-5 h-5 inline mr-2\"}),\"Memberships\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[activeTab==='my-courses'&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Your Courses\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setEditingCourse(null);setShowCourseModal(true);},className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\",\"data-testid\":\"create-course-button\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-5 h-5 mr-2\"}),\"Create Course\"]})]}),courses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No courses yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create your first course to get started\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCourseModal(true),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\",children:\"Create Your First Course\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:courses.map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\",children:course.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:course.thumbnail,alt:course.title,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(BookOpenIcon,{className:\"w-20 h-20 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(course.status==='published'?'bg-green-100 text-green-800':course.status==='draft'?'bg-gray-100 text-gray-800':'bg-yellow-100 text-yellow-800'),children:course.status}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:course.level})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2 text-gray-900\",children:course.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4 line-clamp-2\",children:course.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"w-4 h-4 mr-1\"}),course.total_students,\" students\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-4 h-4 mr-1\"}),course.completion_rate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openCourseBuilder(course),className:\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm\",\"data-testid\":\"edit-course-\".concat(course.id),children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"w-4 h-4 inline mr-1\"}),\"Edit\"]}),course.status==='draft'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>publishCourse(course.id),className:\"flex-1 bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 text-sm\",children:\"Publish\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteCourse(course.id),className:\"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 text-sm\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"w-4 h-4\"})})]})]})]},course.id))})]}),activeTab==='students'&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-6\",children:\"My Learning\"}),enrollments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No enrollments yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Enroll in courses to start learning\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:enrollments.map(enrollment=>{var _enrollment$course,_enrollment$course2,_enrollment$course3;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center\",children:(_enrollment$course=enrollment.course)!==null&&_enrollment$course!==void 0&&_enrollment$course.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:enrollment.course.thumbnail,alt:enrollment.course.title,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(PlayIcon,{className:\"w-20 h-20 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2 text-gray-900\",children:(_enrollment$course2=enrollment.course)===null||_enrollment$course2===void 0?void 0:_enrollment$course2.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4 line-clamp-2\",children:(_enrollment$course3=enrollment.course)===null||_enrollment$course3===void 0?void 0:_enrollment$course3.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[enrollment.progress_percentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full transition-all\",style:{width:\"\".concat(enrollment.progress_percentage,\"%\")}})})]}),enrollment.completed_date?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded p-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-800 font-medium\",children:\"\\u2705 Completed\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewCertificate(enrollment.course_id),className:\"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm\",\"data-testid\":\"view-certificate-\".concat(enrollment.course_id),children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-5 h-5 inline mr-2\"}),\"View Certificate\"]})]}):null,/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openCoursePlayer(enrollment.course_id),className:\"w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",\"data-testid\":\"play-course-\".concat(enrollment.course_id),children:[/*#__PURE__*/_jsx(PlayIcon,{className:\"w-5 h-5 inline mr-2\"}),enrollment.progress_percentage>0?'Continue Learning':'Start Course']})]})]},enrollment.id);})})]}),activeTab==='memberships'&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Membership Tiers\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setEditingMembership(null);setShowMembershipModal(true);},className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\",\"data-testid\":\"create-membership-button\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-5 h-5 mr-2\"}),\"Create Membership\"]})]}),memberships.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No memberships yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Create membership tiers to monetize your content\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMembershipModal(true),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\",children:\"Create Your First Membership\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:memberships.map(membership=>{var _membership$features;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 rounded-lg p-6 hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-xl mb-2 text-gray-900\",children:membership.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:membership.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-3xl font-bold text-blue-600\",children:[\"$\",membership.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"/\",membership.billing_period]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Features:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:(_membership$features=membership.features)===null||_membership$features===void 0?void 0:_membership$features.map((feature,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-600 flex items-start\",children:[/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0\"}),feature]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"w-4 h-4 inline mr-1\"}),membership.total_subscribers,\" subscribers\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingMembership(membership);setShowMembershipModal(true);},className:\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteMembership(membership.id),className:\"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 text-sm\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"w-4 h-4\"})})]})]},membership.id);})})]})]})}),showCourseModal&&/*#__PURE__*/_jsx(CourseModal,{course:editingCourse,onClose:()=>{setShowCourseModal(false);setEditingCourse(null);},onSave:createCourse}),showMembershipModal&&/*#__PURE__*/_jsx(MembershipModal,{membership:editingMembership,courses:courses,onClose:()=>{setShowMembershipModal(false);setEditingMembership(null);},onSave:createMembership})]});};// Course Modal Component\nconst CourseModal=_ref2=>{let{course,onClose,onSave}=_ref2;const[formData,setFormData]=useState({title:(course===null||course===void 0?void 0:course.title)||'',description:(course===null||course===void 0?void 0:course.description)||'',category:(course===null||course===void 0?void 0:course.category)||'general',level:(course===null||course===void 0?void 0:course.level)||'beginner',language:(course===null||course===void 0?void 0:course.language)||'en',pricing_type:(course===null||course===void 0?void 0:course.pricing_type)||'free',price:(course===null||course===void 0?void 0:course.price)||0,currency:(course===null||course===void 0?void 0:course.currency)||'USD'});const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:course?'Edit Course':'Create New Course'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Course Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",required:true,\"data-testid\":\"course-title-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",rows:\"4\",required:true,\"data-testid\":\"course-description-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.category,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{category:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"general\",children:\"General\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tech\",children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{value:\"business\",children:\"Business\"}),/*#__PURE__*/_jsx(\"option\",{value:\"design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"personal\",children:\"Personal Development\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.level,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{level:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"beginner\",children:\"Beginner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"intermediate\",children:\"Intermediate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"advanced\",children:\"Advanced\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pricing Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.pricing_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{pricing_type:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"free\",children:\"Free\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"membership\",children:\"Membership\"})]})]}),formData.pricing_type==='paid'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:formData.price,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price:parseFloat(e.target.value)})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.currency,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{currency:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\"data-testid\":\"save-course-button\",children:course?'Update Course':'Create Course'})]})]})]})})});};// Membership Modal Component\nconst MembershipModal=_ref3=>{let{membership,courses,onClose,onSave}=_ref3;const[formData,setFormData]=useState({name:(membership===null||membership===void 0?void 0:membership.name)||'',description:(membership===null||membership===void 0?void 0:membership.description)||'',price:(membership===null||membership===void 0?void 0:membership.price)||0,currency:(membership===null||membership===void 0?void 0:membership.currency)||'USD',billing_period:(membership===null||membership===void 0?void 0:membership.billing_period)||'monthly',features:(membership===null||membership===void 0?void 0:membership.features)||[''],course_ids:(membership===null||membership===void 0?void 0:membership.course_ids)||[]});const addFeature=()=>{setFormData(_objectSpread(_objectSpread({},formData),{},{features:[...formData.features,'']}));};const updateFeature=(index,value)=>{const newFeatures=[...formData.features];newFeatures[index]=value;setFormData(_objectSpread(_objectSpread({},formData),{},{features:newFeatures}));};const removeFeature=index=>{setFormData(_objectSpread(_objectSpread({},formData),{},{features:formData.features.filter((_,i)=>i!==index)}));};const handleSubmit=e=>{e.preventDefault();onSave(_objectSpread(_objectSpread({},formData),{},{features:formData.features.filter(f=>f.trim())}));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:membership?'Edit Membership':'Create New Membership'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tier Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",required:true,\"data-testid\":\"membership-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",rows:\"3\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Price *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:formData.price,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price:parseFloat(e.target.value)})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.currency,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{currency:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Billing Period\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.billing_period,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{billing_period:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yearly\",children:\"Yearly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lifetime\",children:\"Lifetime\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Features\"}),formData.features.map((feature,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:feature,onChange:e=>updateFeature(index,e.target.value),className:\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Feature description\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeFeature(index),className:\"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200\",children:\"Remove\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addFeature,className:\"text-blue-600 hover:text-blue-700 text-sm font-medium\",children:\"+ Add Feature\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\"data-testid\":\"save-membership-button\",children:membership?'Update Membership':'Create Membership'})]})]})]})})});};// OLD Course Builder - Now replaced by EnhancedCourseBuilder\n// Keeping for reference only, not used anymore\nconst OldCourseBuilder=_ref4=>{let{course,onBack}=_ref4;const[modules,setModules]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchCourseDetails();},[]);const fetchCourseDetails=async()=>{try{const response=await api.get(\"/courses/\".concat(course.id));setModules(response.data.modules||[]);}catch(error){console.error('Error fetching course details:',error);}finally{setLoading(false);}};const addModule=async()=>{const title=prompt('Enter module title:');if(!title)return;try{await api.post(\"/courses/\".concat(course.id,\"/modules\"),{title,description:'',order:modules.length});fetchCourseDetails();}catch(error){console.error('Error adding module:',error);alert('Failed to add module');}};const addLesson=async moduleId=>{const title=prompt('Enter lesson title:');if(!title)return;try{await api.post(\"/courses/\".concat(course.id,\"/modules/\").concat(moduleId,\"/lessons\"),{title,description:'',content_type:'text',content:{text:''},order:0});fetchCourseDetails();}catch(error){console.error('Error adding lesson:',error);alert('Failed to add lesson');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"text-blue-600 hover:text-blue-700 flex items-center mb-4\",children:\"\\u2190 Back to Courses\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:course.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Build your course content\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Course Curriculum\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:addModule,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-5 h-5 mr-2\"}),\"Add Module\"]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"})}):modules.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No modules yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Add your first module to start building the course\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addModule,className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\",children:\"Add First Module\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:modules.map((module,index)=>{var _module$lessons;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-lg\",children:[\"Module \",index+1,\": \",module.title]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[((_module$lessons=module.lessons)===null||_module$lessons===void 0?void 0:_module$lessons.length)||0,\" lessons\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addLesson(module.id),className:\"text-blue-600 hover:text-blue-700 text-sm font-medium\",children:\"+ Add Lesson\"})]}),module.lessons&&module.lessons.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-6 space-y-2\",children:module.lessons.map((lesson,lessonIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(PlayIcon,{className:\"w-4 h-4 text-gray-400 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"Lesson \",lessonIndex+1,\": \",lesson.title]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs text-gray-500\",children:[\"(\",lesson.content_type,\")\"]})]}),lesson.duration&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"w-4 h-4 inline mr-1\"}),lesson.duration,\" min\"]})]},lesson.id))})]},module.id);})})]})]});};export default Courses;","map":{"version":3,"names":["React","useState","useEffect","api","PlusIcon","BookOpenIcon","AcademicCapIcon","UserGroupIcon","PlayIcon","CheckCircleIcon","ClockIcon","TrashIcon","PencilIcon","GlobeAltIcon","EnhancedCourseBuilder","CoursePlayer","PublicCourseCatalog","CertificateDisplay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Courses","_ref","user","activeTab","setActiveTab","courses","setCourses","enrollments","setEnrollments","memberships","setMemberships","analytics","setAnalytics","loading","setLoading","showCourseModal","setShowCourseModal","showMembershipModal","setShowMembershipModal","editingCourse","setEditingCourse","editingMembership","setEditingMembership","selectedCourse","setSelectedCourse","showCourseBuilder","setShowCourseBuilder","showCoursePlayer","setShowCoursePlayer","playerCourseId","setPlayerCourseId","showPublicCatalog","setShowPublicCatalog","showCertificate","setShowCertificate","certificateCourseId","setCertificateCourseId","fetchData","coursesRes","analyticsRes","Promise","all","get","data","enrollmentsRes","membershipsRes","error","console","createCourse","courseData","put","concat","id","post","alert","deleteCourse","courseId","window","confirm","delete","publishCourse","status","createMembership","membershipData","deleteMembership","membershipId","openCourseBuilder","course","openCoursePlayer","viewCertificate","onBack","onClose","className","children","onClick","total_courses","total_students","completion_rate","total_revenue","length","map","thumbnail","src","alt","title","level","description","enrollment","_enrollment$course","_enrollment$course2","_enrollment$course3","progress_percentage","style","width","completed_date","course_id","membership","_membership$features","name","price","billing_period","features","feature","idx","total_subscribers","CourseModal","onSave","MembershipModal","_ref2","formData","setFormData","category","language","pricing_type","currency","handleSubmit","e","preventDefault","onSubmit","type","value","onChange","_objectSpread","target","required","rows","step","parseFloat","_ref3","course_ids","addFeature","updateFeature","index","newFeatures","removeFeature","filter","_","i","f","trim","placeholder","OldCourseBuilder","_ref4","modules","setModules","fetchCourseDetails","response","addModule","prompt","order","addLesson","moduleId","content_type","content","text","module","_module$lessons","lessons","lesson","lessonIndex","duration"],"sources":["/app/frontend/src/components/Courses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport { PlusIcon, BookOpenIcon, AcademicCapIcon, UserGroupIcon, PlayIcon, CheckCircleIcon, ClockIcon, TrashIcon, PencilIcon, GlobeAltIcon } from '@heroicons/react/24/outline';\nimport EnhancedCourseBuilder from './EnhancedCourseBuilder';\nimport CoursePlayer from './CoursePlayer';\nimport PublicCourseCatalog from './PublicCourseCatalog';\nimport CertificateDisplay from './CertificateDisplay';\n\nconst Courses = ({ user }) => {\n  const [activeTab, setActiveTab] = useState('my-courses'); // my-courses, students, memberships\n  const [courses, setCourses] = useState([]);\n  const [enrollments, setEnrollments] = useState([]);\n  const [memberships, setMemberships] = useState([]);\n  const [analytics, setAnalytics] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showCourseModal, setShowCourseModal] = useState(false);\n  const [showMembershipModal, setShowMembershipModal] = useState(false);\n  const [editingCourse, setEditingCourse] = useState(null);\n  const [editingMembership, setEditingMembership] = useState(null);\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [showCourseBuilder, setShowCourseBuilder] = useState(false);\n  const [showCoursePlayer, setShowCoursePlayer] = useState(false);\n  const [playerCourseId, setPlayerCourseId] = useState(null);\n  const [showPublicCatalog, setShowPublicCatalog] = useState(false);\n  const [showCertificate, setShowCertificate] = useState(false);\n  const [certificateCourseId, setCertificateCourseId] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTab]);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      if (activeTab === 'my-courses') {\n        const [coursesRes, analyticsRes] = await Promise.all([\n          api.get('/courses'),\n          api.get('/courses/analytics/summary')\n        ]);\n        setCourses(coursesRes.data.courses || []);\n        setAnalytics(analyticsRes.data || {});\n      } else if (activeTab === 'students') {\n        const enrollmentsRes = await api.get('/enrollments');\n        setEnrollments(enrollmentsRes.data || []);\n      } else if (activeTab === 'memberships') {\n        const membershipsRes = await api.get('/memberships');\n        setMemberships(membershipsRes.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createCourse = async (courseData) => {\n    try {\n      if (editingCourse) {\n        await api.put(`/courses/${editingCourse.id}`, courseData);\n      } else {\n        await api.post('/courses', courseData);\n      }\n      fetchData();\n      setShowCourseModal(false);\n      setEditingCourse(null);\n    } catch (error) {\n      console.error('Error saving course:', error);\n      alert('Failed to save course');\n    }\n  };\n\n  const deleteCourse = async (courseId) => {\n    if (!window.confirm('Are you sure you want to delete this course? This action cannot be undone.')) return;\n    \n    try {\n      await api.delete(`/courses/${courseId}`);\n      fetchData();\n    } catch (error) {\n      console.error('Error deleting course:', error);\n      alert('Failed to delete course');\n    }\n  };\n\n  const publishCourse = async (courseId) => {\n    try {\n      await api.put(`/courses/${courseId}`, { status: 'published' });\n      fetchData();\n    } catch (error) {\n      console.error('Error publishing course:', error);\n      alert('Failed to publish course');\n    }\n  };\n\n  const createMembership = async (membershipData) => {\n    try {\n      if (editingMembership) {\n        await api.put(`/memberships/${editingMembership.id}`, membershipData);\n      } else {\n        await api.post('/memberships', membershipData);\n      }\n      fetchData();\n      setShowMembershipModal(false);\n      setEditingMembership(null);\n    } catch (error) {\n      console.error('Error saving membership:', error);\n      alert('Failed to save membership');\n    }\n  };\n\n  const deleteMembership = async (membershipId) => {\n    if (!window.confirm('Are you sure? All active subscriptions will be cancelled.')) return;\n    \n    try {\n      await api.delete(`/memberships/${membershipId}`);\n      fetchData();\n    } catch (error) {\n      console.error('Error deleting membership:', error);\n      alert('Failed to delete membership');\n    }\n  };\n\n  const openCourseBuilder = (course) => {\n    setSelectedCourse(course);\n    setShowCourseBuilder(true);\n  };\n\n  const openCoursePlayer = (courseId) => {\n    setPlayerCourseId(courseId);\n    setShowCoursePlayer(true);\n  };\n\n  const viewCertificate = (courseId) => {\n    setCertificateCourseId(courseId);\n    setShowCertificate(true);\n  };\n\n  // Route to different views\n  if (showCourseBuilder && selectedCourse) {\n    return <EnhancedCourseBuilder course={selectedCourse} onBack={() => { setShowCourseBuilder(false); setSelectedCourse(null); fetchData(); }} />;\n  }\n\n  if (showCoursePlayer && playerCourseId) {\n    return <CoursePlayer courseId={playerCourseId} onBack={() => { setShowCoursePlayer(false); setPlayerCourseId(null); fetchData(); }} />;\n  }\n\n  if (showPublicCatalog) {\n    return <PublicCourseCatalog user={user} onBack={() => { setShowPublicCatalog(false); fetchData(); }} />;\n  }\n\n  if (showCertificate && certificateCourseId) {\n    return <CertificateDisplay courseId={certificateCourseId} onClose={() => { setShowCertificate(false); setCertificateCourseId(null); }} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      {/* Header */}\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Courses & Memberships</h1>\n          <p className=\"text-gray-600\">Create and manage your educational content</p>\n        </div>\n        <button\n          onClick={() => setShowPublicCatalog(true)}\n          className=\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700\"\n          data-testid=\"browse-courses-button\"\n        >\n          <GlobeAltIcon className=\"w-5 h-5 mr-2\" />\n          Browse Public Courses\n        </button>\n      </div>\n\n      {/* Analytics Cards */}\n      {activeTab === 'my-courses' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow p-6\" data-testid=\"total-courses-card\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Total Courses</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.total_courses || 0}</p>\n              </div>\n              <BookOpenIcon className=\"w-12 h-12 text-blue-500\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\" data-testid=\"total-students-card\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Total Students</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.total_students || 0}</p>\n              </div>\n              <UserGroupIcon className=\"w-12 h-12 text-green-500\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\" data-testid=\"completion-rate-card\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Completion Rate</p>\n                <p className=\"text-3xl font-bold text-gray-900\">{analytics.completion_rate || 0}%</p>\n              </div>\n              <CheckCircleIcon className=\"w-12 h-12 text-purple-500\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\" data-testid=\"total-revenue-card\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600 mb-1\">Total Revenue</p>\n                <p className=\"text-3xl font-bold text-gray-900\">${analytics.total_revenue || 0}</p>\n              </div>\n              <AcademicCapIcon className=\"w-12 h-12 text-yellow-500\" />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-lg shadow mb-6\">\n        <div className=\"border-b border-gray-200\">\n          <div className=\"flex space-x-8 px-6\">\n            <button\n              onClick={() => setActiveTab('my-courses')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'my-courses'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              data-testid=\"my-courses-tab\"\n            >\n              <BookOpenIcon className=\"w-5 h-5 inline mr-2\" />\n              My Courses\n            </button>\n            <button\n              onClick={() => setActiveTab('students')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'students'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              data-testid=\"students-tab\"\n            >\n              <UserGroupIcon className=\"w-5 h-5 inline mr-2\" />\n              My Learning\n            </button>\n            <button\n              onClick={() => setActiveTab('memberships')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'memberships'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              data-testid=\"memberships-tab\"\n            >\n              <AcademicCapIcon className=\"w-5 h-5 inline mr-2\" />\n              Memberships\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {loading ? (\n          <div className=\"p-12 text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Loading...</p>\n          </div>\n        ) : (\n          <>\n            {/* My Courses Tab */}\n            {activeTab === 'my-courses' && (\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-xl font-semibold text-gray-900\">Your Courses</h2>\n                  <button\n                    onClick={() => { setEditingCourse(null); setShowCourseModal(true); }}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\"\n                    data-testid=\"create-course-button\"\n                  >\n                    <PlusIcon className=\"w-5 h-5 mr-2\" />\n                    Create Course\n                  </button>\n                </div>\n\n                {courses.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <BookOpenIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No courses yet</h3>\n                    <p className=\"text-gray-600 mb-6\">Create your first course to get started</p>\n                    <button\n                      onClick={() => setShowCourseModal(true)}\n                      className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\"\n                    >\n                      Create Your First Course\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {courses.map((course) => (\n                      <div key={course.id} className=\"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow\">\n                        <div className=\"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                          {course.thumbnail ? (\n                            <img src={course.thumbnail} alt={course.title} className=\"w-full h-full object-cover\" />\n                          ) : (\n                            <BookOpenIcon className=\"w-20 h-20 text-white\" />\n                          )}\n                        </div>\n                        <div className=\"p-4\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className={`px-2 py-1 rounded text-xs font-medium ${\n                              course.status === 'published' ? 'bg-green-100 text-green-800' :\n                              course.status === 'draft' ? 'bg-gray-100 text-gray-800' :\n                              'bg-yellow-100 text-yellow-800'\n                            }`}>\n                              {course.status}\n                            </span>\n                            <span className=\"text-xs text-gray-500\">{course.level}</span>\n                          </div>\n                          <h3 className=\"font-semibold text-lg mb-2 text-gray-900\">{course.title}</h3>\n                          <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">{course.description}</p>\n                          \n                          <div className=\"flex items-center justify-between text-sm text-gray-600 mb-4\">\n                            <div className=\"flex items-center\">\n                              <UserGroupIcon className=\"w-4 h-4 mr-1\" />\n                              {course.total_students} students\n                            </div>\n                            <div className=\"flex items-center\">\n                              <CheckCircleIcon className=\"w-4 h-4 mr-1\" />\n                              {course.completion_rate}%\n                            </div>\n                          </div>\n\n                          <div className=\"flex space-x-2\">\n                            <button\n                              onClick={() => openCourseBuilder(course)}\n                              className=\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm\"\n                              data-testid={`edit-course-${course.id}`}\n                            >\n                              <PencilIcon className=\"w-4 h-4 inline mr-1\" />\n                              Edit\n                            </button>\n                            {course.status === 'draft' && (\n                              <button\n                                onClick={() => publishCourse(course.id)}\n                                className=\"flex-1 bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 text-sm\"\n                              >\n                                Publish\n                              </button>\n                            )}\n                            <button\n                              onClick={() => deleteCourse(course.id)}\n                              className=\"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 text-sm\"\n                            >\n                              <TrashIcon className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* My Learning Tab */}\n            {activeTab === 'students' && (\n              <div className=\"p-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">My Learning</h2>\n                {enrollments.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <AcademicCapIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No enrollments yet</h3>\n                    <p className=\"text-gray-600\">Enroll in courses to start learning</p>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {enrollments.map((enrollment) => (\n                      <div key={enrollment.id} className=\"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow\">\n                        <div className=\"h-48 bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center\">\n                          {enrollment.course?.thumbnail ? (\n                            <img src={enrollment.course.thumbnail} alt={enrollment.course.title} className=\"w-full h-full object-cover\" />\n                          ) : (\n                            <PlayIcon className=\"w-20 h-20 text-white\" />\n                          )}\n                        </div>\n                        <div className=\"p-4\">\n                          <h3 className=\"font-semibold text-lg mb-2 text-gray-900\">{enrollment.course?.title}</h3>\n                          <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">{enrollment.course?.description}</p>\n                          \n                          {/* Progress Bar */}\n                          <div className=\"mb-4\">\n                            <div className=\"flex justify-between text-sm mb-1\">\n                              <span className=\"text-gray-600\">Progress</span>\n                              <span className=\"font-medium text-gray-900\">{enrollment.progress_percentage}%</span>\n                            </div>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                              <div\n                                className=\"bg-green-600 h-2 rounded-full transition-all\"\n                                style={{ width: `${enrollment.progress_percentage}%` }}\n                              ></div>\n                            </div>\n                          </div>\n\n                          {enrollment.completed_date ? (\n                            <div className=\"space-y-2\">\n                              <div className=\"bg-green-50 border border-green-200 rounded p-2\">\n                                <p className=\"text-sm text-green-800 font-medium\"> Completed</p>\n                              </div>\n                              <button\n                                onClick={() => viewCertificate(enrollment.course_id)}\n                                className=\"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm\"\n                                data-testid={`view-certificate-${enrollment.course_id}`}\n                              >\n                                <AcademicCapIcon className=\"w-5 h-5 inline mr-2\" />\n                                View Certificate\n                              </button>\n                            </div>\n                          ) : null}\n\n                          <button\n                            onClick={() => openCoursePlayer(enrollment.course_id)}\n                            className=\"w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\n                            data-testid={`play-course-${enrollment.course_id}`}\n                          >\n                            <PlayIcon className=\"w-5 h-5 inline mr-2\" />\n                            {enrollment.progress_percentage > 0 ? 'Continue Learning' : 'Start Course'}\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Memberships Tab */}\n            {activeTab === 'memberships' && (\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-xl font-semibold text-gray-900\">Membership Tiers</h2>\n                  <button\n                    onClick={() => { setEditingMembership(null); setShowMembershipModal(true); }}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\"\n                    data-testid=\"create-membership-button\"\n                  >\n                    <PlusIcon className=\"w-5 h-5 mr-2\" />\n                    Create Membership\n                  </button>\n                </div>\n\n                {memberships.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <AcademicCapIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No memberships yet</h3>\n                    <p className=\"text-gray-600 mb-6\">Create membership tiers to monetize your content</p>\n                    <button\n                      onClick={() => setShowMembershipModal(true)}\n                      className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\"\n                    >\n                      Create Your First Membership\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    {memberships.map((membership) => (\n                      <div key={membership.id} className=\"border-2 rounded-lg p-6 hover:shadow-lg transition-shadow\">\n                        <h3 className=\"font-bold text-xl mb-2 text-gray-900\">{membership.name}</h3>\n                        <p className=\"text-gray-600 mb-4\">{membership.description}</p>\n                        <div className=\"mb-4\">\n                          <span className=\"text-3xl font-bold text-blue-600\">${membership.price}</span>\n                          <span className=\"text-gray-600\">/{membership.billing_period}</span>\n                        </div>\n                        <div className=\"mb-4\">\n                          <p className=\"text-sm font-medium text-gray-700 mb-2\">Features:</p>\n                          <ul className=\"space-y-1\">\n                            {membership.features?.map((feature, idx) => (\n                              <li key={idx} className=\"text-sm text-gray-600 flex items-start\">\n                                <CheckCircleIcon className=\"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0\" />\n                                {feature}\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                        <div className=\"mb-4\">\n                          <p className=\"text-sm text-gray-600\">\n                            <UserGroupIcon className=\"w-4 h-4 inline mr-1\" />\n                            {membership.total_subscribers} subscribers\n                          </p>\n                        </div>\n                        <div className=\"flex space-x-2\">\n                          <button\n                            onClick={() => { setEditingMembership(membership); setShowMembershipModal(true); }}\n                            className=\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm\"\n                          >\n                            Edit\n                          </button>\n                          <button\n                            onClick={() => deleteMembership(membership.id)}\n                            className=\"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 text-sm\"\n                          >\n                            <TrashIcon className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Course Modal */}\n      {showCourseModal && (\n        <CourseModal\n          course={editingCourse}\n          onClose={() => { setShowCourseModal(false); setEditingCourse(null); }}\n          onSave={createCourse}\n        />\n      )}\n\n      {/* Membership Modal */}\n      {showMembershipModal && (\n        <MembershipModal\n          membership={editingMembership}\n          courses={courses}\n          onClose={() => { setShowMembershipModal(false); setEditingMembership(null); }}\n          onSave={createMembership}\n        />\n      )}\n    </div>\n  );\n};\n\n// Course Modal Component\nconst CourseModal = ({ course, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    title: course?.title || '',\n    description: course?.description || '',\n    category: course?.category || 'general',\n    level: course?.level || 'beginner',\n    language: course?.language || 'en',\n    pricing_type: course?.pricing_type || 'free',\n    price: course?.price || 0,\n    currency: course?.currency || 'USD'\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <h2 className=\"text-2xl font-bold mb-6\">{course ? 'Edit Course' : 'Create New Course'}</h2>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Course Title *</label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                required\n                data-testid=\"course-title-input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                rows=\"4\"\n                required\n                data-testid=\"course-description-input\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"general\">General</option>\n                  <option value=\"tech\">Technology</option>\n                  <option value=\"business\">Business</option>\n                  <option value=\"design\">Design</option>\n                  <option value=\"marketing\">Marketing</option>\n                  <option value=\"personal\">Personal Development</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Level</label>\n                <select\n                  value={formData.level}\n                  onChange={(e) => setFormData({ ...formData, level: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"beginner\">Beginner</option>\n                  <option value=\"intermediate\">Intermediate</option>\n                  <option value=\"advanced\">Advanced</option>\n                </select>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Pricing Type</label>\n                <select\n                  value={formData.pricing_type}\n                  onChange={(e) => setFormData({ ...formData, pricing_type: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"free\">Free</option>\n                  <option value=\"paid\">Paid</option>\n                  <option value=\"membership\">Membership</option>\n                </select>\n              </div>\n\n              {formData.pricing_type === 'paid' && (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Price</label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.price}\n                      onChange={(e) => setFormData({ ...formData, price: parseFloat(e.target.value) })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Currency</label>\n                    <select\n                      value={formData.currency}\n                      onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    >\n                      <option value=\"USD\">USD</option>\n                      <option value=\"EUR\">EUR</option>\n                      <option value=\"GBP\">GBP</option>\n                    </select>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                data-testid=\"save-course-button\"\n              >\n                {course ? 'Update Course' : 'Create Course'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Membership Modal Component\nconst MembershipModal = ({ membership, courses, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    name: membership?.name || '',\n    description: membership?.description || '',\n    price: membership?.price || 0,\n    currency: membership?.currency || 'USD',\n    billing_period: membership?.billing_period || 'monthly',\n    features: membership?.features || [''],\n    course_ids: membership?.course_ids || []\n  });\n\n  const addFeature = () => {\n    setFormData({ ...formData, features: [...formData.features, ''] });\n  };\n\n  const updateFeature = (index, value) => {\n    const newFeatures = [...formData.features];\n    newFeatures[index] = value;\n    setFormData({ ...formData, features: newFeatures });\n  };\n\n  const removeFeature = (index) => {\n    setFormData({ ...formData, features: formData.features.filter((_, i) => i !== index) });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave({ ...formData, features: formData.features.filter(f => f.trim()) });\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <h2 className=\"text-2xl font-bold mb-6\">{membership ? 'Edit Membership' : 'Create New Membership'}</h2>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tier Name *</label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                required\n                data-testid=\"membership-name-input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                rows=\"3\"\n                required\n              />\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Price *</label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={formData.price}\n                  onChange={(e) => setFormData({ ...formData, price: parseFloat(e.target.value) })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Currency</label>\n                <select\n                  value={formData.currency}\n                  onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"USD\">USD</option>\n                  <option value=\"EUR\">EUR</option>\n                  <option value=\"GBP\">GBP</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Billing Period</label>\n                <select\n                  value={formData.billing_period}\n                  onChange={(e) => setFormData({ ...formData, billing_period: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"monthly\">Monthly</option>\n                  <option value=\"yearly\">Yearly</option>\n                  <option value=\"lifetime\">Lifetime</option>\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Features</label>\n              {formData.features.map((feature, index) => (\n                <div key={index} className=\"flex space-x-2 mb-2\">\n                  <input\n                    type=\"text\"\n                    value={feature}\n                    onChange={(e) => updateFeature(index, e.target.value)}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Feature description\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeFeature(index)}\n                    className=\"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200\"\n                  >\n                    Remove\n                  </button>\n                </div>\n              ))}\n              <button\n                type=\"button\"\n                onClick={addFeature}\n                className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\n              >\n                + Add Feature\n              </button>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                data-testid=\"save-membership-button\"\n              >\n                {membership ? 'Update Membership' : 'Create Membership'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// OLD Course Builder - Now replaced by EnhancedCourseBuilder\n// Keeping for reference only, not used anymore\nconst OldCourseBuilder = ({ course, onBack }) => {\n  const [modules, setModules] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchCourseDetails();\n  }, []);\n\n  const fetchCourseDetails = async () => {\n    try {\n      const response = await api.get(`/courses/${course.id}`);\n      setModules(response.data.modules || []);\n    } catch (error) {\n      console.error('Error fetching course details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addModule = async () => {\n    const title = prompt('Enter module title:');\n    if (!title) return;\n\n    try {\n      await api.post(`/courses/${course.id}/modules`, {\n        title,\n        description: '',\n        order: modules.length\n      });\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error adding module:', error);\n      alert('Failed to add module');\n    }\n  };\n\n  const addLesson = async (moduleId) => {\n    const title = prompt('Enter lesson title:');\n    if (!title) return;\n\n    try {\n      await api.post(`/courses/${course.id}/modules/${moduleId}/lessons`, {\n        title,\n        description: '',\n        content_type: 'text',\n        content: { text: '' },\n        order: 0\n      });\n      fetchCourseDetails();\n    } catch (error) {\n      console.error('Error adding lesson:', error);\n      alert('Failed to add lesson');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"mb-6\">\n        <button\n          onClick={onBack}\n          className=\"text-blue-600 hover:text-blue-700 flex items-center mb-4\"\n        >\n           Back to Courses\n        </button>\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{course.title}</h1>\n        <p className=\"text-gray-600\">Build your course content</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-xl font-semibold\">Course Curriculum</h2>\n          <button\n            onClick={addModule}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\"\n          >\n            <PlusIcon className=\"w-5 h-5 mr-2\" />\n            Add Module\n          </button>\n        </div>\n\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          </div>\n        ) : modules.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <BookOpenIcon className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No modules yet</h3>\n            <p className=\"text-gray-600 mb-6\">Add your first module to start building the course</p>\n            <button\n              onClick={addModule}\n              className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700\"\n            >\n              Add First Module\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {modules.map((module, index) => (\n              <div key={module.id} className=\"border rounded-lg p-4\">\n                <div className=\"flex justify-between items-start mb-3\">\n                  <div>\n                    <h3 className=\"font-semibold text-lg\">Module {index + 1}: {module.title}</h3>\n                    <p className=\"text-sm text-gray-600\">{module.lessons?.length || 0} lessons</p>\n                  </div>\n                  <button\n                    onClick={() => addLesson(module.id)}\n                    className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\n                  >\n                    + Add Lesson\n                  </button>\n                </div>\n\n                {module.lessons && module.lessons.length > 0 && (\n                  <div className=\"ml-6 space-y-2\">\n                    {module.lessons.map((lesson, lessonIndex) => (\n                      <div key={lesson.id} className=\"flex items-center justify-between p-2 bg-gray-50 rounded\">\n                        <div className=\"flex items-center\">\n                          <PlayIcon className=\"w-4 h-4 text-gray-400 mr-2\" />\n                          <span className=\"text-sm\">Lesson {lessonIndex + 1}: {lesson.title}</span>\n                          <span className=\"ml-2 text-xs text-gray-500\">({lesson.content_type})</span>\n                        </div>\n                        {lesson.duration && (\n                          <span className=\"text-xs text-gray-500\">\n                            <ClockIcon className=\"w-4 h-4 inline mr-1\" />\n                            {lesson.duration} min\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Courses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}