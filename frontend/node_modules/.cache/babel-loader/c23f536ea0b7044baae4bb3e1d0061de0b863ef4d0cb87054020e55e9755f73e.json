{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Menu,X,Home,Users,Mail,Layout,BookOpen,DollarSign,Video,Zap,FileText,Settings,LogOut,User,Bell,Search,Plus,BarChart2,UserPlus,ShoppingCart,Target,Award,MessageSquare,Edit,Trash2,Tag,Download,Upload,Filter,ChevronLeft,ChevronRight,Check,FileSpreadsheet,Phone,Globe,MapPin,Building,Briefcase,Calendar,Activity,MessageCircle,Clock,TrendingUp,Eye}from'lucide-react';import'./App.css';import api from'./api';import EmailMarketingPage from'./components/EmailMarketing';import Funnels from'./components/Funnels';import Forms from'./components/Forms';import WorkflowAutomation from'./components/WorkflowAutomation';import Courses from'./components/Courses';// Demo credentials banner component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DemoCredentialsBanner=_ref=>{let{onFillCredentials}=_ref;const[show,setShow]=useState(true);if(!show)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto flex items-center justify-between flex-wrap gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"\\uD83C\\uDFAF Quick Test Mode:\"}),/*#__PURE__*/_jsx(\"code\",{className:\"bg-white/20 px-3 py-1 rounded text-sm\",children:\"demo@efunnels.com\"}),/*#__PURE__*/_jsx(\"code\",{className:\"bg-white/20 px-3 py-1 rounded text-sm\",children:\"demo123\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onFillCredentials,className:\"bg-white text-blue-600 px-4 py-1.5 rounded-lg text-sm font-semibold hover:bg-blue-50 transition\",children:\"Auto-fill Credentials\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShow(false),className:\"text-white/80 hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:20})})]})]})});};// Login/Register Component\nconst AuthPage=_ref2=>{let{onLogin}=_ref2;const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({email:'',password:'',full_name:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleDemoFill=()=>{setFormData({email:'demo@efunnels.com',password:'demo123',full_name:''});setIsLogin(true);};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const endpoint=isLogin?'/api/auth/login':'/api/auth/register';const payload=isLogin?{email:formData.email,password:formData.password}:formData;const response=await api.post(endpoint,payload);localStorage.setItem('token',response.data.access_token);localStorage.setItem('user',JSON.stringify(response.data.user));onLogin(response.data.user);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'An error occurred');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\",children:[/*#__PURE__*/_jsx(DemoCredentialsBanner,{onFillCredentials:handleDemoFill}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-[calc(100vh-60px)] px-4 py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-lg\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-white\",size:32})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-2\",children:\"eFunnels\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"All-in-One Business Platform\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsLogin(true),className:\"flex-1 py-2 px-4 rounded-lg font-semibold transition \".concat(isLogin?'bg-blue-500 text-white':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsLogin(false),className:\"flex-1 py-2 px-4 rounded-lg font-semibold transition \".concat(!isLogin?'bg-blue-500 text-white':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[!isLogin&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.full_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{full_name:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"John Doe\",required:!isLogin})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"you@example.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\",children:loading?'Processing...':isLogin?'Login':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),\"Continue with Google\"]})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-gray-600 mt-6\",children:\"By continuing, you agree to our Terms of Service and Privacy Policy\"})]})})]});};// Contacts Page Component\nconst ContactsPage=()=>{var _stats$by_status,_stats$by_status2;const[contacts,setContacts]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const[total,setTotal]=useState(0);const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('');const[selectedContacts,setSelectedContacts]=useState([]);const[showCreateModal,setShowCreateModal]=useState(false);const[showDetailModal,setShowDetailModal]=useState(false);const[showImportModal,setShowImportModal]=useState(false);const[currentContact,setCurrentContact]=useState(null);const[tags,setTags]=useState([]);const[segments,setSegments]=useState([]);const[stats,setStats]=useState({});const[newActivity,setNewActivity]=useState({activity_type:'note',title:'',description:''});useEffect(()=>{fetchContacts();fetchTags();fetchSegments();fetchStats();},[page,searchTerm,statusFilter]);const fetchContacts=async()=>{try{setLoading(true);const params=new URLSearchParams({page,limit:20});if(searchTerm)params.append('search',searchTerm);if(statusFilter)params.append('status',statusFilter);const response=await api.get(\"/api/contacts?\".concat(params));setContacts(response.data.contacts);setTotal(response.data.total);}catch(error){console.error('Failed to fetch contacts:',error);}finally{setLoading(false);}};const fetchTags=async()=>{try{const response=await api.get('/api/tags');setTags(response.data);}catch(error){console.error('Failed to fetch tags:',error);}};const fetchSegments=async()=>{try{const response=await api.get('/api/segments');setSegments(response.data);}catch(error){console.error('Failed to fetch segments:',error);}};const fetchStats=async()=>{try{const response=await api.get('/api/contacts/stats/summary');setStats(response.data);}catch(error){console.error('Failed to fetch stats:',error);}};const fetchContactDetails=async contactId=>{try{const response=await api.get(\"/api/contacts/\".concat(contactId));setCurrentContact(response.data);setShowDetailModal(true);}catch(error){console.error('Failed to fetch contact details:',error);}};const handleCreateContact=async contactData=>{try{await api.post('/api/contacts',contactData);fetchContacts();fetchStats();setShowCreateModal(false);}catch(error){var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to create contact');}};const handleUpdateContact=async(contactId,contactData)=>{try{await api.put(\"/api/contacts/\".concat(contactId),contactData);fetchContacts();fetchContactDetails(contactId);}catch(error){var _error$response2,_error$response2$data;alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to update contact');}};const handleDeleteContact=async contactId=>{if(!window.confirm('Are you sure you want to delete this contact?'))return;try{await api.delete(\"/api/contacts/\".concat(contactId));fetchContacts();fetchStats();setShowDetailModal(false);}catch(error){alert('Failed to delete contact');}};const handleBulkDelete=async()=>{if(!window.confirm(\"Delete \".concat(selectedContacts.length,\" contacts?\")))return;try{await api.post('/api/contacts/bulk/delete',{contact_ids:selectedContacts});setSelectedContacts([]);fetchContacts();fetchStats();}catch(error){alert('Failed to delete contacts');}};const handleImport=async file=>{try{const formData=new FormData();formData.append('file',file);const response=await api.post('/api/contacts/import',formData,{headers:{'Content-Type':'multipart/form-data'}});alert(\"Imported: \".concat(response.data.imported,\", Skipped: \").concat(response.data.skipped));fetchContacts();fetchStats();setShowImportModal(false);}catch(error){var _error$response3,_error$response3$data;alert(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'Failed to import contacts');}};const handleExport=async format=>{try{const response=await api.get(\"/api/contacts/export?format=\".concat(format),{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"contacts.\".concat(format==='excel'?'xlsx':'csv'));document.body.appendChild(link);link.click();link.remove();}catch(error){alert('Failed to export contacts');}};const handleAddActivity=async contactId=>{try{await api.post(\"/api/contacts/\".concat(contactId,\"/activities\"),newActivity);setNewActivity({activity_type:'note',title:'',description:''});fetchContactDetails(contactId);}catch(error){alert('Failed to add activity');}};const handleCreateTag=async tagName=>{try{await api.post('/api/tags',{name:tagName,color:'#3B82F6'});fetchTags();}catch(error){var _error$response4,_error$response4$data;alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'Failed to create tag');}};const toggleContactSelection=contactId=>{setSelectedContacts(prev=>prev.includes(contactId)?prev.filter(id=>id!==contactId):[...prev,contactId]);};const toggleSelectAll=()=>{if(selectedContacts.length===contacts.length){setSelectedContacts([]);}else{setSelectedContacts(contacts.map(c=>c.id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Total Contacts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stats.total||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(Users,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:((_stats$by_status=stats.by_status)===null||_stats$by_status===void 0?void 0:_stats$by_status.lead)||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(Target,{className:\"text-yellow-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Customers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:((_stats$by_status2=stats.by_status)===null||_stats$by_status2===void 0?void 0:_stats$by_status2.customer)||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(Check,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:\"Recent (30d)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stats.recent||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 rounded-xl p-4\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"text-purple-600\",size:24})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4 justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 flex-1 min-w-[300px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search contacts...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lead\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lost\",children:\"Lost\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",\"data-testid\":\"create-contact-btn\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Add Contact\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowImportModal(true),className:\"bg-white border-2 border-gray-300 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Upload,{size:20}),\"Import\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"bg-white border-2 border-gray-300 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Download,{size:20}),\"Export\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 hidden group-hover:block z-10\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleExport('csv'),className:\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{size:16}),\"Export as CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleExport('excel'),className:\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileSpreadsheet,{size:16}),\"Export as Excel\"]})]})]})]})]}),selectedContacts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center gap-3 p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-900\",children:[selectedContacts.length,\" selected\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBulkDelete,className:\"text-sm text-red-600 hover:text-red-700 font-medium\",children:\"Delete Selected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden\",children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"p-12 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner mx-auto\"})}):contacts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:\"No contacts yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Get started by adding your first contact\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(true),className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Add Your First Contact\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",\"data-testid\":\"contacts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedContacts.length===contacts.length,onChange:toggleSelectAll,className:\"rounded\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:contacts.map(contact=>{var _contact$tags,_contact$tags2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",\"data-testid\":\"contact-row-\".concat(contact.id),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedContacts.includes(contact.id),onChange:()=>toggleContactSelection(contact.id),className:\"rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold\",children:contact.first_name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-gray-900\",children:[contact.first_name,\" \",contact.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:contact.job_title})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:contact.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:contact.company||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold \".concat(contact.status==='lead'?'bg-yellow-100 text-yellow-700':contact.status==='qualified'?'bg-blue-100 text-blue-700':contact.status==='customer'?'bg-green-100 text-green-700':'bg-red-100 text-red-700'),children:contact.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 flex-wrap\",children:[(_contact$tags=contact.tags)===null||_contact$tags===void 0?void 0:_contact$tags.slice(0,2).map((tag,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs\",children:tag},idx)),((_contact$tags2=contact.tags)===null||_contact$tags2===void 0?void 0:_contact$tags2.length)>2&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs\",children:[\"+\",contact.tags.length-2]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:contact.score}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchContactDetails(contact.id),className:\"text-blue-600 hover:text-blue-700\",\"data-testid\":\"view-contact-\".concat(contact.id),children:/*#__PURE__*/_jsx(Eye,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteContact(contact.id),className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]})})]},contact.id);})})]})}),total>20&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",(page-1)*20+1,\" to \",Math.min(page*20,total),\" of \",total,\" contacts\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(p=>Math.max(1,p-1)),disabled:page===1,className:\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:20})}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-4 py-1 text-sm font-medium\",children:[\"Page \",page]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(p=>p+1),disabled:page*20>=total,className:\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(ChevronRight,{size:20})})]})]})]}),showCreateModal&&/*#__PURE__*/_jsx(ContactModal,{onClose:()=>setShowCreateModal(false),onSave:handleCreateContact,tags:tags,onCreateTag:handleCreateTag}),showDetailModal&&currentContact&&/*#__PURE__*/_jsx(ContactDetailModal,{contact:currentContact,onClose:()=>setShowDetailModal(false),onUpdate:handleUpdateContact,onDelete:handleDeleteContact,onAddActivity:handleAddActivity,newActivity:newActivity,setNewActivity:setNewActivity}),showImportModal&&/*#__PURE__*/_jsx(ImportModal,{onClose:()=>setShowImportModal(false),onImport:handleImport})]});};// Contact Modal Component\nconst ContactModal=_ref3=>{let{contact=null,onClose,onSave,tags,onCreateTag}=_ref3;const[formData,setFormData]=useState(contact||{first_name:'',last_name:'',email:'',phone:'',company:'',job_title:'',website:'',address:'',city:'',country:'',source:'',notes:'',tags:[],custom_fields:{}});const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:contact?'Edit Contact':'Add New Contact'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"First Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.first_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{first_name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"first-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.last_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{last_name:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\"data-testid\":\"email-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{phone:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Company\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.company,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{company:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Job Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.job_title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{job_title:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Website, Referral\",value:formData.source,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{source:e.target.value})),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{notes:e.target.value})),rows:3,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\",\"data-testid\":\"save-contact-btn\",children:contact?'Update Contact':'Create Contact'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]})]})});};// Contact Detail Modal Component\nconst ContactDetailModal=_ref4=>{let{contact,onClose,onUpdate,onDelete,onAddActivity,newActivity,setNewActivity}=_ref4;const[isEditing,setIsEditing]=useState(false);const[editData,setEditData]=useState({status:contact.status,score:contact.score,notes:contact.notes});const handleUpdate=()=>{onUpdate(contact.id,editData);setIsEditing(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold\",children:contact.first_name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:[contact.first_name,\" \",contact.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:contact.job_title||contact.company})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-lg\",children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-gray-700\",children:[/*#__PURE__*/_jsx(Mail,{size:20,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:contact.email})]}),contact.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-gray-700\",children:[/*#__PURE__*/_jsx(Phone,{size:20,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:contact.phone})]}),contact.company&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-gray-700\",children:[/*#__PURE__*/_jsx(Building,{size:20,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:contact.company})]}),contact.website&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-gray-700\",children:[/*#__PURE__*/_jsx(Globe,{size:20,className:\"text-gray-400\"}),/*#__PURE__*/_jsx(\"a\",{href:contact.website,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:underline\",children:contact.website})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-lg\",children:\"Status & Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Status\"}),isEditing?/*#__PURE__*/_jsxs(\"select\",{value:editData.status,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{status:e.target.value})),className:\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"lead\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lost\",children:\"Lost\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-semibold \".concat(contact.status==='lead'?'bg-yellow-100 text-yellow-700':contact.status==='qualified'?'bg-blue-100 text-blue-700':contact.status==='customer'?'bg-green-100 text-green-700':'bg-red-100 text-red-700'),children:contact.status})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Score\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:editData.score,onChange:e=>setEditData(_objectSpread(_objectSpread({},editData),{},{score:parseInt(e.target.value)})),className:\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-2xl font-bold text-gray-900\",children:[contact.score,\"/100\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"Engagement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-lg font-semibold text-gray-900\",children:[contact.engagement_count,\" interactions\"]})]})]})]}),contact.tags&&contact.tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-lg mb-3\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 flex-wrap\",children:contact.tags.map((tag,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium\",children:tag},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-lg mb-3\",children:\"Activity Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:newActivity.activity_type,onChange:e=>setNewActivity(_objectSpread(_objectSpread({},newActivity),{},{activity_type:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"note\",children:\"Note\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"option\",{value:\"call\",children:\"Call\"}),/*#__PURE__*/_jsx(\"option\",{value:\"meeting\",children:\"Meeting\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Activity title\",value:newActivity.title,onChange:e=>setNewActivity(_objectSpread(_objectSpread({},newActivity),{},{title:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description (optional)\",value:newActivity.description,onChange:e=>setNewActivity(_objectSpread(_objectSpread({},newActivity),{},{description:e.target.value})),rows:2,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onAddActivity(contact.id),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\",children:\"Add Activity\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:contact.activities&&contact.activities.length>0?contact.activities.map(activity=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 p-4 bg-white border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 \".concat(activity.activity_type==='email'?'bg-purple-100':activity.activity_type==='call'?'bg-green-100':activity.activity_type==='meeting'?'bg-blue-100':'bg-gray-100'),children:activity.activity_type==='email'?/*#__PURE__*/_jsx(Mail,{size:20}):activity.activity_type==='call'?/*#__PURE__*/_jsx(Phone,{size:20}):activity.activity_type==='meeting'?/*#__PURE__*/_jsx(Calendar,{size:20}):/*#__PURE__*/_jsx(MessageCircle,{size:20})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:activity.title}),activity.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:activity.description})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{size:14}),new Date(activity.created_at).toLocaleDateString()]})]})})]},activity.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"No activities yet\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3 pt-4 border-t border-gray-200\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditing(true),className:\"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Edit,{size:20}),\"Edit Contact\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onDelete(contact.id),className:\"flex-1 bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Trash2,{size:20}),\"Delete Contact\"]})]})})]})]})});};// Import Modal Component\nconst ImportModal=_ref5=>{let{onClose,onImport}=_ref5;const[file,setFile]=useState(null);const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=()=>{if(file){onImport(file);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Import Contacts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Upload a CSV or Excel file with your contacts. Required columns: email, first_name.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv,.xlsx,.xls\",onChange:handleFileChange,className:\"hidden\",id:\"file-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"cursor-pointer text-blue-600 hover:text-blue-700 font-semibold\",children:\"Choose a file\"}),file&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-700\",children:file.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:!file,className:\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Import Contacts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\",children:\"Cancel\"})]})]})]})});};// Dashboard Component\nconst Dashboard=_ref6=>{let{user,onLogout}=_ref6;const[activeTab,setActiveTab]=useState('dashboard');const[sidebarOpen,setSidebarOpen]=useState(true);const[showProfileMenu,setShowProfileMenu]=useState(false);const menuItems=[{id:'dashboard',name:'Dashboard',icon:Home},{id:'funnels',name:'Sales Funnels',icon:Layout},{id:'emails',name:'Email Marketing',icon:Mail},{id:'contacts',name:'Contacts',icon:Users},{id:'courses',name:'Courses',icon:BookOpen},{id:'webinars',name:'Webinars',icon:Video},{id:'blog',name:'Blog',icon:FileText},{id:'forms',name:'Forms',icon:MessageSquare},{id:'affiliates',name:'Affiliates',icon:Award},{id:'workflows',name:'Automations',icon:Zap},{id:'products',name:'Products',icon:ShoppingCart},{id:'analytics',name:'Analytics',icon:BarChart2},{id:'settings',name:'Settings',icon:Settings}];const stats=[{name:'Total Revenue',value:'$12,345',change:'+12.5%',icon:DollarSign,color:'bg-green-500'},{name:'Active Funnels',value:'24',change:'+3',icon:Layout,color:'bg-blue-500'},{name:'Total Contacts',value:'1,234',change:'+156',icon:Users,color:'bg-purple-500'},{name:'Email Campaigns',value:'18',change:'+5',icon:Mail,color:'bg-pink-500'}];const renderContent=()=>{var _menuItems$find;switch(activeTab){case'dashboard':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:[\"Welcome back, \",user.full_name,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Here's what's happening with your business today.\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create New Funnel\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:stats.map((stat,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium\",children:stat.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:stat.value}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600 font-medium mt-2\",children:stat.change})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(stat.color,\" rounded-xl p-4\"),children:/*#__PURE__*/_jsx(stat.icon,{className:\"text-white\",size:24})})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:[{icon:Layout,text:'Create Sales Funnel',color:'text-blue-600'},{icon:Mail,text:'Send Email Campaign',color:'text-purple-600'},{icon:UserPlus,text:'Import Contacts',color:'text-green-600'},{icon:Video,text:'Schedule Webinar',color:'text-red-600'}].map((action,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition text-left\",children:[/*#__PURE__*/_jsx(action.icon,{className:action.color,size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:action.text})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"Recent Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[{text:'New contact added: john@example.com',time:'2 minutes ago'},{text:'Email campaign \"Summer Sale\" sent',time:'1 hour ago'},{text:'Funnel \"Product Launch\" created',time:'3 hours ago'},{text:'Webinar registration: 15 new attendees',time:'5 hours ago'}].map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3 pb-4 border-b border-gray-100 last:border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full mt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",children:activity.text}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:activity.time})]})]},index))})]})]})]});case'contacts':return/*#__PURE__*/_jsx(ContactsPage,{});case'emails':return/*#__PURE__*/_jsx(EmailMarketingPage,{});case'funnels':return/*#__PURE__*/_jsx(Funnels,{});case'forms':return/*#__PURE__*/_jsx(Forms,{});case'workflows':return/*#__PURE__*/_jsx(WorkflowAutomation,{});case'courses':return/*#__PURE__*/_jsx(Courses,{user:user});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-4\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-blue-600\",size:40})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:(_menuItems$find=menuItems.find(item=>item.id===activeTab))===null||_menuItems$find===void 0?void 0:_menuItems$find.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"This feature is coming soon in the next phase of development!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-2 text-sm text-blue-600 font-medium\",children:[/*#__PURE__*/_jsx(Target,{size:16}),\"Phase \",Math.ceil((menuItems.findIndex(item=>item.id===activeTab)+1)/3),\" Feature\"]})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white border-b border-gray-200 sticky top-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),className:\"p-2 rounded-lg hover:bg-gray-100\",children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Zap,{className:\"text-white\",size:20})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold text-gray-900\",children:\"eFunnels\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative hidden md:block\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",className:\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"p-2 rounded-lg hover:bg-gray-100 relative\",children:[/*#__PURE__*/_jsx(Bell,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProfileMenu(!showProfileMenu),className:\"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold\",children:user.full_name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left hidden md:block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:user.full_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:user.subscription_plan})]})]}),showProfileMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(User,{size:16}),\"Profile\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{size:16}),\"Settings\"]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,className:\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-red-600\",children:[/*#__PURE__*/_jsx(LogOut,{size:16}),\"Logout\"]})]})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[sidebarOpen&&/*#__PURE__*/_jsx(\"aside\",{className:\"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-64px)] sticky top-16\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"p-4 space-y-1\",children:menuItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(item.id),className:\"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition \".concat(activeTab===item.id?'bg-blue-50 text-blue-600 font-semibold':'text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(item.icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]},item.id))})}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 p-8\",children:renderContent()})]})]});};// Main App Component\nfunction App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');const storedUser=localStorage.getItem('user');if(token&&storedUser){setUser(JSON.parse(storedUser));}setLoading(false);},[]);const handleLogin=userData=>{setUser(userData);};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setUser(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return user?/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(AuthPage,{onLogin:handleLogin});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Menu","X","Home","Users","Mail","Layout","BookOpen","DollarSign","Video","Zap","FileText","Settings","LogOut","User","Bell","Search","Plus","BarChart2","UserPlus","ShoppingCart","Target","Award","MessageSquare","Edit","Trash2","Tag","Download","Upload","Filter","ChevronLeft","ChevronRight","Check","FileSpreadsheet","Phone","Globe","MapPin","Building","Briefcase","Calendar","Activity","MessageCircle","Clock","TrendingUp","Eye","api","EmailMarketingPage","Funnels","Forms","WorkflowAutomation","Courses","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DemoCredentialsBanner","_ref","onFillCredentials","show","setShow","className","children","onClick","size","AuthPage","_ref2","onLogin","isLogin","setIsLogin","formData","setFormData","email","password","full_name","loading","setLoading","error","setError","handleDemoFill","handleSubmit","e","preventDefault","endpoint","payload","response","post","localStorage","setItem","data","access_token","JSON","stringify","user","err","_err$response","_err$response$data","detail","concat","onSubmit","type","value","onChange","_objectSpread","target","placeholder","required","disabled","viewBox","fill","d","ContactsPage","_stats$by_status","_stats$by_status2","contacts","setContacts","page","setPage","total","setTotal","searchTerm","setSearchTerm","statusFilter","setStatusFilter","selectedContacts","setSelectedContacts","showCreateModal","setShowCreateModal","showDetailModal","setShowDetailModal","showImportModal","setShowImportModal","currentContact","setCurrentContact","tags","setTags","segments","setSegments","stats","setStats","newActivity","setNewActivity","activity_type","title","description","fetchContacts","fetchTags","fetchSegments","fetchStats","params","URLSearchParams","limit","append","get","console","fetchContactDetails","contactId","handleCreateContact","contactData","_error$response","_error$response$data","alert","handleUpdateContact","put","_error$response2","_error$response2$data","handleDeleteContact","window","confirm","delete","handleBulkDelete","length","contact_ids","handleImport","file","FormData","headers","imported","skipped","_error$response3","_error$response3$data","handleExport","format","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","handleAddActivity","handleCreateTag","tagName","name","color","_error$response4","_error$response4$data","toggleContactSelection","prev","includes","filter","id","toggleSelectAll","map","c","by_status","lead","customer","recent","checked","contact","_contact$tags","_contact$tags2","first_name","charAt","toUpperCase","last_name","job_title","company","status","slice","tag","idx","score","Math","min","p","max","ContactModal","onClose","onSave","onCreateTag","ContactDetailModal","onUpdate","onDelete","onAddActivity","ImportModal","onImport","_ref3","phone","website","address","city","country","source","notes","custom_fields","rows","_ref4","isEditing","setIsEditing","editData","setEditData","handleUpdate","rel","parseInt","engagement_count","activities","activity","Date","created_at","toLocaleDateString","_ref5","setFile","handleFileChange","files","accept","htmlFor","Dashboard","_ref6","onLogout","activeTab","setActiveTab","sidebarOpen","setSidebarOpen","showProfileMenu","setShowProfileMenu","menuItems","icon","change","renderContent","_menuItems$find","stat","index","text","action","time","find","item","ceil","findIndex","subscription_plan","App","setUser","token","getItem","storedUser","parse","handleLogin","userData","handleLogout","removeItem"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Menu, X, Home, Users, Mail, Layout, BookOpen, DollarSign, \n  Video, Zap, FileText, Settings, \n  LogOut, User, Bell, Search, Plus, BarChart2,\n  UserPlus, ShoppingCart, Target, Award, MessageSquare,\n  Edit, Trash2, Tag, Download, Upload, Filter, \n  ChevronLeft, ChevronRight, Check, FileSpreadsheet,\n  Phone, Globe, MapPin, Building, Briefcase, Calendar,\n  Activity, MessageCircle, Clock, TrendingUp, Eye\n} from 'lucide-react';\nimport './App.css';\nimport api from './api';\nimport EmailMarketingPage from './components/EmailMarketing';\nimport Funnels from './components/Funnels';\nimport Forms from './components/Forms';\nimport WorkflowAutomation from './components/WorkflowAutomation';\nimport Courses from './components/Courses';\n\n// Demo credentials banner component\nconst DemoCredentialsBanner = ({ onFillCredentials }) => {\n  const [show, setShow] = useState(true);\n  \n  if (!show) return null;\n  \n  return (\n    <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 shadow-lg\">\n      <div className=\"max-w-7xl mx-auto flex items-center justify-between flex-wrap gap-2\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium\"> Quick Test Mode:</span>\n          <code className=\"bg-white/20 px-3 py-1 rounded text-sm\">demo@efunnels.com</code>\n          <code className=\"bg-white/20 px-3 py-1 rounded text-sm\">demo123</code>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button \n            onClick={onFillCredentials}\n            className=\"bg-white text-blue-600 px-4 py-1.5 rounded-lg text-sm font-semibold hover:bg-blue-50 transition\"\n          >\n            Auto-fill Credentials\n          </button>\n          <button \n            onClick={() => setShow(false)}\n            className=\"text-white/80 hover:text-white\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Login/Register Component\nconst AuthPage = ({ onLogin }) => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    full_name: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleDemoFill = () => {\n    setFormData({\n      email: 'demo@efunnels.com',\n      password: 'demo123',\n      full_name: '',\n    });\n    setIsLogin(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const endpoint = isLogin ? '/api/auth/login' : '/api/auth/register';\n      const payload = isLogin \n        ? { email: formData.email, password: formData.password }\n        : formData;\n\n      const response = await api.post(endpoint, payload);\n      \n      localStorage.setItem('token', response.data.access_token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      onLogin(response.data.user);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      <DemoCredentialsBanner onFillCredentials={handleDemoFill} />\n      \n      <div className=\"flex items-center justify-center min-h-[calc(100vh-60px)] px-4 py-12\">\n        <div className=\"w-full max-w-md\">\n          {/* Logo & Header */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-lg\">\n              <Zap className=\"text-white\" size={32} />\n            </div>\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">eFunnels</h1>\n            <p className=\"text-gray-600\">All-in-One Business Platform</p>\n          </div>\n\n          {/* Auth Form */}\n          <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n            <div className=\"flex gap-2 mb-6\">\n              <button\n                onClick={() => setIsLogin(true)}\n                className={`flex-1 py-2 px-4 rounded-lg font-semibold transition ${\n                  isLogin \n                    ? 'bg-blue-500 text-white' \n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                Login\n              </button>\n              <button\n                onClick={() => setIsLogin(false)}\n                className={`flex-1 py-2 px-4 rounded-lg font-semibold transition ${\n                  !isLogin \n                    ? 'bg-blue-500 text-white' \n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                Register\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {!isLogin && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Full Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.full_name}\n                    onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"John Doe\"\n                    required={!isLogin}\n                  />\n                </div>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"you@example.com\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"\"\n                  required\n                />\n              </div>\n\n              {error && (\n                <div className=\"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? 'Processing...' : (isLogin ? 'Login' : 'Create Account')}\n              </button>\n            </form>\n\n            <div className=\"mt-6 pt-6 border-t border-gray-200\">\n              <button className=\"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50 transition\">\n                <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Continue with Google\n              </button>\n            </div>\n          </div>\n\n          <p className=\"text-center text-sm text-gray-600 mt-6\">\n            By continuing, you agree to our Terms of Service and Privacy Policy\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n// Contacts Page Component\nconst ContactsPage = () => {\n  const [contacts, setContacts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [selectedContacts, setSelectedContacts] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [currentContact, setCurrentContact] = useState(null);\n  const [tags, setTags] = useState([]);\n  const [segments, setSegments] = useState([]);\n  const [stats, setStats] = useState({});\n  const [newActivity, setNewActivity] = useState({ activity_type: 'note', title: '', description: '' });\n\n  useEffect(() => {\n    fetchContacts();\n    fetchTags();\n    fetchSegments();\n    fetchStats();\n  }, [page, searchTerm, statusFilter]);\n\n  const fetchContacts = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({ page, limit: 20 });\n      if (searchTerm) params.append('search', searchTerm);\n      if (statusFilter) params.append('status', statusFilter);\n      \n      const response = await api.get(`/api/contacts?${params}`);\n      setContacts(response.data.contacts);\n      setTotal(response.data.total);\n    } catch (error) {\n      console.error('Failed to fetch contacts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get('/api/tags');\n      setTags(response.data);\n    } catch (error) {\n      console.error('Failed to fetch tags:', error);\n    }\n  };\n\n  const fetchSegments = async () => {\n    try {\n      const response = await api.get('/api/segments');\n      setSegments(response.data);\n    } catch (error) {\n      console.error('Failed to fetch segments:', error);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await api.get('/api/contacts/stats/summary');\n      setStats(response.data);\n    } catch (error) {\n      console.error('Failed to fetch stats:', error);\n    }\n  };\n\n  const fetchContactDetails = async (contactId) => {\n    try {\n      const response = await api.get(`/api/contacts/${contactId}`);\n      setCurrentContact(response.data);\n      setShowDetailModal(true);\n    } catch (error) {\n      console.error('Failed to fetch contact details:', error);\n    }\n  };\n\n  const handleCreateContact = async (contactData) => {\n    try {\n      await api.post('/api/contacts', contactData);\n      fetchContacts();\n      fetchStats();\n      setShowCreateModal(false);\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to create contact');\n    }\n  };\n\n  const handleUpdateContact = async (contactId, contactData) => {\n    try {\n      await api.put(`/api/contacts/${contactId}`, contactData);\n      fetchContacts();\n      fetchContactDetails(contactId);\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to update contact');\n    }\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    if (!window.confirm('Are you sure you want to delete this contact?')) return;\n    \n    try {\n      await api.delete(`/api/contacts/${contactId}`);\n      fetchContacts();\n      fetchStats();\n      setShowDetailModal(false);\n    } catch (error) {\n      alert('Failed to delete contact');\n    }\n  };\n\n  const handleBulkDelete = async () => {\n    if (!window.confirm(`Delete ${selectedContacts.length} contacts?`)) return;\n    \n    try {\n      await api.post('/api/contacts/bulk/delete', { contact_ids: selectedContacts });\n      setSelectedContacts([]);\n      fetchContacts();\n      fetchStats();\n    } catch (error) {\n      alert('Failed to delete contacts');\n    }\n  };\n\n  const handleImport = async (file) => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const response = await api.post('/api/contacts/import', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      \n      alert(`Imported: ${response.data.imported}, Skipped: ${response.data.skipped}`);\n      fetchContacts();\n      fetchStats();\n      setShowImportModal(false);\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to import contacts');\n    }\n  };\n\n  const handleExport = async (format) => {\n    try {\n      const response = await api.get(`/api/contacts/export?format=${format}`, {\n        responseType: 'blob'\n      });\n      \n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `contacts.${format === 'excel' ? 'xlsx' : 'csv'}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (error) {\n      alert('Failed to export contacts');\n    }\n  };\n\n  const handleAddActivity = async (contactId) => {\n    try {\n      await api.post(`/api/contacts/${contactId}/activities`, newActivity);\n      setNewActivity({ activity_type: 'note', title: '', description: '' });\n      fetchContactDetails(contactId);\n    } catch (error) {\n      alert('Failed to add activity');\n    }\n  };\n\n  const handleCreateTag = async (tagName) => {\n    try {\n      await api.post('/api/tags', { name: tagName, color: '#3B82F6' });\n      fetchTags();\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to create tag');\n    }\n  };\n\n  const toggleContactSelection = (contactId) => {\n    setSelectedContacts(prev => \n      prev.includes(contactId) \n        ? prev.filter(id => id !== contactId)\n        : [...prev, contactId]\n    );\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedContacts.length === contacts.length) {\n      setSelectedContacts([]);\n    } else {\n      setSelectedContacts(contacts.map(c => c.id));\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-xl shadow-md p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Total Contacts</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.total || 0}</p>\n            </div>\n            <div className=\"bg-blue-100 rounded-xl p-4\">\n              <Users className=\"text-blue-600\" size={24} />\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow-md p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Leads</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.by_status?.lead || 0}</p>\n            </div>\n            <div className=\"bg-yellow-100 rounded-xl p-4\">\n              <Target className=\"text-yellow-600\" size={24} />\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow-md p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Customers</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.by_status?.customer || 0}</p>\n            </div>\n            <div className=\"bg-green-100 rounded-xl p-4\">\n              <Check className=\"text-green-600\" size={24} />\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow-md p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600 font-medium\">Recent (30d)</p>\n              <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stats.recent || 0}</p>\n            </div>\n            <div className=\"bg-purple-100 rounded-xl p-4\">\n              <TrendingUp className=\"text-purple-600\" size={24} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Action Bar */}\n      <div className=\"bg-white rounded-xl shadow-md p-4\">\n        <div className=\"flex flex-wrap items-center gap-4 justify-between\">\n          <div className=\"flex items-center gap-3 flex-1 min-w-[300px]\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Search contacts...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            \n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"lead\">Lead</option>\n              <option value=\"qualified\">Qualified</option>\n              <option value=\"customer\">Customer</option>\n              <option value=\"lost\">Lost</option>\n            </select>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\"\n              data-testid=\"create-contact-btn\"\n            >\n              <Plus size={20} />\n              Add Contact\n            </button>\n            \n            <button\n              onClick={() => setShowImportModal(true)}\n              className=\"bg-white border-2 border-gray-300 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\"\n            >\n              <Upload size={20} />\n              Import\n            </button>\n            \n            <div className=\"relative group\">\n              <button className=\"bg-white border-2 border-gray-300 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition flex items-center gap-2\">\n                <Download size={20} />\n                Export\n              </button>\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 hidden group-hover:block z-10\">\n                <button\n                  onClick={() => handleExport('csv')}\n                  className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <FileText size={16} />\n                  Export as CSV\n                </button>\n                <button\n                  onClick={() => handleExport('excel')}\n                  className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\"\n                >\n                  <FileSpreadsheet size={16} />\n                  Export as Excel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {selectedContacts.length > 0 && (\n          <div className=\"mt-4 flex items-center gap-3 p-3 bg-blue-50 rounded-lg\">\n            <span className=\"text-sm font-medium text-blue-900\">\n              {selectedContacts.length} selected\n            </span>\n            <button\n              onClick={handleBulkDelete}\n              className=\"text-sm text-red-600 hover:text-red-700 font-medium\"\n            >\n              Delete Selected\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Contacts Table */}\n      <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\n        {loading ? (\n          <div className=\"p-12 text-center\">\n            <div className=\"spinner mx-auto\"></div>\n          </div>\n        ) : contacts.length === 0 ? (\n          <div className=\"p-12 text-center\">\n            <Users className=\"mx-auto text-gray-400 mb-4\" size={48} />\n            <h3 className=\"text-xl font-bold text-gray-900 mb-2\">No contacts yet</h3>\n            <p className=\"text-gray-600 mb-6\">Get started by adding your first contact</p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n            >\n              Add Your First Contact\n            </button>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\" data-testid=\"contacts-table\">\n              <thead className=\"bg-gray-50 border-b border-gray-200\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedContacts.length === contacts.length}\n                      onChange={toggleSelectAll}\n                      className=\"rounded\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Name</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Email</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Company</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Status</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Tags</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Score</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {contacts.map(contact => (\n                  <tr key={contact.id} className=\"hover:bg-gray-50\" data-testid={`contact-row-${contact.id}`}>\n                    <td className=\"px-6 py-4\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedContacts.includes(contact.id)}\n                        onChange={() => toggleContactSelection(contact.id)}\n                        className=\"rounded\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold\">\n                          {contact.first_name.charAt(0).toUpperCase()}\n                        </div>\n                        <div>\n                          <p className=\"font-semibold text-gray-900\">\n                            {contact.first_name} {contact.last_name}\n                          </p>\n                          <p className=\"text-sm text-gray-500\">{contact.job_title}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-700\">{contact.email}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-700\">{contact.company || '-'}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                        contact.status === 'lead' ? 'bg-yellow-100 text-yellow-700' :\n                        contact.status === 'qualified' ? 'bg-blue-100 text-blue-700' :\n                        contact.status === 'customer' ? 'bg-green-100 text-green-700' :\n                        'bg-red-100 text-red-700'\n                      }`}>\n                        {contact.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex gap-1 flex-wrap\">\n                        {contact.tags?.slice(0, 2).map((tag, idx) => (\n                          <span key={idx} className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs\">\n                            {tag}\n                          </span>\n                        ))}\n                        {contact.tags?.length > 2 && (\n                          <span className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs\">\n                            +{contact.tags.length - 2}\n                          </span>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-700\">{contact.score}</td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => fetchContactDetails(contact.id)}\n                          className=\"text-blue-600 hover:text-blue-700\"\n                          data-testid={`view-contact-${contact.id}`}\n                        >\n                          <Eye size={18} />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteContact(contact.id)}\n                          className=\"text-red-600 hover:text-red-700\"\n                        >\n                          <Trash2 size={18} />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {total > 20 && (\n          <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between\">\n            <div className=\"text-sm text-gray-600\">\n              Showing {(page - 1) * 20 + 1} to {Math.min(page * 20, total)} of {total} contacts\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => setPage(p => Math.max(1, p - 1))}\n                disabled={page === 1}\n                className=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <ChevronLeft size={20} />\n              </button>\n              <span className=\"px-4 py-1 text-sm font-medium\">Page {page}</span>\n              <button\n                onClick={() => setPage(p => p + 1)}\n                disabled={page * 20 >= total}\n                className=\"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <ChevronRight size={20} />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Create/Edit Contact Modal */}\n      {showCreateModal && (\n        <ContactModal\n          onClose={() => setShowCreateModal(false)}\n          onSave={handleCreateContact}\n          tags={tags}\n          onCreateTag={handleCreateTag}\n        />\n      )}\n\n      {/* Contact Detail Modal */}\n      {showDetailModal && currentContact && (\n        <ContactDetailModal\n          contact={currentContact}\n          onClose={() => setShowDetailModal(false)}\n          onUpdate={handleUpdateContact}\n          onDelete={handleDeleteContact}\n          onAddActivity={handleAddActivity}\n          newActivity={newActivity}\n          setNewActivity={setNewActivity}\n        />\n      )}\n\n      {/* Import Modal */}\n      {showImportModal && (\n        <ImportModal\n          onClose={() => setShowImportModal(false)}\n          onImport={handleImport}\n        />\n      )}\n    </div>\n  );\n};\n\n// Contact Modal Component\nconst ContactModal = ({ contact = null, onClose, onSave, tags, onCreateTag }) => {\n  const [formData, setFormData] = useState(contact || {\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone: '',\n    company: '',\n    job_title: '',\n    website: '',\n    address: '',\n    city: '',\n    country: '',\n    source: '',\n    notes: '',\n    tags: [],\n    custom_fields: {}\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {contact ? 'Edit Contact' : 'Add New Contact'}\n          </h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                First Name *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.first_name}\n                onChange={(e) => setFormData({ ...formData, first_name: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                data-testid=\"first-name-input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Last Name\n              </label>\n              <input\n                type=\"text\"\n                value={formData.last_name}\n                onChange={(e) => setFormData({ ...formData, last_name: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email *\n            </label>\n            <input\n              type=\"email\"\n              required\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              data-testid=\"email-input\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Phone\n              </label>\n              <input\n                type=\"tel\"\n                value={formData.phone}\n                onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Company\n              </label>\n              <input\n                type=\"text\"\n                value={formData.company}\n                onChange={(e) => setFormData({ ...formData, company: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Job Title\n              </label>\n              <input\n                type=\"text\"\n                value={formData.job_title}\n                onChange={(e) => setFormData({ ...formData, job_title: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Source\n              </label>\n              <input\n                type=\"text\"\n                placeholder=\"e.g., Website, Referral\"\n                value={formData.source}\n                onChange={(e) => setFormData({ ...formData, source: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Notes\n            </label>\n            <textarea\n              value={formData.notes}\n              onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n              rows={3}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div className=\"flex items-center gap-3 pt-4\">\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n              data-testid=\"save-contact-btn\"\n            >\n              {contact ? 'Update Contact' : 'Create Contact'}\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Contact Detail Modal Component\nconst ContactDetailModal = ({ contact, onClose, onUpdate, onDelete, onAddActivity, newActivity, setNewActivity }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editData, setEditData] = useState({\n    status: contact.status,\n    score: contact.score,\n    notes: contact.notes\n  });\n\n  const handleUpdate = () => {\n    onUpdate(contact.id, editData);\n    setIsEditing(false);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold\">\n              {contact.first_name.charAt(0).toUpperCase()}\n            </div>\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">\n                {contact.first_name} {contact.last_name}\n              </h2>\n              <p className=\"text-gray-600\">{contact.job_title || contact.company}</p>\n            </div>\n          </div>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {/* Contact Info */}\n          <div className=\"grid grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <h3 className=\"font-bold text-gray-900 text-lg\">Contact Information</h3>\n              \n              <div className=\"flex items-center gap-3 text-gray-700\">\n                <Mail size={20} className=\"text-gray-400\" />\n                <span>{contact.email}</span>\n              </div>\n              \n              {contact.phone && (\n                <div className=\"flex items-center gap-3 text-gray-700\">\n                  <Phone size={20} className=\"text-gray-400\" />\n                  <span>{contact.phone}</span>\n                </div>\n              )}\n              \n              {contact.company && (\n                <div className=\"flex items-center gap-3 text-gray-700\">\n                  <Building size={20} className=\"text-gray-400\" />\n                  <span>{contact.company}</span>\n                </div>\n              )}\n              \n              {contact.website && (\n                <div className=\"flex items-center gap-3 text-gray-700\">\n                  <Globe size={20} className=\"text-gray-400\" />\n                  <a href={contact.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:underline\">\n                    {contact.website}\n                  </a>\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-4\">\n              <h3 className=\"font-bold text-gray-900 text-lg\">Status & Metrics</h3>\n              \n              <div>\n                <label className=\"text-sm text-gray-600\">Status</label>\n                {isEditing ? (\n                  <select\n                    value={editData.status}\n                    onChange={(e) => setEditData({ ...editData, status: e.target.value })}\n                    className=\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                  >\n                    <option value=\"lead\">Lead</option>\n                    <option value=\"qualified\">Qualified</option>\n                    <option value=\"customer\">Customer</option>\n                    <option value=\"lost\">Lost</option>\n                  </select>\n                ) : (\n                  <div className=\"mt-1\">\n                    <span className={`px-3 py-1 rounded-full text-sm font-semibold ${\n                      contact.status === 'lead' ? 'bg-yellow-100 text-yellow-700' :\n                      contact.status === 'qualified' ? 'bg-blue-100 text-blue-700' :\n                      contact.status === 'customer' ? 'bg-green-100 text-green-700' :\n                      'bg-red-100 text-red-700'\n                    }`}>\n                      {contact.status}\n                    </span>\n                  </div>\n                )}\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Score</label>\n                {isEditing ? (\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={editData.score}\n                    onChange={(e) => setEditData({ ...editData, score: parseInt(e.target.value) })}\n                    className=\"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                  />\n                ) : (\n                  <div className=\"mt-1 text-2xl font-bold text-gray-900\">{contact.score}/100</div>\n                )}\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Engagement</label>\n                <div className=\"mt-1 text-lg font-semibold text-gray-900\">{contact.engagement_count} interactions</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Tags */}\n          {contact.tags && contact.tags.length > 0 && (\n            <div>\n              <h3 className=\"font-bold text-gray-900 text-lg mb-3\">Tags</h3>\n              <div className=\"flex gap-2 flex-wrap\">\n                {contact.tags.map((tag, idx) => (\n                  <span key={idx} className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium\">\n                    {tag}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Activity Timeline */}\n          <div>\n            <h3 className=\"font-bold text-gray-900 text-lg mb-3\">Activity Timeline</h3>\n            \n            {/* Add Activity Form */}\n            <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\n              <div className=\"space-y-3\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <select\n                    value={newActivity.activity_type}\n                    onChange={(e) => setNewActivity({ ...newActivity, activity_type: e.target.value })}\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg\"\n                  >\n                    <option value=\"note\">Note</option>\n                    <option value=\"email\">Email</option>\n                    <option value=\"call\">Call</option>\n                    <option value=\"meeting\">Meeting</option>\n                  </select>\n                  \n                  <input\n                    type=\"text\"\n                    placeholder=\"Activity title\"\n                    value={newActivity.title}\n                    onChange={(e) => setNewActivity({ ...newActivity, title: e.target.value })}\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg\"\n                  />\n                </div>\n                \n                <textarea\n                  placeholder=\"Description (optional)\"\n                  value={newActivity.description}\n                  onChange={(e) => setNewActivity({ ...newActivity, description: e.target.value })}\n                  rows={2}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                />\n                \n                <button\n                  onClick={() => onAddActivity(contact.id)}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n                >\n                  Add Activity\n                </button>\n              </div>\n            </div>\n\n            {/* Activities List */}\n            <div className=\"space-y-3\">\n              {contact.activities && contact.activities.length > 0 ? (\n                contact.activities.map((activity) => (\n                  <div key={activity.id} className=\"flex gap-3 p-4 bg-white border border-gray-200 rounded-lg\">\n                    <div className={`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${\n                      activity.activity_type === 'email' ? 'bg-purple-100' :\n                      activity.activity_type === 'call' ? 'bg-green-100' :\n                      activity.activity_type === 'meeting' ? 'bg-blue-100' :\n                      'bg-gray-100'\n                    }`}>\n                      {activity.activity_type === 'email' ? <Mail size={20} /> :\n                       activity.activity_type === 'call' ? <Phone size={20} /> :\n                       activity.activity_type === 'meeting' ? <Calendar size={20} /> :\n                       <MessageCircle size={20} />}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">{activity.title}</h4>\n                          {activity.description && (\n                            <p className=\"text-sm text-gray-600 mt-1\">{activity.description}</p>\n                          )}\n                        </div>\n                        <span className=\"text-xs text-gray-500 flex items-center gap-1\">\n                          <Clock size={14} />\n                          {new Date(activity.created_at).toLocaleDateString()}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <p className=\"text-gray-500 text-center py-4\">No activities yet</p>\n              )}\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center gap-3 pt-4 border-t border-gray-200\">\n            {isEditing ? (\n              <>\n                <button\n                  onClick={handleUpdate}\n                  className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition\"\n                >\n                  Save Changes\n                </button>\n                <button\n                  onClick={() => setIsEditing(false)}\n                  className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n                >\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <>\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2\"\n                >\n                  <Edit size={20} />\n                  Edit Contact\n                </button>\n                <button\n                  onClick={() => onDelete(contact.id)}\n                  className=\"flex-1 bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center gap-2\"\n                >\n                  <Trash2 size={20} />\n                  Delete Contact\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Import Modal Component\nconst ImportModal = ({ onClose, onImport }) => {\n  const [file, setFile] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = () => {\n    if (file) {\n      onImport(file);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-2xl max-w-md w-full\">\n        <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Import Contacts</h2>\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-4\">\n          <div>\n            <p className=\"text-gray-600 mb-4\">\n              Upload a CSV or Excel file with your contacts. Required columns: email, first_name.\n            </p>\n            \n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\">\n              <Upload className=\"mx-auto text-gray-400 mb-4\" size={48} />\n              <input\n                type=\"file\"\n                accept=\".csv,.xlsx,.xls\"\n                onChange={handleFileChange}\n                className=\"hidden\"\n                id=\"file-upload\"\n              />\n              <label\n                htmlFor=\"file-upload\"\n                className=\"cursor-pointer text-blue-600 hover:text-blue-700 font-semibold\"\n              >\n                Choose a file\n              </label>\n              {file && (\n                <p className=\"mt-2 text-sm text-gray-700\">{file.name}</p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleSubmit}\n              disabled={!file}\n              className=\"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Import Contacts\n            </button>\n            <button\n              onClick={onClose}\n              className=\"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n// Dashboard Component\nconst Dashboard = ({ user, onLogout }) => {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n  const menuItems = [\n    { id: 'dashboard', name: 'Dashboard', icon: Home },\n    { id: 'funnels', name: 'Sales Funnels', icon: Layout },\n    { id: 'emails', name: 'Email Marketing', icon: Mail },\n    { id: 'contacts', name: 'Contacts', icon: Users },\n    { id: 'courses', name: 'Courses', icon: BookOpen },\n    { id: 'webinars', name: 'Webinars', icon: Video },\n    { id: 'blog', name: 'Blog', icon: FileText },\n    { id: 'forms', name: 'Forms', icon: MessageSquare },\n    { id: 'affiliates', name: 'Affiliates', icon: Award },\n    { id: 'workflows', name: 'Automations', icon: Zap },\n    { id: 'products', name: 'Products', icon: ShoppingCart },\n    { id: 'analytics', name: 'Analytics', icon: BarChart2 },\n    { id: 'settings', name: 'Settings', icon: Settings },\n  ];\n\n  const stats = [\n    { name: 'Total Revenue', value: '$12,345', change: '+12.5%', icon: DollarSign, color: 'bg-green-500' },\n    { name: 'Active Funnels', value: '24', change: '+3', icon: Layout, color: 'bg-blue-500' },\n    { name: 'Total Contacts', value: '1,234', change: '+156', icon: Users, color: 'bg-purple-500' },\n    { name: 'Email Campaigns', value: '18', change: '+5', icon: Mail, color: 'bg-pink-500' },\n  ];\n\n  const renderContent = () => {\n    switch(activeTab) {\n      case 'dashboard':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-3xl font-bold text-gray-900\">Welcome back, {user.full_name}!</h2>\n                <p className=\"text-gray-600 mt-1\">Here's what's happening with your business today.</p>\n              </div>\n              <button className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition flex items-center gap-2\">\n                <Plus size={20} />\n                Create New Funnel\n              </button>\n            </div>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {stats.map((stat, index) => (\n                <div key={index} className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm text-gray-600 font-medium\">{stat.name}</p>\n                      <p className=\"text-3xl font-bold text-gray-900 mt-2\">{stat.value}</p>\n                      <p className=\"text-sm text-green-600 font-medium mt-2\">{stat.change}</p>\n                    </div>\n                    <div className={`${stat.color} rounded-xl p-4`}>\n                      <stat.icon className=\"text-white\" size={24} />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <div className=\"bg-white rounded-xl shadow-md p-6\">\n                <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Quick Actions</h3>\n                <div className=\"space-y-3\">\n                  {[\n                    { icon: Layout, text: 'Create Sales Funnel', color: 'text-blue-600' },\n                    { icon: Mail, text: 'Send Email Campaign', color: 'text-purple-600' },\n                    { icon: UserPlus, text: 'Import Contacts', color: 'text-green-600' },\n                    { icon: Video, text: 'Schedule Webinar', color: 'text-red-600' },\n                  ].map((action, index) => (\n                    <button key={index} className=\"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition text-left\">\n                      <action.icon className={action.color} size={20} />\n                      <span className=\"font-medium text-gray-700\">{action.text}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-xl shadow-md p-6\">\n                <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Recent Activity</h3>\n                <div className=\"space-y-4\">\n                  {[\n                    { text: 'New contact added: john@example.com', time: '2 minutes ago' },\n                    { text: 'Email campaign \"Summer Sale\" sent', time: '1 hour ago' },\n                    { text: 'Funnel \"Product Launch\" created', time: '3 hours ago' },\n                    { text: 'Webinar registration: 15 new attendees', time: '5 hours ago' },\n                  ].map((activity, index) => (\n                    <div key={index} className=\"flex items-start gap-3 pb-4 border-b border-gray-100 last:border-0\">\n                      <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2\"></div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-700\">{activity.text}</p>\n                        <p className=\"text-xs text-gray-500 mt-1\">{activity.time}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 'contacts':\n        return <ContactsPage />;\n      \n      case 'emails':\n        return <EmailMarketingPage />;\n      \n      case 'funnels':\n        return <Funnels />;\n      \n      case 'forms':\n        return <Forms />;\n      \n      case 'workflows':\n        return <WorkflowAutomation />;\n      \n      case 'courses':\n        return <Courses user={user} />;\n      \n      default:\n        return (\n          <div className=\"bg-white rounded-xl shadow-md p-12 text-center\">\n            <div className=\"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-4\">\n              <Zap className=\"text-blue-600\" size={40} />\n            </div>\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              {menuItems.find(item => item.id === activeTab)?.name}\n            </h3>\n            <p className=\"text-gray-600 mb-6\">\n              This feature is coming soon in the next phase of development!\n            </p>\n            <div className=\"inline-flex items-center gap-2 text-sm text-blue-600 font-medium\">\n              <Target size={16} />\n              Phase {Math.ceil((menuItems.findIndex(item => item.id === activeTab) + 1) / 3)} Feature\n            </div>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Top Navigation */}\n      <nav className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\n        <div className=\"px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-4\">\n              <button\n                onClick={() => setSidebarOpen(!sidebarOpen)}\n                className=\"p-2 rounded-lg hover:bg-gray-100\"\n              >\n                <Menu size={24} />\n              </button>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                  <Zap className=\"text-white\" size={20} />\n                </div>\n                <span className=\"text-xl font-bold text-gray-900\">eFunnels</span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <div className=\"relative hidden md:block\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n                />\n              </div>\n              \n              <button className=\"p-2 rounded-lg hover:bg-gray-100 relative\">\n                <Bell size={20} />\n                <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n              </button>\n\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowProfileMenu(!showProfileMenu)}\n                  className=\"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100\"\n                >\n                  <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold\">\n                    {user.full_name.charAt(0).toUpperCase()}\n                  </div>\n                  <div className=\"text-left hidden md:block\">\n                    <p className=\"text-sm font-semibold text-gray-900\">{user.full_name}</p>\n                    <p className=\"text-xs text-gray-500\">{user.subscription_plan}</p>\n                  </div>\n                </button>\n\n                {showProfileMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50\">\n                    <button className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\">\n                      <User size={16} />\n                      Profile\n                    </button>\n                    <button className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2\">\n                      <Settings size={16} />\n                      Settings\n                    </button>\n                    <hr className=\"my-2\" />\n                    <button\n                      onClick={onLogout}\n                      className=\"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-red-600\"\n                    >\n                      <LogOut size={16} />\n                      Logout\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        {sidebarOpen && (\n          <aside className=\"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-64px)] sticky top-16\">\n            <nav className=\"p-4 space-y-1\">\n              {menuItems.map((item) => (\n                <button\n                  key={item.id}\n                  onClick={() => setActiveTab(item.id)}\n                  className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${\n                    activeTab === item.id\n                      ? 'bg-blue-50 text-blue-600 font-semibold'\n                      : 'text-gray-700 hover:bg-gray-50'\n                  }`}\n                >\n                  <item.icon size={20} />\n                  <span>{item.name}</span>\n                </button>\n              ))}\n            </nav>\n          </aside>\n        )}\n\n        {/* Main Content */}\n        <main className=\"flex-1 p-8\">\n          {renderContent()}\n        </main>\n      </div>\n    </div>\n  );\n};\n\n// Main App Component\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const storedUser = localStorage.getItem('user');\n    \n    if (token && storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    setLoading(false);\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return user ? (\n    <Dashboard user={user} onLogout={handleLogout} />\n  ) : (\n    <AuthPage onLogin={handleLogin} />\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}