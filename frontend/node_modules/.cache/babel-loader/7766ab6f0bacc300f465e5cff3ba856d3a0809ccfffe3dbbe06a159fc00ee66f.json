{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Plus,Search,Filter,Eye,Edit,Trash2,Copy,Download,Save,X,ArrowLeft,Settings,BarChart2,FileText,MessageSquare,CheckSquare,Calendar,Phone,Mail,Hash,AlignLeft,List,Star,Upload,Check,ChevronDown,ChevronUp,GripVertical,Link as LinkIcon}from'lucide-react';import api from'../api';import{fieldTypes,renderFieldPreview}from'./FormBuilder/fieldTypes';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Forms=()=>{const[activeTab,setActiveTab]=useState('forms');// 'forms' or 'surveys'\nconst[activeView,setActiveView]=useState('list');// 'list', 'builder', 'submissions', 'analytics'\n// Forms state\nconst[forms,setForms]=useState([]);const[currentForm,setCurrentForm]=useState(null);const[formFields,setFormFields]=useState([]);// Surveys state\nconst[surveys,setSurveys]=useState([]);const[currentSurvey,setCurrentSurvey]=useState(null);const[surveyQuestions,setSurveyQuestions]=useState([]);// Common state\nconst[submissions,setSubmissions]=useState([]);const[analytics,setAnalytics]=useState(null);const[loading,setLoading]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[showTemplateModal,setShowTemplateModal]=useState(false);const[selectedField,setSelectedField]=useState(null);const[stats,setStats]=useState({totalForms:0,totalSurveys:0,totalSubmissions:0,avgConversionRate:0});useEffect(()=>{if(activeView==='list'){if(activeTab==='forms'){loadForms();}else{loadSurveys();}}},[activeView,activeTab,statusFilter]);const loadForms=async()=>{try{setLoading(true);const response=await api.get('/api/forms',{params:{status:statusFilter==='all'?null:statusFilter}});setForms(response.data.forms||[]);// Calculate stats\nconst totalSubmissions=response.data.forms.reduce((sum,f)=>sum+(f.total_submissions||0),0);const avgRate=response.data.forms.length>0?response.data.forms.reduce((sum,f)=>sum+(f.conversion_rate||0),0)/response.data.forms.length:0;setStats(prev=>_objectSpread(_objectSpread({},prev),{},{totalForms:response.data.total||0,totalSubmissions,avgConversionRate:avgRate}));}catch(error){console.error('Error loading forms:',error);}finally{setLoading(false);}};const loadSurveys=async()=>{try{setLoading(true);const response=await api.get('/api/surveys',{params:{status:statusFilter==='all'?null:statusFilter}});setSurveys(response.data.surveys||[]);setStats(prev=>_objectSpread(_objectSpread({},prev),{},{totalSurveys:response.data.total||0}));}catch(error){console.error('Error loading surveys:',error);}finally{setLoading(false);}};const createNewForm=async()=>{try{const newForm={name:'New Form',description:'Form description',fields:[],settings:{submit_button_text:'Submit',success_message:'Thank you for your submission!',redirect_url:'',collect_email:true,require_email:true}};const response=await api.post('/api/forms',newForm);setCurrentForm(response.data);setFormFields(response.data.fields||[]);setActiveView('builder');}catch(error){console.error('Error creating form:',error);alert('Failed to create form');}};const createNewSurvey=async()=>{try{const newSurvey={name:'New Survey',description:'Survey description',questions:[],settings:{allow_multiple_responses:false,show_progress_bar:true,randomize_questions:false}};const response=await api.post('/api/surveys',newSurvey);setCurrentSurvey(response.data);setSurveyQuestions(response.data.questions||[]);setActiveView('builder');}catch(error){console.error('Error creating survey:',error);alert('Failed to create survey');}};const saveForm=async()=>{if(!currentForm)return;try{await api.put(\"/api/forms/\".concat(currentForm.id),{name:currentForm.name,description:currentForm.description,fields:formFields,settings:currentForm.settings});alert('Form saved successfully!');loadForms();}catch(error){console.error('Error saving form:',error);alert('Failed to save form');}};const saveSurvey=async()=>{if(!currentSurvey)return;try{await api.put(\"/api/surveys/\".concat(currentSurvey.id),{name:currentSurvey.name,description:currentSurvey.description,questions:surveyQuestions,settings:currentSurvey.settings});alert('Survey saved successfully!');loadSurveys();}catch(error){console.error('Error saving survey:',error);alert('Failed to save survey');}};const deleteForm=async formId=>{if(!window.confirm('Are you sure you want to delete this form?'))return;try{await api.delete(\"/api/forms/\".concat(formId));loadForms();}catch(error){console.error('Error deleting form:',error);alert('Failed to delete form');}};const deleteSurvey=async surveyId=>{if(!window.confirm('Are you sure you want to delete this survey?'))return;try{await api.delete(\"/api/surveys/\".concat(surveyId));loadSurveys();}catch(error){console.error('Error deleting survey:',error);alert('Failed to delete survey');}};const publishForm=async formId=>{try{await api.put(\"/api/forms/\".concat(formId),{status:'active'});loadForms();}catch(error){console.error('Error publishing form:',error);}};const publishSurvey=async surveyId=>{try{await api.put(\"/api/surveys/\".concat(surveyId),{status:'active'});loadSurveys();}catch(error){console.error('Error publishing survey:',error);}};const loadSubmissions=async formId=>{try{const response=await api.get(\"/api/forms/\".concat(formId,\"/submissions\"));setSubmissions(response.data.submissions||[]);setActiveView('submissions');}catch(error){console.error('Error loading submissions:',error);}};const loadSurveyResponses=async surveyId=>{try{const response=await api.get(\"/api/surveys/\".concat(surveyId,\"/responses\"));setSubmissions(response.data.responses||[]);setActiveView('submissions');}catch(error){console.error('Error loading responses:',error);}};const loadAnalytics=async(id,type)=>{try{const endpoint=type==='form'?\"/api/forms/\".concat(id,\"/analytics\"):\"/api/surveys/\".concat(id,\"/analytics\");const response=await api.get(endpoint);setAnalytics(response.data);setActiveView('analytics');}catch(error){console.error('Error loading analytics:',error);}};const addFormField=fieldType=>{const field=fieldTypes.find(f=>f.id===fieldType);if(!field)return;const newField={id:\"field_\".concat(Date.now()),field_type:field.type,label:field.defaultConfig.label,placeholder:field.defaultConfig.placeholder||'',required:field.defaultConfig.required||false,options:field.defaultConfig.options||[],validation:field.defaultConfig.validation||{},order:formFields.length};setFormFields([...formFields,newField]);};const removeFormField=fieldId=>{setFormFields(formFields.filter(f=>f.id!==fieldId));};const updateFormField=(fieldId,updates)=>{setFormFields(formFields.map(f=>f.id===fieldId?_objectSpread(_objectSpread({},f),updates):f));};const addSurveyQuestion=questionType=>{const newQuestion={id:\"question_\".concat(Date.now()),question_type:questionType,question_text:'Enter your question',required:true,options:questionType==='multiple_choice'||questionType==='checkbox'?['Option 1','Option 2','Option 3']:[],order:surveyQuestions.length};setSurveyQuestions([...surveyQuestions,newQuestion]);};const removeSurveyQuestion=questionId=>{setSurveyQuestions(surveyQuestions.filter(q=>q.id!==questionId));};const updateSurveyQuestion=(questionId,updates)=>{setSurveyQuestions(surveyQuestions.map(q=>q.id===questionId?_objectSpread(_objectSpread({},q),updates):q));};const exportSubmissions=async function(formId){let format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'csv';try{const response=await api.get(\"/api/forms/\".concat(formId,\"/export\"),{params:{format},responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"form_submissions.\".concat(format==='csv'?'csv':'xlsx'));document.body.appendChild(link);link.click();link.remove();}catch(error){console.error('Error exporting submissions:',error);}};// Render List View\nconst renderListView=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Forms\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalForms})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(FileText,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Surveys\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalSurveys})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(MessageSquare,{className:\"text-purple-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Submissions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalSubmissions})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(CheckSquare,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Avg Conversion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.avgConversionRate.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(BarChart2,{className:\"text-orange-600\",size:24})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('forms'),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(activeTab==='forms'?'bg-blue-600 text-white':'text-gray-600 hover:bg-gray-100'),\"data-testid\":\"forms-tab\",children:[/*#__PURE__*/_jsx(FileText,{className:\"inline mr-2\",size:18}),\"Forms\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('surveys'),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(activeTab==='surveys'?'bg-purple-600 text-white':'text-gray-600 hover:bg-gray-100'),\"data-testid\":\"surveys-tab\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"inline mr-2\",size:18}),\"Surveys\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:activeTab==='forms'?createNewForm:createNewSurvey,className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\",\"data-testid\":\"create-new-button\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Create \",activeTab==='forms'?'Form':'Survey']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 px-4 pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search \".concat(activeTab,\"...\"),value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"search-input\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"status-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paused\",children:\"Paused\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading...\"})]}):activeTab==='forms'?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:[forms.filter(f=>f.name.toLowerCase().includes(searchQuery.toLowerCase())).map(form=>/*#__PURE__*/_jsx(FormCard,{form:form,onEdit:()=>{setCurrentForm(form);setFormFields(form.fields||[]);setActiveView('builder');},onDelete:()=>deleteForm(form.id),onPublish:()=>publishForm(form.id),onViewSubmissions:()=>{setCurrentForm(form);loadSubmissions(form.id);},onViewAnalytics:()=>{setCurrentForm(form);loadAnalytics(form.id,'form');}},form.id)),forms.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 text-center py-12\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto text-gray-400\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"No forms yet. Create your first form!\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:[surveys.filter(s=>s.name.toLowerCase().includes(searchQuery.toLowerCase())).map(survey=>/*#__PURE__*/_jsx(SurveyCard,{survey:survey,onEdit:()=>{setCurrentSurvey(survey);setSurveyQuestions(survey.questions||[]);setActiveView('builder');},onDelete:()=>deleteSurvey(survey.id),onPublish:()=>publishSurvey(survey.id),onViewResponses:()=>{setCurrentSurvey(survey);loadSurveyResponses(survey.id);},onViewAnalytics:()=>{setCurrentSurvey(survey);loadAnalytics(survey.id,'survey');}},survey.id)),surveys.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 text-center py-12\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"mx-auto text-gray-400\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"No surveys yet. Create your first survey!\"})]})]})})]})]});// Render Form Builder\nconst renderFormBuilder=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveView('list');setCurrentForm(null);setFormFields([]);},className:\"p-2 hover:bg-gray-100 rounded-lg transition\",\"data-testid\":\"back-to-list-button\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(currentForm===null||currentForm===void 0?void 0:currentForm.name)||'',onChange:e=>setCurrentForm(_objectSpread(_objectSpread({},currentForm),{},{name:e.target.value})),className:\"text-xl font-bold border-b-2 border-transparent hover:border-gray-300 focus:border-blue-500 outline-none\",\"data-testid\":\"form-name-input\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[formFields.length,\" fields\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:saveForm,className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\",\"data-testid\":\"save-form-button\",children:[/*#__PURE__*/_jsx(Save,{size:20}),\"Save Form\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-4\",children:\"Field Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[fieldTypes.filter(f=>f.category==='basic').map(field=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addFormField(field.id),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition\",\"data-testid\":\"add-field-\".concat(field.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:field.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:field.name})]})},field.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-2 font-semibold\",children:\"ADVANCED\"}),fieldTypes.filter(f=>f.category==='choice'||f.category==='advanced').map(field=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addFormField(field.id),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition mb-2\",\"data-testid\":\"add-field-\".concat(field.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:field.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:field.name})]})},field.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-4\",children:\"Form Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:formFields.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto text-gray-400\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Add fields from the left panel to start building your form\"})]}):formFields.map((field,index)=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSelectedField(field),className:\"p-4 border-2 rounded-lg cursor-pointer transition \".concat((selectedField===null||selectedField===void 0?void 0:selectedField.id)===field.id?'border-blue-500 bg-blue-50':'border-gray-200 hover:border-gray-400'),\"data-testid\":\"form-field-\".concat(index),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),renderFieldPreview(field,'',()=>{})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();removeFormField(field.id);},className:\"text-red-600 hover:text-red-800 ml-2\",\"data-testid\":\"remove-field-\".concat(index),children:/*#__PURE__*/_jsx(Trash2,{size:18})})]})},field.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-4\",children:\"Field Settings\"}),selectedField?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedField.label,onChange:e=>updateFormField(selectedField.id,{label:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"field-label-input\"})]}),selectedField.placeholder!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Placeholder\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedField.placeholder,onChange:e=>updateFormField(selectedField.id,{placeholder:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\"data-testid\":\"field-placeholder-input\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedField.required,onChange:e=>updateFormField(selectedField.id,{required:e.target.checked}),className:\"w-4 h-4 text-blue-600 rounded\",\"data-testid\":\"field-required-checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Required Field\"})]})}),selectedField.options!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Options\"}),/*#__PURE__*/_jsx(\"textarea\",{value:Array.isArray(selectedField.options)?selectedField.options.join('\\n'):'',onChange:e=>updateFormField(selectedField.id,{options:e.target.value.split('\\n').filter(o=>o.trim())}),rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"One option per line\",\"data-testid\":\"field-options-textarea\"})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Select a field to edit its settings\"})]})]})]});// Render Survey Builder\nconst renderSurveyBuilder=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveView('list');setCurrentSurvey(null);setSurveyQuestions([]);},className:\"p-2 hover:bg-gray-100 rounded-lg transition\",\"data-testid\":\"back-to-list-button\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(currentSurvey===null||currentSurvey===void 0?void 0:currentSurvey.name)||'',onChange:e=>setCurrentSurvey(_objectSpread(_objectSpread({},currentSurvey),{},{name:e.target.value})),className:\"text-xl font-bold border-b-2 border-transparent hover:border-gray-300 focus:border-blue-500 outline-none\",\"data-testid\":\"survey-name-input\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[surveyQuestions.length,\" questions\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:saveSurvey,className:\"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition\",\"data-testid\":\"save-survey-button\",children:[/*#__PURE__*/_jsx(Save,{size:20}),\"Save Survey\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-4\",children:\"Question Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>addSurveyQuestion('text'),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\",\"data-testid\":\"add-question-text\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlignLeft,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Short Answer\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addSurveyQuestion('textarea'),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\",\"data-testid\":\"add-question-textarea\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Long Answer\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addSurveyQuestion('multiple_choice'),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\",\"data-testid\":\"add-question-multiple-choice\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(List,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Multiple Choice\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addSurveyQuestion('checkbox'),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\",\"data-testid\":\"add-question-checkbox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CheckSquare,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Checkboxes\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addSurveyQuestion('rating'),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\",\"data-testid\":\"add-question-rating\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Star,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Rating\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3 bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 mb-4\",children:\"Survey Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:surveyQuestions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"mx-auto text-gray-400\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Add questions from the left panel to start building your survey\"})]}):surveyQuestions.map((question,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-2 border-gray-200 rounded-lg\",\"data-testid\":\"survey-question-\".concat(index),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-purple-100 text-purple-600 font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0\",children:index+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:question.question_text,onChange:e=>updateSurveyQuestion(question.id,{question_text:e.target.value}),className:\"w-full text-lg font-medium border-b-2 border-transparent hover:border-gray-300 focus:border-purple-500 outline-none mb-3\",placeholder:\"Enter your question\",\"data-testid\":\"question-text-\".concat(index)}),(question.question_type==='multiple_choice'||question.question_type==='checkbox')&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:/*#__PURE__*/_jsx(\"textarea\",{value:Array.isArray(question.options)?question.options.join('\\n'):'',onChange:e=>updateSurveyQuestion(question.id,{options:e.target.value.split('\\n').filter(o=>o.trim())}),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\",placeholder:\"One option per line\",\"data-testid\":\"question-options-\".concat(index)})}),question.question_type==='rating'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mt-2\",children:[1,2,3,4,5].map(num=>/*#__PURE__*/_jsx(\"button\",{className:\"w-10 h-10 border-2 border-gray-300 rounded-lg hover:bg-purple-50\",children:num},num))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeSurveyQuestion(question.id),className:\"text-red-600 hover:text-red-800\",\"data-testid\":\"remove-question-\".concat(index),children:/*#__PURE__*/_jsx(Trash2,{size:18})})]})},question.id))})]})]})]});// Render Submissions View\nconst renderSubmissionsView=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveView('list'),className:\"p-2 hover:bg-gray-100 rounded-lg transition\",\"data-testid\":\"back-to-list-button\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:activeTab==='forms'?'Form Submissions':'Survey Responses'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:(currentForm===null||currentForm===void 0?void 0:currentForm.name)||(currentSurvey===null||currentSurvey===void 0?void 0:currentSurvey.name)})]})]}),activeTab==='forms'&&currentForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>exportSubmissions(currentForm.id,'csv'),className:\"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition\",\"data-testid\":\"export-csv-button\",children:[/*#__PURE__*/_jsx(Download,{size:20}),\"Export CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>exportSubmissions(currentForm.id,'excel'),className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\",\"data-testid\":\"export-excel-button\",children:[/*#__PURE__*/_jsx(Download,{size:20}),\"Export Excel\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",\"data-testid\":\"submissions-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Submitted At\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Contact ID\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:submissions.map((submission,index)=>/*#__PURE__*/_jsxs(\"tr\",{\"data-testid\":\"submission-row-\".concat(index),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(submission.created_at).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:Object.entries(submission.submission_data||submission.responses||{}).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[key,\":\"]}),' ',Array.isArray(value)?value.join(', '):String(value)]},key);})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:submission.contact_id||'N/A'})]},submission.id))})]}),submissions.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(CheckSquare,{className:\"mx-auto text-gray-400\",size:48}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"No submissions yet\"})]})]})})]});// Render Analytics View\nconst renderAnalyticsView=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-4 flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveView('list'),className:\"p-2 hover:bg-gray-100 rounded-lg transition\",\"data-testid\":\"back-to-list-button\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:(analytics===null||analytics===void 0?void 0:analytics.form_name)||(analytics===null||analytics===void 0?void 0:analytics.survey_name)})]})]})}),analytics&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:activeTab==='forms'?'Total Views':'Total Responses'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:analytics.total_views||analytics.total_responses||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(Eye,{className:\"text-blue-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:activeTab==='forms'?'Total Submissions':'Completed'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:analytics.total_submissions||analytics.completed_responses||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(CheckSquare,{className:\"text-green-600\",size:24})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:activeTab==='forms'?'Conversion Rate':'Completion Rate'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[analytics.conversion_rate||analytics.completion_rate||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-100 p-3 rounded-lg\",children:/*#__PURE__*/_jsx(BarChart2,{className:\"text-orange-600\",size:24})})]})})]})]});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[activeView==='list'&&renderListView(),activeView==='builder'&&(activeTab==='forms'?renderFormBuilder():renderSurveyBuilder()),activeView==='submissions'&&renderSubmissionsView(),activeView==='analytics'&&renderAnalyticsView()]})});};// Form Card Component\nconst FormCard=_ref2=>{var _form$fields;let{form,onEdit,onDelete,onPublish,onViewSubmissions,onViewAnalytics}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition\",\"data-testid\":\"form-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:form.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:form.description})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(form.status==='active'?'bg-green-100 text-green-800':form.status==='draft'?'bg-gray-100 text-gray-800':'bg-yellow-100 text-yellow-800'),\"data-testid\":\"form-status\",children:form.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2 mb-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Fields\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:((_form$fields=form.fields)===null||_form$fields===void 0?void 0:_form$fields.length)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Views\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:form.total_views||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Submits\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:form.total_submissions||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onEdit,className:\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm\",\"data-testid\":\"edit-form-button\",children:[/*#__PURE__*/_jsx(Edit,{size:16}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onViewSubmissions,className:\"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\",\"data-testid\":\"view-submissions-button\",children:/*#__PURE__*/_jsx(Eye,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:onViewAnalytics,className:\"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm\",\"data-testid\":\"view-analytics-button\",children:/*#__PURE__*/_jsx(BarChart2,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,className:\"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm\",\"data-testid\":\"delete-form-button\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]}),form.status==='draft'&&/*#__PURE__*/_jsx(\"button\",{onClick:onPublish,className:\"w-full mt-2 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\",\"data-testid\":\"publish-form-button\",children:\"Publish Form\"})]});};// Survey Card Component\nconst SurveyCard=_ref3=>{var _survey$questions;let{survey,onEdit,onDelete,onPublish,onViewResponses,onViewAnalytics}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition\",\"data-testid\":\"survey-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:survey.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:survey.description})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(survey.status==='active'?'bg-green-100 text-green-800':survey.status==='draft'?'bg-gray-100 text-gray-800':'bg-yellow-100 text-yellow-800'),\"data-testid\":\"survey-status\",children:survey.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mb-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Questions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:((_survey$questions=survey.questions)===null||_survey$questions===void 0?void 0:_survey$questions.length)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Responses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:survey.total_responses||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onEdit,className:\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm\",\"data-testid\":\"edit-survey-button\",children:[/*#__PURE__*/_jsx(Edit,{size:16}),\"Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onViewResponses,className:\"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\",\"data-testid\":\"view-responses-button\",children:/*#__PURE__*/_jsx(Eye,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:onViewAnalytics,className:\"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm\",\"data-testid\":\"view-survey-analytics-button\",children:/*#__PURE__*/_jsx(BarChart2,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:onDelete,className:\"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm\",\"data-testid\":\"delete-survey-button\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]}),survey.status==='draft'&&/*#__PURE__*/_jsx(\"button\",{onClick:onPublish,className:\"w-full mt-2 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\",\"data-testid\":\"publish-survey-button\",children:\"Publish Survey\"})]});};export default Forms;","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","Filter","Eye","Edit","Trash2","Copy","Download","Save","X","ArrowLeft","Settings","BarChart2","FileText","MessageSquare","CheckSquare","Calendar","Phone","Mail","Hash","AlignLeft","List","Star","Upload","Check","ChevronDown","ChevronUp","GripVertical","Link","LinkIcon","api","fieldTypes","renderFieldPreview","jsx","_jsx","jsxs","_jsxs","Forms","activeTab","setActiveTab","activeView","setActiveView","forms","setForms","currentForm","setCurrentForm","formFields","setFormFields","surveys","setSurveys","currentSurvey","setCurrentSurvey","surveyQuestions","setSurveyQuestions","submissions","setSubmissions","analytics","setAnalytics","loading","setLoading","searchQuery","setSearchQuery","statusFilter","setStatusFilter","showTemplateModal","setShowTemplateModal","selectedField","setSelectedField","stats","setStats","totalForms","totalSurveys","totalSubmissions","avgConversionRate","loadForms","loadSurveys","response","get","params","status","data","reduce","sum","f","total_submissions","avgRate","length","conversion_rate","prev","_objectSpread","total","error","console","createNewForm","newForm","name","description","fields","settings","submit_button_text","success_message","redirect_url","collect_email","require_email","post","alert","createNewSurvey","newSurvey","questions","allow_multiple_responses","show_progress_bar","randomize_questions","saveForm","put","concat","id","saveSurvey","deleteForm","formId","window","confirm","delete","deleteSurvey","surveyId","publishForm","publishSurvey","loadSubmissions","loadSurveyResponses","responses","loadAnalytics","type","endpoint","addFormField","fieldType","field","find","newField","Date","now","field_type","label","defaultConfig","placeholder","required","options","validation","order","removeFormField","fieldId","filter","updateFormField","updates","map","addSurveyQuestion","questionType","newQuestion","question_type","question_text","removeSurveyQuestion","questionId","q","updateSurveyQuestion","exportSubmissions","format","arguments","undefined","responseType","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","renderListView","className","children","size","toFixed","onClick","value","onChange","e","target","toLowerCase","includes","form","FormCard","onEdit","onDelete","onPublish","onViewSubmissions","onViewAnalytics","s","survey","SurveyCard","onViewResponses","renderFormBuilder","category","icon","index","stopPropagation","checked","Array","isArray","join","split","o","trim","rows","renderSurveyBuilder","question","num","renderSubmissionsView","submission","created_at","toLocaleDateString","Object","entries","submission_data","_ref","key","String","contact_id","renderAnalyticsView","form_name","survey_name","total_views","total_responses","completed_responses","completion_rate","_ref2","_form$fields","_ref3","_survey$questions"],"sources":["/app/frontend/src/components/Forms.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Plus, Search, Filter, Eye, Edit, Trash2, Copy, Download,\n  Save, X, ArrowLeft, Settings, BarChart2, FileText,\n  MessageSquare, CheckSquare, Calendar, Phone, Mail,\n  Hash, AlignLeft, List, Star, Upload, Check, ChevronDown,\n  ChevronUp, GripVertical, Link as LinkIcon\n} from 'lucide-react';\nimport api from '../api';\nimport { fieldTypes, renderFieldPreview } from './FormBuilder/fieldTypes';\n\nconst Forms = () => {\n  const [activeTab, setActiveTab] = useState('forms'); // 'forms' or 'surveys'\n  const [activeView, setActiveView] = useState('list'); // 'list', 'builder', 'submissions', 'analytics'\n  \n  // Forms state\n  const [forms, setForms] = useState([]);\n  const [currentForm, setCurrentForm] = useState(null);\n  const [formFields, setFormFields] = useState([]);\n  \n  // Surveys state\n  const [surveys, setSurveys] = useState([]);\n  const [currentSurvey, setCurrentSurvey] = useState(null);\n  const [surveyQuestions, setSurveyQuestions] = useState([]);\n  \n  // Common state\n  const [submissions, setSubmissions] = useState([]);\n  const [analytics, setAnalytics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [showTemplateModal, setShowTemplateModal] = useState(false);\n  const [selectedField, setSelectedField] = useState(null);\n  const [stats, setStats] = useState({\n    totalForms: 0,\n    totalSurveys: 0,\n    totalSubmissions: 0,\n    avgConversionRate: 0\n  });\n\n  useEffect(() => {\n    if (activeView === 'list') {\n      if (activeTab === 'forms') {\n        loadForms();\n      } else {\n        loadSurveys();\n      }\n    }\n  }, [activeView, activeTab, statusFilter]);\n\n  const loadForms = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/forms', {\n        params: { status: statusFilter === 'all' ? null : statusFilter }\n      });\n      setForms(response.data.forms || []);\n      \n      // Calculate stats\n      const totalSubmissions = response.data.forms.reduce((sum, f) => sum + (f.total_submissions || 0), 0);\n      const avgRate = response.data.forms.length > 0\n        ? response.data.forms.reduce((sum, f) => sum + (f.conversion_rate || 0), 0) / response.data.forms.length\n        : 0;\n      \n      setStats(prev => ({\n        ...prev,\n        totalForms: response.data.total || 0,\n        totalSubmissions,\n        avgConversionRate: avgRate\n      }));\n    } catch (error) {\n      console.error('Error loading forms:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadSurveys = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/surveys', {\n        params: { status: statusFilter === 'all' ? null : statusFilter }\n      });\n      setSurveys(response.data.surveys || []);\n      \n      setStats(prev => ({\n        ...prev,\n        totalSurveys: response.data.total || 0\n      }));\n    } catch (error) {\n      console.error('Error loading surveys:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createNewForm = async () => {\n    try {\n      const newForm = {\n        name: 'New Form',\n        description: 'Form description',\n        fields: [],\n        settings: {\n          submit_button_text: 'Submit',\n          success_message: 'Thank you for your submission!',\n          redirect_url: '',\n          collect_email: true,\n          require_email: true\n        }\n      };\n      \n      const response = await api.post('/api/forms', newForm);\n      setCurrentForm(response.data);\n      setFormFields(response.data.fields || []);\n      setActiveView('builder');\n    } catch (error) {\n      console.error('Error creating form:', error);\n      alert('Failed to create form');\n    }\n  };\n\n  const createNewSurvey = async () => {\n    try {\n      const newSurvey = {\n        name: 'New Survey',\n        description: 'Survey description',\n        questions: [],\n        settings: {\n          allow_multiple_responses: false,\n          show_progress_bar: true,\n          randomize_questions: false\n        }\n      };\n      \n      const response = await api.post('/api/surveys', newSurvey);\n      setCurrentSurvey(response.data);\n      setSurveyQuestions(response.data.questions || []);\n      setActiveView('builder');\n    } catch (error) {\n      console.error('Error creating survey:', error);\n      alert('Failed to create survey');\n    }\n  };\n\n  const saveForm = async () => {\n    if (!currentForm) return;\n    \n    try {\n      await api.put(`/api/forms/${currentForm.id}`, {\n        name: currentForm.name,\n        description: currentForm.description,\n        fields: formFields,\n        settings: currentForm.settings\n      });\n      alert('Form saved successfully!');\n      loadForms();\n    } catch (error) {\n      console.error('Error saving form:', error);\n      alert('Failed to save form');\n    }\n  };\n\n  const saveSurvey = async () => {\n    if (!currentSurvey) return;\n    \n    try {\n      await api.put(`/api/surveys/${currentSurvey.id}`, {\n        name: currentSurvey.name,\n        description: currentSurvey.description,\n        questions: surveyQuestions,\n        settings: currentSurvey.settings\n      });\n      alert('Survey saved successfully!');\n      loadSurveys();\n    } catch (error) {\n      console.error('Error saving survey:', error);\n      alert('Failed to save survey');\n    }\n  };\n\n  const deleteForm = async (formId) => {\n    if (!window.confirm('Are you sure you want to delete this form?')) return;\n    \n    try {\n      await api.delete(`/api/forms/${formId}`);\n      loadForms();\n    } catch (error) {\n      console.error('Error deleting form:', error);\n      alert('Failed to delete form');\n    }\n  };\n\n  const deleteSurvey = async (surveyId) => {\n    if (!window.confirm('Are you sure you want to delete this survey?')) return;\n    \n    try {\n      await api.delete(`/api/surveys/${surveyId}`);\n      loadSurveys();\n    } catch (error) {\n      console.error('Error deleting survey:', error);\n      alert('Failed to delete survey');\n    }\n  };\n\n  const publishForm = async (formId) => {\n    try {\n      await api.put(`/api/forms/${formId}`, { status: 'active' });\n      loadForms();\n    } catch (error) {\n      console.error('Error publishing form:', error);\n    }\n  };\n\n  const publishSurvey = async (surveyId) => {\n    try {\n      await api.put(`/api/surveys/${surveyId}`, { status: 'active' });\n      loadSurveys();\n    } catch (error) {\n      console.error('Error publishing survey:', error);\n    }\n  };\n\n  const loadSubmissions = async (formId) => {\n    try {\n      const response = await api.get(`/api/forms/${formId}/submissions`);\n      setSubmissions(response.data.submissions || []);\n      setActiveView('submissions');\n    } catch (error) {\n      console.error('Error loading submissions:', error);\n    }\n  };\n\n  const loadSurveyResponses = async (surveyId) => {\n    try {\n      const response = await api.get(`/api/surveys/${surveyId}/responses`);\n      setSubmissions(response.data.responses || []);\n      setActiveView('submissions');\n    } catch (error) {\n      console.error('Error loading responses:', error);\n    }\n  };\n\n  const loadAnalytics = async (id, type) => {\n    try {\n      const endpoint = type === 'form' ? `/api/forms/${id}/analytics` : `/api/surveys/${id}/analytics`;\n      const response = await api.get(endpoint);\n      setAnalytics(response.data);\n      setActiveView('analytics');\n    } catch (error) {\n      console.error('Error loading analytics:', error);\n    }\n  };\n\n  const addFormField = (fieldType) => {\n    const field = fieldTypes.find(f => f.id === fieldType);\n    if (!field) return;\n\n    const newField = {\n      id: `field_${Date.now()}`,\n      field_type: field.type,\n      label: field.defaultConfig.label,\n      placeholder: field.defaultConfig.placeholder || '',\n      required: field.defaultConfig.required || false,\n      options: field.defaultConfig.options || [],\n      validation: field.defaultConfig.validation || {},\n      order: formFields.length\n    };\n\n    setFormFields([...formFields, newField]);\n  };\n\n  const removeFormField = (fieldId) => {\n    setFormFields(formFields.filter(f => f.id !== fieldId));\n  };\n\n  const updateFormField = (fieldId, updates) => {\n    setFormFields(formFields.map(f => f.id === fieldId ? { ...f, ...updates } : f));\n  };\n\n  const addSurveyQuestion = (questionType) => {\n    const newQuestion = {\n      id: `question_${Date.now()}`,\n      question_type: questionType,\n      question_text: 'Enter your question',\n      required: true,\n      options: questionType === 'multiple_choice' || questionType === 'checkbox' ? ['Option 1', 'Option 2', 'Option 3'] : [],\n      order: surveyQuestions.length\n    };\n\n    setSurveyQuestions([...surveyQuestions, newQuestion]);\n  };\n\n  const removeSurveyQuestion = (questionId) => {\n    setSurveyQuestions(surveyQuestions.filter(q => q.id !== questionId));\n  };\n\n  const updateSurveyQuestion = (questionId, updates) => {\n    setSurveyQuestions(surveyQuestions.map(q => q.id === questionId ? { ...q, ...updates } : q));\n  };\n\n  const exportSubmissions = async (formId, format = 'csv') => {\n    try {\n      const response = await api.get(`/api/forms/${formId}/export`, {\n        params: { format },\n        responseType: 'blob'\n      });\n      \n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `form_submissions.${format === 'csv' ? 'csv' : 'xlsx'}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    } catch (error) {\n      console.error('Error exporting submissions:', error);\n    }\n  };\n\n  // Render List View\n  const renderListView = () => (\n    <div className=\"space-y-6\">\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Forms</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.totalForms}</p>\n            </div>\n            <div className=\"bg-blue-100 p-3 rounded-lg\">\n              <FileText className=\"text-blue-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Surveys</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.totalSurveys}</p>\n            </div>\n            <div className=\"bg-purple-100 p-3 rounded-lg\">\n              <MessageSquare className=\"text-purple-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Submissions</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.totalSubmissions}</p>\n            </div>\n            <div className=\"bg-green-100 p-3 rounded-lg\">\n              <CheckSquare className=\"text-green-600\" size={24} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Avg Conversion</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.avgConversionRate.toFixed(1)}%</p>\n            </div>\n            <div className=\"bg-orange-100 p-3 rounded-lg\">\n              <BarChart2 className=\"text-orange-600\" size={24} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"border-b border-gray-200\">\n          <div className=\"flex items-center justify-between p-4\">\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setActiveTab('forms')}\n                className={`px-4 py-2 rounded-lg font-medium transition ${\n                  activeTab === 'forms'\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-600 hover:bg-gray-100'\n                }`}\n                data-testid=\"forms-tab\"\n              >\n                <FileText className=\"inline mr-2\" size={18} />\n                Forms\n              </button>\n              <button\n                onClick={() => setActiveTab('surveys')}\n                className={`px-4 py-2 rounded-lg font-medium transition ${\n                  activeTab === 'surveys'\n                    ? 'bg-purple-600 text-white'\n                    : 'text-gray-600 hover:bg-gray-100'\n                }`}\n                data-testid=\"surveys-tab\"\n              >\n                <MessageSquare className=\"inline mr-2\" size={18} />\n                Surveys\n              </button>\n            </div>\n\n            <button\n              onClick={activeTab === 'forms' ? createNewForm : createNewSurvey}\n              className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n              data-testid=\"create-new-button\"\n            >\n              <Plus size={20} />\n              Create {activeTab === 'forms' ? 'Form' : 'Survey'}\n            </button>\n          </div>\n\n          {/* Filters */}\n          <div className=\"flex items-center gap-4 px-4 pb-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n              <input\n                type=\"text\"\n                placeholder={`Search ${activeTab}...`}\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                data-testid=\"search-input\"\n              />\n            </div>\n\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              data-testid=\"status-filter\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"draft\">Draft</option>\n              <option value=\"active\">Active</option>\n              <option value=\"paused\">Paused</option>\n              <option value=\"archived\">Archived</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Items List */}\n        <div className=\"p-4\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n              <p className=\"mt-4 text-gray-600\">Loading...</p>\n            </div>\n          ) : activeTab === 'forms' ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {forms.filter(f => f.name.toLowerCase().includes(searchQuery.toLowerCase())).map(form => (\n                <FormCard\n                  key={form.id}\n                  form={form}\n                  onEdit={() => {\n                    setCurrentForm(form);\n                    setFormFields(form.fields || []);\n                    setActiveView('builder');\n                  }}\n                  onDelete={() => deleteForm(form.id)}\n                  onPublish={() => publishForm(form.id)}\n                  onViewSubmissions={() => {\n                    setCurrentForm(form);\n                    loadSubmissions(form.id);\n                  }}\n                  onViewAnalytics={() => {\n                    setCurrentForm(form);\n                    loadAnalytics(form.id, 'form');\n                  }}\n                />\n              ))}\n              {forms.length === 0 && (\n                <div className=\"col-span-3 text-center py-12\">\n                  <FileText className=\"mx-auto text-gray-400\" size={48} />\n                  <p className=\"mt-4 text-gray-600\">No forms yet. Create your first form!</p>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {surveys.filter(s => s.name.toLowerCase().includes(searchQuery.toLowerCase())).map(survey => (\n                <SurveyCard\n                  key={survey.id}\n                  survey={survey}\n                  onEdit={() => {\n                    setCurrentSurvey(survey);\n                    setSurveyQuestions(survey.questions || []);\n                    setActiveView('builder');\n                  }}\n                  onDelete={() => deleteSurvey(survey.id)}\n                  onPublish={() => publishSurvey(survey.id)}\n                  onViewResponses={() => {\n                    setCurrentSurvey(survey);\n                    loadSurveyResponses(survey.id);\n                  }}\n                  onViewAnalytics={() => {\n                    setCurrentSurvey(survey);\n                    loadAnalytics(survey.id, 'survey');\n                  }}\n                />\n              ))}\n              {surveys.length === 0 && (\n                <div className=\"col-span-3 text-center py-12\">\n                  <MessageSquare className=\"mx-auto text-gray-400\" size={48} />\n                  <p className=\"mt-4 text-gray-600\">No surveys yet. Create your first survey!</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  // Render Form Builder\n  const renderFormBuilder = () => (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => {\n              setActiveView('list');\n              setCurrentForm(null);\n              setFormFields([]);\n            }}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\n            data-testid=\"back-to-list-button\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div>\n            <input\n              type=\"text\"\n              value={currentForm?.name || ''}\n              onChange={(e) => setCurrentForm({ ...currentForm, name: e.target.value })}\n              className=\"text-xl font-bold border-b-2 border-transparent hover:border-gray-300 focus:border-blue-500 outline-none\"\n              data-testid=\"form-name-input\"\n            />\n            <p className=\"text-sm text-gray-600 mt-1\">{formFields.length} fields</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={saveForm}\n            className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n            data-testid=\"save-form-button\"\n          >\n            <Save size={20} />\n            Save Form\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4\">\n        {/* Field Library */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-semibold text-gray-900 mb-4\">Field Types</h3>\n          <div className=\"space-y-2\">\n            {fieldTypes.filter(f => f.category === 'basic').map(field => (\n              <button\n                key={field.id}\n                onClick={() => addFormField(field.id)}\n                className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition\"\n                data-testid={`add-field-${field.id}`}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-2xl\">{field.icon}</span>\n                  <span className=\"font-medium\">{field.name}</span>\n                </div>\n              </button>\n            ))}\n\n            <div className=\"pt-4 border-t mt-4\">\n              <p className=\"text-xs text-gray-600 mb-2 font-semibold\">ADVANCED</p>\n              {fieldTypes.filter(f => f.category === 'choice' || f.category === 'advanced').map(field => (\n                <button\n                  key={field.id}\n                  onClick={() => addFormField(field.id)}\n                  className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition mb-2\"\n                  data-testid={`add-field-${field.id}`}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-2xl\">{field.icon}</span>\n                    <span className=\"font-medium\">{field.name}</span>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Form Canvas */}\n        <div className=\"lg:col-span-2 bg-white rounded-lg shadow p-6\">\n          <h3 className=\"font-semibold text-gray-900 mb-4\">Form Preview</h3>\n          <div className=\"space-y-4\">\n            {formFields.length === 0 ? (\n              <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                <FileText className=\"mx-auto text-gray-400\" size={48} />\n                <p className=\"mt-4 text-gray-600\">Add fields from the left panel to start building your form</p>\n              </div>\n            ) : (\n              formFields.map((field, index) => (\n                <div\n                  key={field.id}\n                  onClick={() => setSelectedField(field)}\n                  className={`p-4 border-2 rounded-lg cursor-pointer transition ${\n                    selectedField?.id === field.id\n                      ? 'border-blue-500 bg-blue-50'\n                      : 'border-gray-200 hover:border-gray-400'\n                  }`}\n                  data-testid={`form-field-${index}`}\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        {field.label}\n                        {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n                      </label>\n                      {renderFieldPreview(field, '', () => {})}\n                    </div>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        removeFormField(field.id);\n                      }}\n                      className=\"text-red-600 hover:text-red-800 ml-2\"\n                      data-testid={`remove-field-${index}`}\n                    >\n                      <Trash2 size={18} />\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Field Settings */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-semibold text-gray-900 mb-4\">Field Settings</h3>\n          {selectedField ? (\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Label</label>\n                <input\n                  type=\"text\"\n                  value={selectedField.label}\n                  onChange={(e) => updateFormField(selectedField.id, { label: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  data-testid=\"field-label-input\"\n                />\n              </div>\n\n              {selectedField.placeholder !== undefined && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Placeholder</label>\n                  <input\n                    type=\"text\"\n                    value={selectedField.placeholder}\n                    onChange={(e) => updateFormField(selectedField.id, { placeholder: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    data-testid=\"field-placeholder-input\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedField.required}\n                    onChange={(e) => updateFormField(selectedField.id, { required: e.target.checked })}\n                    className=\"w-4 h-4 text-blue-600 rounded\"\n                    data-testid=\"field-required-checkbox\"\n                  />\n                  <span className=\"text-sm font-medium text-gray-700\">Required Field</span>\n                </label>\n              </div>\n\n              {selectedField.options !== undefined && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Options</label>\n                  <textarea\n                    value={Array.isArray(selectedField.options) ? selectedField.options.join('\\n') : ''}\n                    onChange={(e) => updateFormField(selectedField.id, { \n                      options: e.target.value.split('\\n').filter(o => o.trim()) \n                    })}\n                    rows={4}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"One option per line\"\n                    data-testid=\"field-options-textarea\"\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-sm text-gray-600\">Select a field to edit its settings</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  // Render Survey Builder\n  const renderSurveyBuilder = () => (\n    <div className=\"space-y-4\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => {\n              setActiveView('list');\n              setCurrentSurvey(null);\n              setSurveyQuestions([]);\n            }}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\n            data-testid=\"back-to-list-button\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div>\n            <input\n              type=\"text\"\n              value={currentSurvey?.name || ''}\n              onChange={(e) => setCurrentSurvey({ ...currentSurvey, name: e.target.value })}\n              className=\"text-xl font-bold border-b-2 border-transparent hover:border-gray-300 focus:border-blue-500 outline-none\"\n              data-testid=\"survey-name-input\"\n            />\n            <p className=\"text-sm text-gray-600 mt-1\">{surveyQuestions.length} questions</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={saveSurvey}\n            className=\"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition\"\n            data-testid=\"save-survey-button\"\n          >\n            <Save size={20} />\n            Save Survey\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4\">\n        {/* Question Types */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"font-semibold text-gray-900 mb-4\">Question Types</h3>\n          <div className=\"space-y-2\">\n            <button\n              onClick={() => addSurveyQuestion('text')}\n              className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\"\n              data-testid=\"add-question-text\"\n            >\n              <div className=\"flex items-center gap-2\">\n                <AlignLeft size={20} />\n                <span className=\"font-medium\">Short Answer</span>\n              </div>\n            </button>\n\n            <button\n              onClick={() => addSurveyQuestion('textarea')}\n              className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\"\n              data-testid=\"add-question-textarea\"\n            >\n              <div className=\"flex items-center gap-2\">\n                <FileText size={20} />\n                <span className=\"font-medium\">Long Answer</span>\n              </div>\n            </button>\n\n            <button\n              onClick={() => addSurveyQuestion('multiple_choice')}\n              className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\"\n              data-testid=\"add-question-multiple-choice\"\n            >\n              <div className=\"flex items-center gap-2\">\n                <List size={20} />\n                <span className=\"font-medium\">Multiple Choice</span>\n              </div>\n            </button>\n\n            <button\n              onClick={() => addSurveyQuestion('checkbox')}\n              className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\"\n              data-testid=\"add-question-checkbox\"\n            >\n              <div className=\"flex items-center gap-2\">\n                <CheckSquare size={20} />\n                <span className=\"font-medium\">Checkboxes</span>\n              </div>\n            </button>\n\n            <button\n              onClick={() => addSurveyQuestion('rating')}\n              className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition\"\n              data-testid=\"add-question-rating\"\n            >\n              <div className=\"flex items-center gap-2\">\n                <Star size={20} />\n                <span className=\"font-medium\">Rating</span>\n              </div>\n            </button>\n          </div>\n        </div>\n\n        {/* Survey Canvas */}\n        <div className=\"lg:col-span-3 bg-white rounded-lg shadow p-6\">\n          <h3 className=\"font-semibold text-gray-900 mb-4\">Survey Preview</h3>\n          <div className=\"space-y-4\">\n            {surveyQuestions.length === 0 ? (\n              <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                <MessageSquare className=\"mx-auto text-gray-400\" size={48} />\n                <p className=\"mt-4 text-gray-600\">Add questions from the left panel to start building your survey</p>\n              </div>\n            ) : (\n              surveyQuestions.map((question, index) => (\n                <div\n                  key={question.id}\n                  className=\"p-4 border-2 border-gray-200 rounded-lg\"\n                  data-testid={`survey-question-${index}`}\n                >\n                  <div className=\"flex items-start gap-4\">\n                    <span className=\"bg-purple-100 text-purple-600 font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0\">\n                      {index + 1}\n                    </span>\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        value={question.question_text}\n                        onChange={(e) => updateSurveyQuestion(question.id, { question_text: e.target.value })}\n                        className=\"w-full text-lg font-medium border-b-2 border-transparent hover:border-gray-300 focus:border-purple-500 outline-none mb-3\"\n                        placeholder=\"Enter your question\"\n                        data-testid={`question-text-${index}`}\n                      />\n\n                      {(question.question_type === 'multiple_choice' || question.question_type === 'checkbox') && (\n                        <div className=\"space-y-2\">\n                          <textarea\n                            value={Array.isArray(question.options) ? question.options.join('\\n') : ''}\n                            onChange={(e) => updateSurveyQuestion(question.id, { \n                              options: e.target.value.split('\\n').filter(o => o.trim()) \n                            })}\n                            rows={3}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                            placeholder=\"One option per line\"\n                            data-testid={`question-options-${index}`}\n                          />\n                        </div>\n                      )}\n\n                      {question.question_type === 'rating' && (\n                        <div className=\"flex gap-2 mt-2\">\n                          {[1, 2, 3, 4, 5].map(num => (\n                            <button key={num} className=\"w-10 h-10 border-2 border-gray-300 rounded-lg hover:bg-purple-50\">\n                              {num}\n                            </button>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    <button\n                      onClick={() => removeSurveyQuestion(question.id)}\n                      className=\"text-red-600 hover:text-red-800\"\n                      data-testid={`remove-question-${index}`}\n                    >\n                      <Trash2 size={18} />\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // Render Submissions View\n  const renderSubmissionsView = () => (\n    <div className=\"space-y-4\">\n      <div className=\"bg-white rounded-lg shadow p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => setActiveView('list')}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\n            data-testid=\"back-to-list-button\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900\">\n              {activeTab === 'forms' ? 'Form Submissions' : 'Survey Responses'}\n            </h2>\n            <p className=\"text-sm text-gray-600\">{currentForm?.name || currentSurvey?.name}</p>\n          </div>\n        </div>\n\n        {activeTab === 'forms' && currentForm && (\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => exportSubmissions(currentForm.id, 'csv')}\n              className=\"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition\"\n              data-testid=\"export-csv-button\"\n            >\n              <Download size={20} />\n              Export CSV\n            </button>\n            <button\n              onClick={() => exportSubmissions(currentForm.id, 'excel')}\n              className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n              data-testid=\"export-excel-button\"\n            >\n              <Download size={20} />\n              Export Excel\n            </button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\" data-testid=\"submissions-table\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Submitted At\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Data\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Contact ID\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {submissions.map((submission, index) => (\n                <tr key={submission.id} data-testid={`submission-row-${index}`}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {new Date(submission.created_at).toLocaleDateString()}\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">\n                    <div className=\"space-y-1\">\n                      {Object.entries(submission.submission_data || submission.responses || {}).map(([key, value]) => (\n                        <div key={key}>\n                          <span className=\"font-medium\">{key}:</span>{' '}\n                          {Array.isArray(value) ? value.join(', ') : String(value)}\n                        </div>\n                      ))}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {submission.contact_id || 'N/A'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          {submissions.length === 0 && (\n            <div className=\"text-center py-12\">\n              <CheckSquare className=\"mx-auto text-gray-400\" size={48} />\n              <p className=\"mt-4 text-gray-600\">No submissions yet</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  // Render Analytics View\n  const renderAnalyticsView = () => (\n    <div className=\"space-y-4\">\n      <div className=\"bg-white rounded-lg shadow p-4 flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => setActiveView('list')}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\n            data-testid=\"back-to-list-button\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-900\">Analytics</h2>\n            <p className=\"text-sm text-gray-600\">{analytics?.form_name || analytics?.survey_name}</p>\n          </div>\n        </div>\n      </div>\n\n      {analytics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">\n                  {activeTab === 'forms' ? 'Total Views' : 'Total Responses'}\n                </p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {analytics.total_views || analytics.total_responses || 0}\n                </p>\n              </div>\n              <div className=\"bg-blue-100 p-3 rounded-lg\">\n                <Eye className=\"text-blue-600\" size={24} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">\n                  {activeTab === 'forms' ? 'Total Submissions' : 'Completed'}\n                </p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {analytics.total_submissions || analytics.completed_responses || 0}\n                </p>\n              </div>\n              <div className=\"bg-green-100 p-3 rounded-lg\">\n                <CheckSquare className=\"text-green-600\" size={24} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">\n                  {activeTab === 'forms' ? 'Conversion Rate' : 'Completion Rate'}\n                </p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {analytics.conversion_rate || analytics.completion_rate || 0}%\n                </p>\n              </div>\n              <div className=\"bg-orange-100 p-3 rounded-lg\">\n                <BarChart2 className=\"text-orange-600\" size={24} />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {activeView === 'list' && renderListView()}\n        {activeView === 'builder' && (activeTab === 'forms' ? renderFormBuilder() : renderSurveyBuilder())}\n        {activeView === 'submissions' && renderSubmissionsView()}\n        {activeView === 'analytics' && renderAnalyticsView()}\n      </div>\n    </div>\n  );\n};\n\n// Form Card Component\nconst FormCard = ({ form, onEdit, onDelete, onPublish, onViewSubmissions, onViewAnalytics }) => (\n  <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition\" data-testid=\"form-card\">\n    <div className=\"flex items-start justify-between mb-3\">\n      <div className=\"flex-1\">\n        <h3 className=\"font-semibold text-gray-900\">{form.name}</h3>\n        <p className=\"text-sm text-gray-600 mt-1\">{form.description}</p>\n      </div>\n      <span className={`px-2 py-1 rounded text-xs font-medium ${\n        form.status === 'active' ? 'bg-green-100 text-green-800' :\n        form.status === 'draft' ? 'bg-gray-100 text-gray-800' :\n        'bg-yellow-100 text-yellow-800'\n      }`} data-testid=\"form-status\">\n        {form.status}\n      </span>\n    </div>\n\n    <div className=\"grid grid-cols-3 gap-2 mb-4 text-sm\">\n      <div className=\"text-center p-2 bg-gray-50 rounded\">\n        <p className=\"text-gray-600\">Fields</p>\n        <p className=\"font-semibold\">{form.fields?.length || 0}</p>\n      </div>\n      <div className=\"text-center p-2 bg-gray-50 rounded\">\n        <p className=\"text-gray-600\">Views</p>\n        <p className=\"font-semibold\">{form.total_views || 0}</p>\n      </div>\n      <div className=\"text-center p-2 bg-gray-50 rounded\">\n        <p className=\"text-gray-600\">Submits</p>\n        <p className=\"font-semibold\">{form.total_submissions || 0}</p>\n      </div>\n    </div>\n\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={onEdit}\n        className=\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm\"\n        data-testid=\"edit-form-button\"\n      >\n        <Edit size={16} />\n        Edit\n      </button>\n      <button\n        onClick={onViewSubmissions}\n        className=\"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\n        data-testid=\"view-submissions-button\"\n      >\n        <Eye size={16} />\n      </button>\n      <button\n        onClick={onViewAnalytics}\n        className=\"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm\"\n        data-testid=\"view-analytics-button\"\n      >\n        <BarChart2 size={16} />\n      </button>\n      <button\n        onClick={onDelete}\n        className=\"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm\"\n        data-testid=\"delete-form-button\"\n      >\n        <Trash2 size={16} />\n      </button>\n    </div>\n\n    {form.status === 'draft' && (\n      <button\n        onClick={onPublish}\n        className=\"w-full mt-2 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\n        data-testid=\"publish-form-button\"\n      >\n        Publish Form\n      </button>\n    )}\n  </div>\n);\n\n// Survey Card Component\nconst SurveyCard = ({ survey, onEdit, onDelete, onPublish, onViewResponses, onViewAnalytics }) => (\n  <div className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition\" data-testid=\"survey-card\">\n    <div className=\"flex items-start justify-between mb-3\">\n      <div className=\"flex-1\">\n        <h3 className=\"font-semibold text-gray-900\">{survey.name}</h3>\n        <p className=\"text-sm text-gray-600 mt-1\">{survey.description}</p>\n      </div>\n      <span className={`px-2 py-1 rounded text-xs font-medium ${\n        survey.status === 'active' ? 'bg-green-100 text-green-800' :\n        survey.status === 'draft' ? 'bg-gray-100 text-gray-800' :\n        'bg-yellow-100 text-yellow-800'\n      }`} data-testid=\"survey-status\">\n        {survey.status}\n      </span>\n    </div>\n\n    <div className=\"grid grid-cols-2 gap-2 mb-4 text-sm\">\n      <div className=\"text-center p-2 bg-gray-50 rounded\">\n        <p className=\"text-gray-600\">Questions</p>\n        <p className=\"font-semibold\">{survey.questions?.length || 0}</p>\n      </div>\n      <div className=\"text-center p-2 bg-gray-50 rounded\">\n        <p className=\"text-gray-600\">Responses</p>\n        <p className=\"font-semibold\">{survey.total_responses || 0}</p>\n      </div>\n    </div>\n\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={onEdit}\n        className=\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm\"\n        data-testid=\"edit-survey-button\"\n      >\n        <Edit size={16} />\n        Edit\n      </button>\n      <button\n        onClick={onViewResponses}\n        className=\"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\n        data-testid=\"view-responses-button\"\n      >\n        <Eye size={16} />\n      </button>\n      <button\n        onClick={onViewAnalytics}\n        className=\"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm\"\n        data-testid=\"view-survey-analytics-button\"\n      >\n        <BarChart2 size={16} />\n      </button>\n      <button\n        onClick={onDelete}\n        className=\"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm\"\n        data-testid=\"delete-survey-button\"\n      >\n        <Trash2 size={16} />\n      </button>\n    </div>\n\n    {survey.status === 'draft' && (\n      <button\n        onClick={onPublish}\n        className=\"w-full mt-2 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\n        data-testid=\"publish-survey-button\"\n      >\n        Publish Survey\n      </button>\n    )}\n  </div>\n);\n\nexport default Forms;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}